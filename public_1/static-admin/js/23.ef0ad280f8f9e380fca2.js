(window.webpackJsonp=window.webpackJsonp||[]).push([[23,9],{"0Y4v":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"table-no-list"}},"5kPI":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont-arrange-box"},[a("div",{staticClass:"cont-arrange-main"},[a("div",{staticClass:"cont-arrange__lf-side"},[t._t("side")],2),t._v(" "),a("main",{staticClass:"cont-arrange__rt-main"},[a("div",{staticClass:"cont-arrange__rt-main-header"},[a("div",{staticClass:"cont-arrange__rt-main-header__release"},[t.$attrs.author?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/pages/profile/index?userId="+t.$attrs.userId,target:"_blank"}},[t._v("\n              "+t._s(t.$attrs.author)+"\n            ")])]):t._e(),t._v(" "),t.$attrs.replyBy?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/pages/profile/index?userId="+t.$attrs.userId,target:"_blank"}},[t._v("\n              "+t._s(t.$attrs.replyBy)+"\n            ")])]):t._e(),t._v(" "),t.$attrs.establish?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/pages/profile/index?userId="+t.$attrs.userId,target:"_blank"}},[t._v("\n              "+t._s(t.$attrs.establish)+"\n            ")])]):t._e(),t._v(" "),t.$attrs.author?a("span",[t._v("发布于")]):t._e(),t._v(" "),t.$attrs.establish?a("span",[t._v("创建于")]):t._e(),t._v(" "),t.$attrs.replyBy?a("span",[t._v("回复主题")]):t._e(),t._v(" "),t.$attrs.time?a("p",[t._v(t._s(t.$attrs.time))]):t._e(),t._v(" "),t.$attrs.theme?a("p",[t._v(t._s(t.$attrs.theme))]):t._e(),t._v(" "),t.$attrs.themeName?a("p",{ref:"themeName",class:t.$attrs.themeName?"themeName":"",style:t.themeNameStyle},[t._v("\n            "+t._s(t.$attrs.themeName)+"\n            "),t.$attrs.titleIcon?a("span",{staticClass:"iconfont cont-arrange__rt-main-header__release-title-icon",class:t.$attrs.titleIcon}):t._e()]):t._e()]),t._v(" "),t.$attrs.prply>=0&&t.$attrs.browse>=0?a("div",{staticClass:"cont-arrange__rt-main-header__reply-view rt-box"},[a("span",[t._v("回复/查看：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.prply)+"/"+t._s(t.$attrs.browse))])]):t._e(),t._v(" "),t.$attrs.last?a("div",{staticClass:"cont-arrange__rt-main-header__last-reply rt-box"},[a("span",[t._v("最后回复：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.last))])]):t._e(),t._v(" "),t.$attrs.ip?a("div",{staticClass:" rt-box"},[a("span",[t._v("IP：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.ip))])]):t._e(),t._v(" "),t.$attrs.releaseTime?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[t._v("发布时间：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.releaseTime))])]):t._e(),t._v(" "),t.$attrs.finalPost?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[t._v("更新时间：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.finalPost))])]):t._e(),t._v(" "),t.$attrs.deleTime?a("div",{staticClass:" rt-box"},[a("span",[t._v("删除时间：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.deleTime))])]):t._e(),t._v(" "),t.$attrs.numbertopic>=0?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[t._v("主题数：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.numbertopic))])]):t._e(),t._v(" "),t.$attrs.heatNumber>=0?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[t._v("热度数：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.heatNumber))])]):t._e(),t._v(" "),t.$attrs.type?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[t._v("类型：")]),t._v(" "),a("span",[t._v(t._s(t.$attrs.type))])]):t._e(),t._v(" "),t._t("header")],2),t._v(" "),t.$slots.longText?a("div",{staticClass:"cont-arrange__rt-main-long-text"},[t._t("longText")],2):t._e(),t._v(" "),a("div",{ref:"contMain",staticClass:"cont-arrange__rt-main-box",style:{height:t.showContStatus?t.mainHeight+30+"px":t.mainHeight>78?"78PX":""}},[t._t("main")],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.mainHeight>78,expression:"mainHeight > 78"}],ref:"contControl",staticClass:"cont-block-control",class:t.showBottomStatus?"is-bottom-out":"",on:{click:t.showCont}},[a("p",[a("span",{staticClass:"iconfont icondown-menu",class:t.showContStatus?"show-down":""}),t._v("\n          "+t._s(t.showContStatus?"收起详情":"展开详情")+"\n        ")])]),t._v(" "),t.$slots.footer?a("div",{staticClass:"cont-arrange__rt-main-footer"},[t._t("footer")],2):t._e()])])])},s=[]},"5shi":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a("QbLZ"));a("gtKr");var s=i(a("u8Dz"));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({name:"cont-arrange-view"},s.default)},"7qpD":function(t,e,a){"use strict";a.r(e);var n=a("INw2"),s=a("EFx4");for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);a("hc7x");var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,"7d149013",null);e.default=o.exports},Dt3C:function(t,e,a){"use strict";a.r(e);var n=a("5kPI"),s=a("aoOm");for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=o.exports},EFx4:function(t,e,a){"use strict";a.r(e);var n=a("0Y4v"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},FjbM:function(t,e,a){"use strict";a.r(e);var n=a("bZfn"),s=a("KDx3");for(var i in s)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);e.default=o.exports},INw2:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this.$createElement;this._self._c;return this._m(0)},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"table-no-list"},[e("p",[this._v("暂无数据")])])}]},J6oF:function(t,e,a){"use strict";a.r(e),e.default={el:{colorpicker:{confirm:"باشد",clear:"حذف"},datepicker:{now:"اکنون",today:"امروز",cancel:"لغو",clear:"حذف",confirm:"باشه",selectDate:"انتخاب تاریخ",selectTime:"انتخاب زمان",startDate:"تاریخ شروع",startTime:"زمان شروع",endDate:"تاریخ پایان",endTime:"زمان پایان",prevYear:"سال قبل",nextYear:"سال بعد",prevMonth:"ماه قبل",nextMonth:"ماه بعد",year:"سال",month1:"ژانویه",month2:"فوریه",month3:"مارس",month4:"آوریل",month5:"مه",month6:"ژوئن",month7:"جولای",month8:"اوت",month9:"سپتامبر",month10:"اکتبر",month11:"نوامبر",month12:"دسامبر",weeks:{sun:"یکشنبه",mon:"دوشنبه",tue:"سه​شنبه",wed:"چهارشنبه",thu:"پنج​شنبه",fri:"جمعه",sat:"شنبه"},months:{jan:"ژانویه",feb:"فوریه",mar:"مارس",apr:"آوریل",may:"مه",jun:"ژوئن",jul:"جولای",aug:"اوت",sep:"سپتامبر",oct:"اکتبر",nov:"نوامبر",dec:"دسامبر"}},select:{loading:"بارگیری",noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",placeholder:"انتخاب کنید"},cascader:{noMatch:"هیچ داده‌ای پیدا نشد",loading:"بارگیری",placeholder:"انتخاب کنید",noData:"اطلاعاتی وجود ندارد"},pagination:{goto:"برو به",pagesize:"/صفحه",total:"مجموع {total}",pageClassifier:""},messagebox:{title:"پیام",confirm:"باشه",cancel:"لغو",error:"ورودی غیر مجاز"},upload:{deleteTip:"برای پاک کردن حذف را فشار دهید",delete:"حذف",preview:"پیش‌نمایش",continue:"ادامه"},table:{emptyText:"اطلاعاتی وجود ندارد",confirmFilter:"تایید",resetFilter:"حذف",clearFilter:"همه",sumText:"جمع"},tree:{emptyText:"اطلاعاتی وجود ندارد"},transfer:{noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",titles:["لیست 1","لیست 2"],filterPlaceholder:"کلید واژه هارو وارد کن",noCheckedFormat:"{total} مورد",hasCheckedFormat:"{checked} مورد از {total} مورد انتخاب شده است"},image:{error:"خطا در بارگیری تصویر"},pageHeader:{title:"بازگشت"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}}},KDx3:function(t,e,a){"use strict";a.r(e);var n=a("pJ1T"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},Kvoi:function(t,e,a){},aoOm:function(t,e,a){"use strict";a.r(e);var n=a("5shi"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e.default=s.a},bZfn:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont-manage-box"},[a("div",{staticClass:"cont-manage-header"},[a("div",{staticClass:"cont-manage-header_top condition-box"},[a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-lf"},[a("span",{staticClass:"cont-manage-header_condition-title"},[t._v("作者：")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.topicAuthor,callback:function(e){t.$set(t.searchData,"topicAuthor",e)},expression:"searchData.topicAuthor"}})],1),t._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-rhs"},[a("span",{staticClass:"cont-manage-header_condition-title"},[t._v("话题：")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.topicContent,callback:function(e){t.$set(t.searchData,"topicContent",e)},expression:"searchData.topicContent"}})],1),t._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-mid"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[t._v("创建时间范围：")]),t._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"",size:"medium","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.searchData.releaseTime,callback:function(e){t.$set(t.searchData,"releaseTime",e)},expression:"searchData.releaseTime"}})],1)]),t._v(" "),a("div",{staticClass:"cont-manage-header_bottom condition-box"},[a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles"},[t._v("主题数介于：")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.numberOfThreadMin,callback:function(e){t.$set(t.searchData,"numberOfThreadMin",e)},expression:"searchData.numberOfThreadMin"}}),t._v(" "),a("div",{staticClass:"spacing"},[t._v("-")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.numberOfThreadMax,callback:function(e){t.$set(t.searchData,"numberOfThreadMax",e)},expression:"searchData.numberOfThreadMax"}})],1),t._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[t._v("热度数介于：")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.numberOfHotMin,callback:function(e){t.$set(t.searchData,"numberOfHotMin",e)},expression:"searchData.numberOfHotMin"}}),t._v(" "),a("div",{staticClass:"spacing"},[t._v("-")]),t._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:t.searchData.numberOfHotMax,callback:function(e){t.$set(t.searchData,"numberOfHotMax",e)},expression:"searchData.numberOfHotMax"}})],1),t._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles condttions-titles",staticStyle:{"padding-left":"20px"}},[t._v("推荐：")]),t._v(" "),a("el-select",{attrs:{clearable:!0,placeholder:"请选择"},on:{change:t.obtainValue},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.searchClick}},[t._v("搜索")])],1)])]),t._v(" "),a("div",{staticClass:"cont-manage-theme"},[a("div",{staticClass:"cont-manage-theme__table"},[t._m(0),t._v(" "),t._l(t.themeList,(function(e,n){return a("ContArrange",{key:e._data.id,attrs:{establish:e.user?e.user._data.username:"该用户被删除",theme:t.formatDate(e._data.created_at),numbertopic:e._data.thread_count,heatNumber:e._data.view_count,userId:e._data.user_id}},[a("div",{staticClass:"cont-manage-theme__table-side",attrs:{slot:"side"},slot:"side"},[a("el-radio-group",{on:{change:function(a){return t.themidpost(a,e._data.id)}},model:{value:t.radio[n],callback:function(e){t.$set(t.radio,n,e)},expression:"radio[index]"}},[a("el-radio",{attrs:{label:1}},[t._v("推荐")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("取消")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("删除")])],1)],1),t._v(" "),a("p",{staticClass:"cont-manage-theme__table-long-text",staticStyle:{cursor:"pointer"},attrs:{slot:"longText"},on:{click:function(a){return t.$router.push({path:"/admin/cont-manage/topic",query:{id:e._data.id}})}},slot:"longText"},[t._v("\n          "+t._s("#"+e._data.content+"#")+"\n        ")]),t._v(" "),a("div",{staticClass:"cont-manage-theme__table-main tables-main",attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"cont-manage-theme__table-main-bigbox"},[a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",on:{click:function(a){return t.btnrecomment(e._data.id,e._data.recommended)}}},[t._v(t._s(1===e._data.recommended?t.recomment2:t.recomment1))]),t._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-span"}),t._v(" "),a("el-popover",{ref:"popover-"+n,refInFor:!0,attrs:{width:"100",placement:"top"}},[a("p",[t._v("确定删除该项吗？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.closeDelet("popover-"+n)}}},[t._v("\n                取消\n              ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.deteleTopic(e._data.id),t.closeDelet("popover-"+n)}}},[t._v("确定")])],1),t._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",attrs:{slot:"reference"},slot:"reference"},[t._v("删除")])])],1)])])})),t._v(" "),t.showViewer?a("el-image-viewer",{attrs:{"on-close":t.closeViewer,"url-list":t.url}}):t._e(),t._v(" "),a("tableNoList",{directives:[{name:"show",rawName:"v-show",value:t.themeList.length<1,expression:"themeList.length < 1"}]}),t._v(" "),t.pageCount>1?a("div",{staticClass:"cont-manage-theme__table-footer"},[a("Page",{attrs:{"current-page":t.currentPag,"page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1):t._e()],2)]),t._v(" "),a("div",{staticClass:"cont-manage-operating"},[a("Card",{staticClass:"footer-btn"},[a("el-button",{attrs:{loading:t.subLoading,type:"primary"},on:{click:t.btnSubmit}},[t._v("提交")]),t._v(" "),a("span",{staticClass:"cont-manage-operating-all operating-alls",on:{click:function(e){return t.allRecomment(1,t.themeListAll,1)}}},[t._v("全部推荐")]),t._v(" "),a("span",{staticClass:"cont-manage-operating-all",on:{click:function(e){return t.allRecomment(0,t.themeListAll,1)}}},[t._v("全部取消推荐")]),t._v(" "),a("el-popover",{attrs:{width:"100",placement:"top"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",[t._v("确定删除该项吗？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.visible=!1}}},[t._v("\n                取消\n              ")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.deleteClick(t.themeListAll,1),t.visible=!1}}},[t._v("确定")])],1),t._v(" "),a("span",{staticClass:"cont-manage-operating-all",attrs:{slot:"reference"},slot:"reference"},[t._v("全部删除")])])],1)],1)])},s=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cont-manage-theme__table-header"},[e("p",{staticClass:"cont-manage-theme__table-header__title"},[this._v("主题列表")])])}]},gtKr:function(t,e,a){},hc7x:function(t,e,a){"use strict";a("Kvoi")},pJ1T:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(a("QbLZ"));a("lL+3");var s=i(a("wptx"));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({name:"topic-management-view"},s.default)},u8Dz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{showContStatus:!1,showBottomStatus:!1,mainHeight:0,windowWidth:0,themeNameLeft:70,themeNameStyle:{left:"70",width:"calc(100% - "}}},props:{},methods:{showCont:function(){this.mainHeight=this.$slots.main[0].elm.offsetHeight,this.showContStatus=!this.showContStatus;var t=this.$slots.main[0].elm.getBoundingClientRect().width;this.$slots.main[0].elm.offsetHeight+this.$slots.main[0].elm.getBoundingClientRect().top>window.innerHeight&&(this.showBottomStatus=!0,this.$refs.contControl.style.width=t+40+"PX"),this.showContStatus||(this.showBottomStatus=!1,this.$refs.contControl.style.width="100%")},handleScroll:function(){this.$refs.contControl&&(this.$refs.contControl.style.width=this.$slots.main[0].elm.getBoundingClientRect().width+40+"PX"),this.$slots.main[0].elm.offsetHeight+this.$slots.main[0].elm.getBoundingClientRect().top<window.innerHeight?this.showBottomStatus=!1:this.showContStatus&&(this.showBottomStatus=!0)},browserSize:function(){if(this.$refs.contControl){var t=this.$slots.main[0].elm.getBoundingClientRect(),e=t.width,a=t.top,n=this.$refs.contControl.style;this.showContStatus?(this.$slots.main[0].elm.offsetHeight+a>window.innerHeight?n.width=e+40+"PX":n.width="100%",this.$refs.contMain.style.height=this.$slots.main[0].elm.offsetHeight+30+"PX"):n.width="100%"}},removeScrollHandler:function(){window.removeEventListener("scroll",this.handleScroll,!0),window.removeEventListener("resize",this.browserSize,!0)},themeStyle:function(){this.themeNameStyle.left="70",this.themeNameStyle.width="calc(100% - ",this.themeNameStyle.left=70+this.$refs.userName.clientWidth+"px",this.themeNameStyle.width=this.themeNameStyle.width+(100+this.$refs.userName.clientWidth)+"px)"}},mounted:function(){this.mainHeight=this.$slots.main[0].elm.offsetHeight,window.addEventListener("scroll",this.handleScroll,!0),window.addEventListener("resize",this.browserSize,!0),this.windowWidth=window.innerWidth,this.themeStyle()},beforeDestroy:function(){this.removeScrollHandler()}}},wptx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=h(a("YEIV")),s=h(a("4gYi")),i=h(a("Dt3C")),r=h(a("7qpD")),o=h(a("rWG0")),l=h(a("VVfg")),c=a("WIBD"),m=h(a("CKnL"));h(a("J6oF"));function h(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{operatingList:[{name:"批量移动到分类",label:"class"},{name:"批量置顶",label:"sticky"},{name:"批量删除",label:"delete"},{name:"批量设置精华",label:"marrow"}],operatingSelect:"",categoriesList:[{name:"所有分类",id:0}],categoryId:"",checkAll:!1,checkAllNum:0,themeListAll:[],checkedTheme:[],isIndeterminate:!1,themeList:[],currentPag:1,total:0,pageCount:1,showViewer:!1,url:[],searchData:{topicContent:"",pageSelect:"10",topicAuthor:"",releaseTime:["",""],numberOfThreadMin:"",numberOfThreadMax:"",numberOfHotMin:"",numberOfHotMax:""},subLoading:!1,recommentbtn:!0,recomment1:"推荐",recomment2:"取消推荐",options:[{value:1,label:"是"},{value:0,label:"否"}],value:"",checkedAll:!1,recommentNumber:"",recommentParams:"createdAt",radio:[],themeOperation:[],themeOperations:[],recommend:[],cancelrecomend:[],detelethem:[],sobj:"",visible:!1}},computed:(0,c.mapState)({}),methods:{closeDelet:function(t){this.$refs[t][0].doClose()},closeViewer:function(){this.showViewer=!1},formatDate:function(t){return this.$dayjs(t).format("YYYY-MM-DD HH:mm")},handleCurrentChange:function(t){document.getElementsByClassName("index-main-con__main")[0].scrollTop=0,this.isIndeterminate=!1,this.currentPag=t,this.checkAll=!1,this.checkedTheme=[],this.getThemeList(t)},searchClick:function(){switch(this.searchData.topicTypeId){case"0":this.searchData.essentialTheme="",this.searchData.topType="";break;case"1":this.searchData.essentialTheme="",this.searchData.topType="yes";break;case"2":this.searchData.essentialTheme="yes",this.searchData.topType="";break;case"3":this.searchData.essentialTheme="yes",this.searchData.topType="yes"}this.searchData.releaseTime=null==this.searchData.releaseTime?["",""]:this.searchData.releaseTime,this.currentPag=1,this.getThemeList(1)},getThemeList:function(t){var e,a=this,s=this.searchData;this.appFetch({url:"topics",method:"get",data:(e={include:["user"],"filter[content]":s.topicContent,"page[number]":t,"filter[recommended]":this.value,"page[size]":s.pageSelect,"filter[q]":s.themeKeyWords,sort:"-createdAt","filter[username]":s.topicAuthor},(0,n.default)(e,"filter[content]",s.topicContent),(0,n.default)(e,"filter[createdAtBegin]",s.releaseTime[0]),(0,n.default)(e,"filter[createdAtEnd]",s.releaseTime[1]),(0,n.default)(e,"filter[threadCountBegin]",s.numberOfThreadMin),(0,n.default)(e,"filter[threadCountEnd]",s.numberOfThreadMax),(0,n.default)(e,"filter[viewCountBegin]",s.numberOfHotMin),(0,n.default)(e,"filter[viewCountEnd]",s.numberOfHotMax),e)}).then((function(t){t.errors?a.$message.error(t.errors[0].code):(a.themeList=t.readdata,a.total=t.meta.total,a.pageCount=t.meta.pageCount,a.themeListAll=[],a.themeList.forEach((function(t,e){a.themeListAll.push(t._data.id)})))})).catch((function(t){}))},deteleTopic:function(t){var e=this;this.appFetch({url:"topics",method:"delete",splice:"/"+t}).then((function(t){e.$message.success("删除成功"),e.getThemeList()}))},deleteClick:function(t,e){var a=this;t.join(",");this.appFetch({url:"deleteTopics",method:"delete",splice:"/"+t}).then((function(t){1===e&&a.$message.success("删除成功"),a.getThemeList()}))},recommentBtn:function(){this.recommentbtn=!this.recommentbtn},btnrecomment:function(t,e){var a=this;this.recommentNumber=e?0:1,this.appFetch({url:"topics",splice:"/"+t,method:"patch",data:{data:{type:"topics",attributes:{recommended:this.recommentNumber}}}}).then((function(t){1===t.data.attributes.recommended?a.$message.success("推荐成功"):a.$message.success("取消推荐成功"),a.getThemeList()}))},allRecomment:function(t,e,a){var n=this,s=e.join(",");this.appFetch({url:"deleteTopics",method:"patch",splice:"/"+s,data:{data:{ids:s,type:"topics",attributes:{recommended:t}}}}).then((function(e){1===a&&(1===t?n.$message.success("全部推荐成功"):n.$message.success("全部取消推荐成功")),n.getThemeList()}))},btninformation:function(t){this.checkedAll=t},themidpost:function(t,e){var a=this;-1===this.themeOperations.indexOf(e)?(this.themeOperations.push(e),this.themeOperation.push({type:t,themid:e})):this.themeOperation.forEach((function(n,s){n.themid==e&&(a.themeOperation[s].type=t)}))},btnSubmit:function(){var t=this;this.recommend=[],this.cancelrecomend=[],this.detelethem=[],this.themeOperation.forEach((function(e,a){1===e.type?t.recommend.push(e.themid):2===e.type?t.cancelrecomend.push(e.themid):3===e.type&&t.detelethem.push(e.themid)})),this.recommend.length>=1&&this.allRecomment(1,this.recommend,2),this.detelethem.length>=1&&this.deleteClick(this.detelethem,2),this.cancelrecomend.length>=1&&this.allRecomment(0,this.cancelrecomend,2),this.$message.success("提交成功"),this.radio=[],this.themeOperation=[]}},beforeDestroy:function(){l.default.setLItem("currentPag",1);var t=new Object;for(var e in this.searchData)t[e]="pageSelect"===e?"10":""},created:function(){this.currentPag=Number(l.default.getLItem("currentPag"))||1,this.getThemeList(Number(l.default.getLItem("currentPag"))||1)},components:{Card:s.default,ContArrange:i.default,tableNoList:r.default,ElImageViewer:m.default,Page:o.default}}}}]);