(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1003:function(t,e,r){},1004:function(t,e,r){},1005:function(t,e,r){},1006:function(t,e,r){},1007:function(t,e,r){},1008:function(t,e,r){},1009:function(t,e,r){},1010:function(t,e,r){},1011:function(t,e,r){},1012:function(t,e,r){},1013:function(t,e,r){},1134:function(t,e,r){"use strict";r(1003)},1135:function(t,e,r){"use strict";r(1004)},1136:function(t,e,r){"use strict";r(1005)},1137:function(t,e,r){"use strict";r(1006)},1138:function(t,e,r){"use strict";r(1007)},1139:function(t,e,r){"use strict";r(1008)},1140:function(t,e,r){"use strict";r(1009)},1141:function(t,e,r){"use strict";r(1010)},1142:function(t,e,r){"use strict";r(1011)},1143:function(t,e,r){"use strict";r(1012)},1144:function(t,e,r){"use strict";r(1013)},1203:function(t,e,r){"use strict";r.r(e);var n={name:"WalletPassword",props:{error:{type:Boolean,default:!1},passwordErrorTip:{type:String,default:""}},data:function(){return{}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},methods:{empty:function(){this.$refs.walletinput.deleat()},findpaypwd:function(){this.$emit("close"),this.$emit("findpaypwd")}}},o=(r(1135),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("message",{attrs:{title:t.$t("profile.editpaypassword")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("profile.orignpassword")))]),t._v(" "),r("div",{staticClass:"amount"},[r("span",[t._v(t._s(t.$t("modify.editpasswordtip")))])])]),t._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{ref:"walletinput",attrs:{error:t.error},on:{password:function(e){return t.$emit("password",e)}}}),t._v(" "),t.error?r("div",{staticClass:"amount"},[t._v(t._s(t.passwordErrorTip?t.passwordErrorTip:t.$t("modify.passwordinputerro")))]):t._e()],1),t._v(" "),t.forums&&t.forums.qcloud&&t.forums.qcloud.qcloud_sms?r("div",{staticClass:"findpaypwd",on:{click:t.findpaypwd}},[t._v("\n      "+t._s(t.$t("modify.forgetpaypassword"))+"\n    ")]):t._e()])])}),[],!1,null,"e5d82fa6",null);e.default=component.exports;installComponents(component,{WalletPasswordInput:r(909).default,Message:r(789).default})},1204:function(t,e,r){"use strict";r.r(e);var n={name:"SetNewPassword",props:{error:{type:Boolean,default:!1}},data:function(){return{}}},o=(r(1136),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("message",{attrs:{title:t.$t("profile.editpaypassword")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("modify.newPayPwdTitle")))]),t._v(" "),r("div",{staticClass:"amount"},[r("span",[t._v(t._s(t.$t("modify.setpasswordtip")))])])]),t._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{attrs:{error:t.error},on:{password:function(e){return t.$emit("password",e)}}})],1)])])}),[],!1,null,"15a0d025",null);e.default=component.exports;installComponents(component,{WalletPasswordInput:r(909).default,Message:r(789).default})},1205:function(t,e,r){"use strict";r.r(e);var n={name:"RepeatNewpassword",props:{error:{type:Boolean,default:!1}},data:function(){return{}},methods:{empty:function(){this.$refs.walletinput.deleat()}}},o=(r(1137),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("message",{attrs:{title:t.$t("profile.editpaypassword")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("modify.enterpaymentagin")))]),t._v(" "),r("div",{staticClass:"amount"},[r("span",[t._v(t._s(t.$t("modify.repeatpasstip")))])])]),t._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{ref:"walletinput",attrs:{error:t.error},on:{password:function(e){return t.$emit("password",e)}}}),t._v(" "),t.error?r("div",{staticClass:"amount"},[t._v(t._s(t.$t("modify.reenter")))]):t._e()],1)])])}),[],!1,null,"1d77c962",null);e.default=component.exports;installComponents(component,{WalletPasswordInput:r(909).default,Message:r(789).default})},1206:function(t,e,r){"use strict";r.r(e);var n={name:"SetPassword",props:{error:{type:Boolean,default:!1}},data:function(){return{}}},o=(r(1138),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("message",{attrs:{title:t.$t("profile.setpaypassword")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("profile.setpaypassword")))]),t._v(" "),r("div",{staticClass:"amount"},[r("span",[t._v(t._s(t.$t("modify.setpasswordtip")))])])]),t._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{attrs:{error:t.error},on:{password:function(e){return t.$emit("password",e)}}})],1)])])}),[],!1,null,"69b6aca2",null);e.default=component.exports;installComponents(component,{WalletPasswordInput:r(909).default,Message:r(789).default})},1207:function(t,e,r){"use strict";r.r(e);var n={name:"RepeatPassword",props:{error:{type:Boolean,default:!1}},data:function(){return{}},methods:{empty:function(){this.$refs.walletinput.deleat()}}},o=(r(1139),r(11)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("message",{attrs:{title:t.$t("profile.editpaypassword")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[t._v(t._s(t.$t("modify.enterpaymentagin")))]),t._v(" "),r("div",{staticClass:"amount"},[r("span",[t._v(t._s(t.$t("modify.repeatpasstip")))])])]),t._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{ref:"walletinput",attrs:{error:t.error},on:{password:function(e){return t.$emit("password",e)}}}),t._v(" "),t.error?r("div",{staticClass:"amount"},[t._v(t._s(t.$t("modify.masstext")))]):t._e()],1)])])}),[],!1,null,"70ea2fd8",null);e.default=component.exports;installComponents(component,{WalletPasswordInput:r(909).default,Message:r(789).default})},1208:function(t,e,r){"use strict";r.r(e);r(63),r(13),r(52);var n=r(5),o=r(717),l=r(715),c=r.n(l),d=r(938),f=r.n(d),h={name:"CashDialog",mixins:[c.a,f.a],data:function(){return{loading:!1,hasMore:!1,date:"",value:"",pageSize:10,pageNum:1,filterSelected:"",dataList:[],total:0,sumMoney:0,options:[{value:"",label:this.$t("profile.all")+this.$t("profile.type")},{value:"1",label:this.$t("profile.tobereviewed")},{value:"2",label:this.$t("profile.approved")},{value:"3",label:this.$t("profile.auditfailed")},{value:"4",label:this.$t("profile.paymenttobemade")},{value:"5",label:this.$t("profile.paymentsucceed")},{value:"6",label:this.$t("profile.paymentfailed")}],userId:this.$store.getters["session/get"]("userId"),userInfo:""}},mounted:function(){this.setCurrentTime(),this.getUserInfo(),this.getList()},methods:{getUserInfo:function(){this.userInfo=this.$store.state.user.info.attributes},getList:function(t){var e=this;this.loading=!0;var r=this.date.split("-"),o=new Date(r[0],r[1],0).getDate(),l={"filter[user]":this.userId,"page[number]":this.pageNum2,"page[limit]":this.pageSize2,"filter[start_time]":"".concat(this.date,"-01-00-00-00"),"filter[end_time]":"".concat(this.date,"-").concat(o,"-23-59-59")};t&&"filter"===t&&(l.pageNum=1,this.dataList=[]),""!==this.filterSelected&&(l["filter[cash_status]"]=this.filterSelected),n.status.run((function(){return e.$store.dispatch("jv/get",["wallet/cash",{params:l}])})).then((function(t){e.sumMoney=e.handlemoney(t),e.dataList=t,e.total=t._jv.json.meta.total}),(function(t){e.handleError(t)})).finally((function(){e.loading=!1}))},bindDateChange:function(t){this.date=t,null!==this.date&&this.getList("filter")},confirm:function(t){this.filterSelected=t,this.getList("filter")},handleSelectionChange:function(t){this.multipleSelection=t},dateFormat:function(t){return this.timeHandle(t.created_at)},timeHandle:function(time){return Object(o.b)(time)},statusFormat:function(t){switch(t.cash_status){case 1:return'<font style="color:#25A9F6">'.concat(this.$t("profile.tobereviewed"),"</font>");case 2:return'<font style="color:#09BB07">'.concat(this.$t("profile.approved"),"</font>");case 3:return'<font style="color:#FA5151">'.concat(this.$t("profile.auditfailed"),"</font>");case 4:return this.$t("profile.paymenttobemade");case 5:return this.$t("profile.paymentsucceed");case 6:return this.$t("profile.paymentfailed");default:return"未知状态"}},statusFormat2:function(t){switch(t.cash_status){case 1:return this.$t("profile.tobereviewed");case 2:return this.$t("profile.approved");case 3:return this.$t("profile.auditfailed");case 4:return this.$t("profile.paymenttobemade");case 5:return this.$t("profile.paymentsucceed");case 6:return this.$t("profile.paymentfailed");default:return"未知状态"}},handlemoney:function(t){var e=JSON.parse(JSON.stringify(t)),r=0;return e.forEach((function(t,n){e[n]=parseFloat(t.cash_apply_amount.replace(/\+|\-|\*|\?/g,"")),r+=e[n]})),r.toFixed(2)},handleSizeChange:function(t){this.pageNum=1,this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.pageNum=t,this.getList()}}},m=(r(1140),r(11)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cashDialog"},[r("div",{staticClass:"selector"},[r("el-date-picker",{attrs:{type:"month",placeholder:"选择月","suffix-icon":"el-icon-arrow",format:"yyyy 年 MM 月 ","value-format":"yyyy-MM"},on:{change:t.bindDateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),r("el-select",{attrs:{placeholder:t.$t("profile.pleaseselect"),"popper-append-to-body":!1,"popper-class":"selectinfo"},on:{change:t.confirm},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),r("span",{staticClass:"margleft"},[t._v("\n      "+t._s(t.$t("profile.total"))+t._s(t.total)+t._s(t.$t("profile.records"))+"\n      ")])],1),t._v(" "),t.total>0?r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"55"}}),t._v(" "),r("el-table-column",{attrs:{prop:"cash_status",label:t.$t("profile.desc"),formatter:t.statusFormat2},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"desc",domProps:{innerHTML:t._s(t.$xss(t.statusFormat2(e.row)))}})]}}],null,!1,5723653)}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.time"),width:"140",prop:"created_at",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{prop:"cash_status",label:t.$t("profile.status"),width:"97",formatter:t.statusFormat},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:t._s(t.$xss(t.statusFormat(e.row)))}})]}}],null,!1,3765784326)}),t._v(" "),r("el-table-column",{attrs:{prop:"cash_apply_amount",label:t.$t("pay.sumOfMoney"),width:"100",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:t._s(t.$xss(e.row.cash_apply_amount))}})]}}],null,!1,4017059246)})],1),t._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{background:"","pager-count":5,"current-page":t.pageNum,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):[t.hasMore?r("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(t._s(t.$t("topic.showMore")))]):r("div",{staticClass:"no-more"},[0===t.dataList.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):t._e(),t._v(t._s(t.dataList.length>0?t.$t("discuzq.list.noMoreData"):t.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,"8462cb0a",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},1209:function(t,e,r){"use strict";r.r(e);r(13);var n=r(717),o=r(715),l={name:"FreezeAmount",mixins:[r.n(o).a],data:function(){return{loading:!1,hasMore:!1,value:"",pageSize3:10,pageNum3:1,filterSelected3:"",freezelist:[],total3:0,userId:this.$store.getters["session/get"]("userId"),userInfo:"",walletFreeze:0}},mounted:function(){this.getUserInfo(),this.getFreezelist()},methods:{getUserInfo:function(){this.userInfo=this.$store.state.user.info.attributes,this.walletFreeze=this.userInfo?this.userInfo.walletFreeze:0},confirm3:function(t){this.filterSelected3=t,this.getFreezelist("filter")},amountFormat:function(t){return t.amount>0?'<font color="FA5151">-￥'.concat(t.amount,"</font>"):t>0?'<font color="FA5151">+￥'.concat(t,"</font>"):'<font color="09BB07">-￥'.concat(t.substr(1),"</font>")},getFreezelist:function(){var t=this;this.loading=!0;var e={"filter[user]":this.userId,"filter[change_type]":"10,11,12,81,9,8,101,111","page[number]":this.pageNum3,"page[limit]":this.pageSize3};this.$store.dispatch("jv/get",["wallet/log",{params:e}]).then((function(e){t.total3=e._jv.json.meta.total,t.freezelist=e}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},sortAmount:function(t,e){return 1*t.change_available_amount-1*e.change_available_amount},dateFormat:function(t){return this.timeHandle(t.created_at)},timeHandle:function(time){return Object(n.b)(time)},handleSizeChange3:function(t){this.pageNum3=1,this.pageSize3=t,this.getFreezelist()},handleCurrentChange3:function(t){this.pageNum3=t,this.getFreezelist()}}},c=(r(1141),r(11)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"freezeAmount"},[t.total3>0?r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.freezelist}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),t._v(" "),r("el-table-column",{attrs:{prop:"change_desc",label:t.$t("profile.desc")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"desc"},[t._v(t._s(e.row.change_desc))])]}}],null,!1,2123072729)}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.time"),width:"145",prop:"created_at",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("pay.sumOfMoney"),width:"100",sortable:"","sort-method":t.sortAmount},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:t._s(t.$xss(t.amountFormat(e.row.change_freeze_amount)))}})]}}],null,!1,646571392)})],1),t._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{background:"","pager-count":5,"current-page":t.pageNum3,"page-sizes":[10,20,30,40],"page-size":t.pageSize3,layout:"total, sizes, prev, pager, next, jumper",total:t.total3},on:{"size-change":t.handleSizeChange3,"current-change":t.handleCurrentChange3}})],1):[t.hasMore?r("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(t._s(t.$t("topic.showMore")))]):r("div",{staticClass:"no-more"},[0===t.freezelist.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):t._e(),t._v(t._s(t.freezelist.length>0?t.$t("discuzq.list.noMoreData"):t.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,"5b77d342",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},1210:function(t,e,r){"use strict";r.r(e);r(63),r(13),r(52);var n=r(5),o=r(717),l=r(715),c=r.n(l),d=r(938),f=r.n(d),h={name:"WalletDetail",mixins:[c.a,f.a],data:function(){return{loading:!1,hasMore:!1,value:"",pageSize2:10,pageNum2:1,date:"",filterSelected2:"",dataList2:[],total2:0,sumMoney2:0,userId:this.$store.getters["session/get"]("userId"),options2:[{value:"",label:this.$t("profile.all")+this.$t("profile.type")},{value:"10",label:this.$t("profile.withdrawalfreeze")},{value:"11",label:this.$t("profile.withdrawalsucceed")},{value:"12",label:this.$t("profile.withdrawalunfreeze")},{value:"30",label:this.$t("profile.registeredincome")},{value:"31",label:this.$t("profile.rewardincome")},{value:"32",label:this.$t("profile.laborincome")},{value:"50",label:this.$t("profile.laborexpenditure")},{value:"60,62,63",label:this.$t("profile.payincome")},{value:"35,36",label:this.$t("profile.answerincome")},{value:"81,82",label:this.$t("profile.answerpay")},{value:"100,101,102,103,104",label:"文字帖红包"},{value:"110,111,112,113,114",label:"长文帖红包"},{value:"120,121,122,123,124",label:"悬赏"}]}},mounted:function(){this.setCurrentTime(),this.getList2()},methods:{toTopic:function(t){t.row.order&&t.row.order.thread&&this.$router.push("/topic/index?id=".concat(t.row.order.thread._jv.id))},sortAmount:function(t,e){return 1*t.change_available_amount-1*e.change_available_amount},timeHandle:function(time){return Object(o.b)(time)},statusFormat2:function(t){switch(t.change_type){case 10:return this.$t("profile.withdrawalfreeze");case 11:return this.$t("profile.withdrawalsucceed");case 12:return this.$t("profile.withdrawalunfreeze");case 30:return this.$t("profile.registeredincome");case 31:return this.$t("profile.rewardincome");case 32:return this.$t("profile.laborincome");case 50:return this.$t("profile.laborexpenditure");case 41:return this.$t("profile.givearewardforthetheme");case 60:return this.$t("profile.threadpayincome");case 61:return this.$t("profile.threadpay");case 81:return this.$t("profile.threadanswerpay");case 8:return this.$t("profile.answerfreeze");case 52:return this.$t("profile.filepay");case 35:return this.$t("profile.answersincome");case 36:return this.$t("profile.answersaroundincome");case 82:return this.$t("profile.answersaroundpay");case 100:return this.$t("profile.redpacketpay");case 101:return this.$t("profile.redpacketfreeze");case 102:return this.$t("profile.redpacketpayincome");case 103:return this.$t("profile.redpacketfreezeback");case 104:return this.$t("profile.textPostAbnormal");case 110:return this.$t("profile.longredpacketpay");case 111:return this.$t("profile.longredpacketfreeze");case 112:return this.$t("profile.longredpacketpayincome");case 113:return this.$t("profile.longredpacketfreezeback");case 114:return this.$t("profile.longTextPostAbnormal");case 120:return this.$t("profile.offerewardpay");case 121:return this.$t("profile.offerewardbalanceback");case 122:return this.$t("profile.offerewardbalancehalves");case 123:return this.$t("profile.offerewardbalancehalvesbylike");case 124:return this.$t("profile.offerewardPostAbnormal");default:return"未知状态"}},amountFormat:function(t){return t.amount>0?'<font color="09BB07">-￥'.concat(t.amount,"</font>"):t>0?'<font color="#FA5151">+￥'.concat(t,"</font>"):'<font color="#09BB07">-￥'.concat(t.substr(1),"</font>")},dateFormat:function(t){return this.timeHandle(t.created_at)},bindDateChange2:function(t){this.date=t,null!==this.date&&this.getList2("filter")},confirm2:function(t){this.filterSelected2=t,this.getList2("filter")},getList2:function(t){var e=this;this.loading=!0;var r=this.date.split("-"),o=new Date(r[0],r[1],0).getDate(),l={include:"user,order.user,order.thread,order.thread.firstPost","filter[user]":this.userId,"page[number]":this.pageNum2,"page[limit]":this.pageSize2,"filter[change_type_exclude]":"11,81","filter[start_time]":"".concat(this.date,"-01-00-00-00"),"filter[end_time]":"".concat(this.date,"-").concat(o,"-23-59-59")};t&&"filter"===t&&(l.pageNum2=1,this.dataList2=[]),this.filterSelected2&&(l["filter[change_type]"]=this.filterSelected2),n.status.run((function(){return e.$store.dispatch("jv/get",["wallet/log",{params:l}])})).then((function(t){var r=e.handleHandle(t);e.sumMoney2=e.handlemoney2(r),e.dataList2=r,e.total2=t._jv.json.meta.total}),(function(t){e.handleError(t)})).finally((function(){e.loading=!1}))},handlemoney2:function(t){var e=JSON.parse(JSON.stringify(t)),r=0;return e.forEach((function(t,n){e[n]=parseFloat(t.change_available_amount.replace(/\+|\-|\*|\?/g,"")),r+=e[n]})),r.toFixed(2)},handleHandle:function(t){var e=this,r=JSON.parse(JSON.stringify(t));return r.forEach((function(t,n){var desc=e.handleTitle(t);desc.length>42&&(desc="".concat(desc.substr(0,42),"...")),r[n].change_desc=desc})),r},handleTitle:function(t){switch(t.change_type){case 31:var e=t.order.user?t.order.user.username:this.$t("profile.theuserwasdeleted"),r=t.order.thread?t.order.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.thethemewasdeleted");return"".concat(e," ").concat(this.$t("profile.givearewardforyourtheme")," ").concat(r);case 41:var n=t.order.thread?t.order.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.thethemewasdeleted");return"".concat(this.$t("profile.givearewardforthetheme")," ").concat(n);case 60:var o=t.order.user?t.order.user.username:this.$t("profile.theuserwasdeleted"),l=t.order.thread?t.order.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.givearewardforthetheme");return"".concat(o," ").concat(this.$t("profile.paidtoseeyourtheme")," ").concat(l);case 61:var c=t.order.thread?t.order.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.thethemewasdeleted");return"".concat(this.$t("profile.paidtoview")," ").concat(c);default:return t.change_desc}},handleSizeChange2:function(t){this.pageNum2=1,this.pageSize2=t,this.getList2()},handleCurrentChange2:function(t){this.pageNum2=t,this.getList2()}}},m=(r(1142),r(11)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"walletDetail"},[r("div",{staticClass:"selector"},[r("el-date-picker",{attrs:{type:"month",placeholder:"选择月","suffix-icon":"el-icon-arrow",format:"yyyy 年 MM 月 ","value-format":"yyyy-MM"},on:{change:t.bindDateChange2},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),r("el-select",{attrs:{placeholder:t.$t("profile.pleaseselect"),"popper-append-to-body":!1,"popper-class":"selectinfo"},on:{change:t.confirm2},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options2,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),r("span",{staticClass:"margleft"},[t._v("\n      "+t._s(t.$t("profile.total"))+t._s(t.total2)+t._s(t.$t("profile.records"))+"\n      ")])],1),t._v(" "),t.total2>0?r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.dataList2}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"70"}}),t._v(" "),r("el-table-column",{attrs:{prop:"change_desc",label:t.$t("profile.desc")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"desc",on:{click:function(r){return t.toTopic(e)}}},[t._v(t._s(e.row.change_desc))])]}}],null,!1,2455081578)}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.time"),width:"160",prop:"created_at",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.status"),width:"125",formatter:t.statusFormat2}}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("pay.sumOfMoney"),width:"120",sortable:"","sort-method":t.sortAmount},scopedSlots:t._u([{key:"default",fn:function(e){return[100===e.row.change_type||110===e.row.change_type?r("span",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:t._s(t.$xss(t.amountFormat(e.row.change_freeze_amount)))}}):r("span",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:t._s(t.$xss(t.amountFormat(e.row.change_available_amount)))}})]}}],null,!1,3177133967)})],1),t._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{background:"","pager-count":5,"current-page":t.pageNum2,"page-sizes":[10,20,30,40],"page-size":t.pageSize2,layout:"total, sizes, prev, pager, next, jumper",total:t.total2},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1):[t.hasMore?r("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(t._s(t.$t("topic.showMore")))]):r("div",{staticClass:"no-more"},[0===t.dataList2.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):t._e(),t._v(t._s(t.dataList2.length>0?t.$t("discuzq.list.noMoreData"):t.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,"63532ac4",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},1211:function(t,e,r){"use strict";r.r(e);r(63),r(13),r(52);var n=r(5),o=r(717),l=r(715),c=r.n(l),d=r(938),f=r.n(d),h={name:"OrderDetail",mixins:[c.a,f.a],data:function(){return{loading:!1,hasMore:!1,value:"",pageSize4:10,pageNum4:1,date:"",filterSelected4:"",dataList4:[],total4:0,sumMoney4:0,userId:this.$store.getters["session/get"]("userId"),options4:[{value:"",label:this.$t("profile.all")+this.$t("profile.type")},{value:"0",label:this.$t("profile.tobepaid")},{value:"1",label:this.$t("profile.paid")},{value:"2",label:this.$t("profile.cancelorder")},{value:"3",label:this.$t("profile.payfail")},{value:"4",label:this.$t("profile.orderexpired")}]}},mounted:function(){this.setCurrentTime(),this.getList4()},methods:{toTopic:function(t){t.row.thread&&this.$router.push("/topic/index?id=".concat(t.row.thread._jv.id))},sortAmount:function(t,e){return 1*t.amount-1*e.amount},timeHandle:function(time){return Object(o.b)(time)},statusFormat4:function(t){switch(t.status){case 0:return this.$t("profile.tobepaid");case 1:return this.$t("profile.paid");case 2:return this.$t("profile.cancelorder");case 3:return this.$t("profile.payfail");case 4:return this.$t("profile.orderexpired");case 10:return this.$t("profile.refunded");default:return"未知状态"}},dateFormat:function(t){return this.timeHandle(t.created_at)},amountFormat:function(t){return t.amount>0?'<font color="09BB07">-￥'.concat(t.amount,"</font>"):t>0?'<font color="09BB07">+￥'.concat(t,"</font>"):'<font style="color:#FA5151">-￥'.concat(t.substr(1),"</font>")},bindDateChange4:function(t){this.date=t,null!==this.date&&this.getList4("filter")},confirm4:function(t){this.filterSelected4=t,this.getList4("filter")},getList4:function(t){var e=this;this.loading=!0;var r=this.date.split("-"),o=new Date(r[0],r[1],0).getDate(),l={include:"user,thread,thread.firstPost","filter[user]":this.userId,"page[number]":this.pageNum4,"page[limit]":this.pageSize4,"filter[start_time]":"".concat(this.date,"-01-00-00-00"),"filter[end_time]":"".concat(this.date,"-").concat(o,"-23-59-59")};t&&"filter"===t&&(l.pageNum4=1,this.dataList4=[]),(this.filterSelected4||0===this.filterSelected4)&&(l["filter[status]"]=this.filterSelected4),n.status.run((function(){return e.$store.dispatch("jv/get",["orders",{params:l}])})).then((function(t){var r=e.handleHandle4(t);e.sumMoney4=e.handlemoney4(r),e.dataList4=r,e.total4=t._jv.json.meta.total}),(function(t){e.handleError(t)})).finally((function(){e.loading=!1}))},handlemoney4:function(t){var e=JSON.parse(JSON.stringify(t)),r=0;return e.forEach((function(t,n){e[n]=parseFloat(t.amount.replace(/\+|\-|\*|\?/g,"")),r+=e[n]})),r.toFixed(2)},handleHandle4:function(t){var e=this,r=JSON.parse(JSON.stringify(t));return r.forEach((function(t,n){var desc=e.handleTitle4(t);desc.length>42&&(desc="".concat(desc.substr(0,42),"...")),r[n].titleType=desc})),r},handleTitle4:function(t){switch(t.type){case 1:return this.$t("profile.register");case 2:var e=t.thread?t.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.thethemewasdeleted");return"".concat(this.$t("profile.givearewardforthetheme")," ").concat(e);case 3:var r=t.thread?t.thread.firstPost.summary.replace(/(<([^>]+)>)/gi,""):this.$t("profile.thethemewasdeleted");return"".concat(this.$t("profile.paidtoview")," ").concat(r);case 4:return this.$t("profile.paygroup");case 7:var n=t.thread?t.thread.title:this.$t("profile.thethemewasdeleted");return"付费查看了主题的附件 ".concat(n);case 5:var o=t.thread?t.thread.title:this.$t("profile.thethemewasdeleted");return"付费查看了问答 ".concat(o);case 6:var l=t.thread?t.thread.title:this.$t("profile.thethemewasdeleted");return"付费围观了问答 ".concat(l);case 20:var c=t.thread?t.thread.title:this.$t("profile.thethemewasdeleted");return"支付文字帖红包 ".concat(c);case 21:var d=t.thread?t.thread.title:this.$t("profile.thethemewasdeleted");return"支付长文帖红包 ".concat(d);default:return t.type}},handleSizeChange4:function(t){this.pageNum4=1,this.pageSize4=t,this.getList4()},handleCurrentChange4:function(t){this.pageNum4=t,this.getList4()}}},m=(r(1143),r(11)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"orderDetail"},[r("div",{staticClass:"selector"},[r("el-date-picker",{attrs:{type:"month",placeholder:"选择月","suffix-icon":"el-icon-arrow",format:"yyyy 年 MM 月 ","value-format":"yyyy-MM"},on:{change:t.bindDateChange4},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),r("el-select",{attrs:{placeholder:t.$t("profile.pleaseselect"),"popper-append-to-body":!1,"popper-class":"selectinfo"},on:{change:t.confirm4},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options4,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "),r("span",{staticClass:"margleft"},[t._v("\n      "+t._s(t.$t("profile.total"))+t._s(t.total4)+t._s(t.$t("profile.records"))+"\n      ")])],1),t._v(" "),t.total4>0?r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.dataList4}},[r("el-table-column",{attrs:{prop:"_jv.id",label:"ID",width:"70"}}),t._v(" "),r("el-table-column",{attrs:{prop:"titleType",label:t.$t("profile.desc")},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticClass:"desc",on:{click:function(r){return t.toTopic(e)}}},[t._v(t._s(e.row.titleType))])]}}],null,!1,4276666330)}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.time"),width:"140",prop:"created_at",formatter:t.dateFormat}}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("profile.status"),width:"97",formatter:t.statusFormat4}}),t._v(" "),r("el-table-column",{attrs:{label:t.$t("pay.sumOfMoney"),width:"113",sortable:"","sort-method":t.sortAmount},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{staticStyle:{"font-size":"16px"},domProps:{innerHTML:t._s(t.$xss(t.amountFormat(e.row)))}})]}}],null,!1,1723755631)})],1),t._v(" "),r("el-pagination",{staticClass:"pagination",attrs:{background:"","pager-count":5,"current-page":t.pageNum4,"page-sizes":[10,20,30,40],"page-size":t.pageSize4,layout:"total, sizes, prev, pager, next, jumper",total:t.total4},on:{"size-change":t.handleSizeChange4,"current-change":t.handleCurrentChange4}})],1):[t.hasMore?r("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(t._s(t.$t("topic.showMore")))]):r("div",{staticClass:"no-more"},[0===t.dataList4.length?r("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):t._e(),t._v(t._s(t.dataList4.length>0?t.$t("discuzq.list.noMoreData"):t.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,"0645ab38",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default})},1212:function(t,e,r){"use strict";r.r(e);r(253),r(25),r(52),r(35);var n=r(5),o=r(715),l=r.n(o),c=r(893),d=r.n(c),f=r(878),h={name:"Withdrawal",mixins:[l.a,f,d.a],props:{price:{type:[Number,String],default:""},error:{type:Boolean,default:!1}},data:function(){return{userId:this.$store.getters["session/get"]("userId"),userInfo:"",name:"",balance:"",userphon:"",usertestphon:"",canAmount:"",canClick:!0,disabtype:!1,verifycode:"",content:this.$t("modify.sendVerifyCode"),percentage:0,contint:"",procedures:0,cost:0,interval:"",captcha:null,ticket:"",randstr:"",captchaResult:{},withdrawlNumber:"",cashtype:0}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t.paycenter&&t.paycenter.wxpay_mchpay_close?this.cashtype=1:this.cashtype=0},deep:!0,immediate:!0}},mounted:function(){this.userinfo(),this.forumsdata()},methods:{userinfo:function(){var t=this;this.$store.dispatch("jv/get",["users/".concat(this.userId),{params:{include:"groups,wechat"}}]).then((function(e){t.userInfo=e,t.setmydata(),t.userInfo.groupsName=t.userInfo.groups?t.userInfo.groups[0].name:""}),(function(e){var r=e.response.data.errors;if(r&&Array.isArray(r)&&r.length>0&&r[0]){var n=r[0].detail&&r[0].detail.length>0?r[0].detail[0]:r[0].code;if("Invalid includes [wechat]"===n)t.$message.error(n),localStorage.removeItem("access_token"),localStorage.removeItem("user_id"),window.location.replace("/");else{var o=r[0].detail&&r[0].detail.length>0?r[0].detail[0]:t.$t("core.".concat(n));t.$message.error(o)}}}))},setmydata:function(){this.name=this.userInfo.username,this.balance=this.userInfo.walletBalance,this.usertestphon=this.userInfo.mobile,this.userphon=this.userInfo.originalMobile,this.withdrawlNumber=this.userphon,this.usertestphon||(this.disabtype=!0)},forumsdata:function(){this.cost=this.forums.set_cash.cash_rate,this.percentage=100*this.forums.set_cash.cash_rate,this.cashtype=this.forums.paycenter&&this.forums.paycenter.wxpay_mchpay_close?1:0},settlement:function(){var t=this;setTimeout((function(){if("."===t.canAmount[0]){t.canAmount="0."}if(t.canAmount=t.canAmount.replace(/[^\d.]/g,"").replace(/\.{2,}/g,".").replace(".","$#$").replace(/\./g,"").replace("$#$",".").replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3").replace(/^\./g,""),Number(t.canAmount)>Number(t.balance)&&(t.canAmount=t.canAmount.slice(0,t.canAmount.length-1),t.$message.warning(t.$t("modify.greaterthan"))),t.canAmount.length>0){t.length=!0;var e=t.canAmount-t.canAmount*t.cost;if(e){t.contint="".concat(e.toFixed(2));var r=t.canAmount*t.cost;t.procedures=r.toFixed(2)}else t.contint="",t.procedures=""}else if(t.canAmount.length<=0){t.contint="";var n=t.canAmount*t.cost;t.procedures=n.toFixed(2)}}),5)},sendsms:function(){this.forums.qcloud.qcloud_captcha?this.tcaptcha():(this.second=60,this.sendVerifyCode())},tcaptcha:function(){var t=this;this.captcha=new TencentCaptcha(this.forums.qcloud.qcloud_captcha_app_id,(function(e){0===e.ret&&(t.ticket=e.ticket,t.randstr=e.randstr,t.sendVerifyCode())})),this.captcha.show()},sendVerifyCode:function(){var t=this,e={_jv:{type:"sms/send"},mobile:this.userphon,type:"verify",captcha_ticket:this.ticket,captcha_rand_str:this.randstr};n.status.run((function(){return t.$store.dispatch("jv/post",e)})).then((function(e){e.interval&&t.countDown(e.interval),t.ticket="",t.randstr=""}),(function(e){return t.handleError(e)}))},btncash:function(){this.verifytitle()},verifytitle:function(){var t=this,e={_jv:{type:"sms/verify"},code:this.verifycode,type:"verify"};this.$store.dispatch("jv/post",e).then((function(e){e&&t.cashwithdrawal()}),(function(e){var r=e.response.data.errors;r[0]&&("422"===r[0].status?t.$message.error(r[0].detail[0]):500===r[0].status&&t.$message.error(t.$t("core.".concat(r[0].code))))}))},cashwithdrawal:function(){var t=this,e={_jv:{type:"wallet/cash",include:["user","userWallet"]},cash_apply_amount:this.canAmount,cash_mobile:this.withdrawlNumber,cash_type:this.cashtype};n.status.run((function(){return t.$store.dispatch("jv/post",e)})).then((function(e){e&&(t.canAmount="",t.contint="",t.procedures=0,t.$message.success(t.$t("modify.withdrawal")),t.$emit("close"))}),(function(e){var r=e.response.data.errors;r[0]&&("422"===r[0].status?(t.$message.error(r[0].detail[0]),t.canAmount="",t.contint="",t.procedures=0):500===r[0].status&&("unbind_wechat"===r[0].code||"cash_mch_invalid"===r[0].code?t.$message.error(r[0].detail):(t.$message.error(t.$t("core.".concat(r[0].code))),t.canAmount="",t.contint="",t.procedures=0)))}))},tomy:function(){this.$router.push("/my/profilePay")}}},m=(r(1144),r(11)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.userInfo?r("message",{attrs:{title:t.$t("profile.towithdrawal")},on:{close:function(e){return t.$emit("close")}}},[r("div",{staticClass:"top"},[r("div",{staticClass:"row"},[t.cashtype?r("div",{staticClass:"head"},[t._v("微信号")]):r("div",{staticClass:"head"},[t._v(t._s(t.$t("modify.wechatpayee")))]),t._v(" "),t.cashtype?r("div",{staticClass:"body reward"},[t.userInfo.wechat&&t.userInfo.wechat.nickname?r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.wechat.nickname,expression:"userInfo.wechat.nickname"}],staticClass:"rinput ript",attrs:{placeholder:"微信号",type:"text"},domProps:{value:t.userInfo.wechat.nickname},on:{input:function(e){e.target.composing||t.$set(t.userInfo.wechat,"nickname",e.target.value)}}})]):r("span",{staticStyle:{"font-size":"12px"}},[t._v("\n          您的用户账号未绑定微信号,请绑定微信号后再进行提现\n        ")])]):r("div",{staticClass:"body reward"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.withdrawlNumber,expression:"withdrawlNumber"}],staticClass:"rinput ript",attrs:{placeholder:t.$t("modify.enterwechat"),type:"text"},domProps:{value:t.withdrawlNumber},on:{input:function(e){e.target.composing||(t.withdrawlNumber=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"cashtext"},[t._v(t._s(t.$t("pay.cashtext")))])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"head"},[t._v(t._s(t.$t("modify.withdrawable")))]),t._v(" "),r("div",{staticClass:"body product-information"},[r("span",{staticClass:"title2"},[t._v(" ￥ "+t._s(t.balance))])])]),t._v(" "),r("div",{staticClass:"row row2"},[r("div",{staticClass:"head reward"},[t._v("\n        "+t._s(t.$t("modify.withdratitle")+t.$t("pay.sumOfMoney"))+"\n      ")]),t._v(" "),r("div",{staticClass:"body reward"},[r("label",[r("span",[t._v("￥")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.canAmount,expression:"canAmount"}],staticClass:"rinput",attrs:{placeholder:t.$t("modify.enteramount"),type:"text"},domProps:{value:t.canAmount},on:{input:[function(e){e.target.composing||(t.canAmount=e.target.value)},t.settlement]}})])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"head"},[t._v(t._s(t.$t("modify.actualamout")))]),t._v(" "),r("div",{staticClass:"body product-information"},[r("span",{staticClass:"title3"},[t._v(" ￥ "+t._s(t.contint||0))]),t._v(" "),r("span",{staticClass:"title4"},[t._v("\n          "+t._s(t.$t("modify.servicechaege"))+t._s(t.procedures)+t._s(t.$t("modify.percentage"))+" "+t._s(t.percentage)+"%)")])])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"head reward"},[t._v(t._s(t.$t("user.verificationCode2")))]),t._v(" "),r("div",{staticClass:"body reward"},[r("label",[r("span"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.verifycode,expression:"verifycode"}],attrs:{placeholder:t.$t("modify.placeEnterCode"),type:"text"},domProps:{value:t.verifycode},on:{input:function(e){e.target.composing||(t.verifycode=e.target.value)}}}),t._v(" "),r("el-button",{attrs:{size:"medium",disabled:!t.canClick||!t.usertestphon},on:{click:t.sendsms}},[t._v(t._s(t.content))])],1),t._v(" "),t.usertestphon?r("span",{staticClass:"phone"},[t._v("\n          "+t._s(t.$t("profile.codesend"))+"\n          "),r("span",{staticStyle:{"font-weight":"bold",color:"#000000"}},[t._v(t._s(t.usertestphon))]),t._v("\n          "+t._s(t.$t("profile.phonesms"))+"\n        ")]):r("span",{staticClass:"phone"},[t._v("\n          "+t._s(t.$t("profile.withoutbind"))+"\n          "),r("span",{staticClass:"phonei",on:{click:t.tomy}},[t._v("\n            "+t._s(t.$t("profile.personalhomepage"))+"\n          ")]),t._v("\n          "+t._s(t.$t("profile.tobindphone"))+"\n        ")])])])]),t._v(" "),r("div",{staticClass:"bottom"},[t.cashtype?r("span",{staticStyle:{"font-size":"14px"}},[t._v("\n      ￥"+t._s(t.contint||0)+t._s(t.$t("pay.rmb")+t.$t("profile.withdrawalto")+(t.userInfo&&t.userInfo.wechat&&t.userInfo.wechat.nickname?t.userInfo.wechat.nickname:""))+t._s(t.$t("pay.ofAccount"))+"\n    ")]):r("span",{staticStyle:{"font-size":"14px"}},[t._v("\n      ￥"+t._s(t.contint||0)+t._s(t.$t("pay.rmb")+t.$t("profile.withdrawalto")+t.withdrawlNumber||"")+t._s(t.$t("pay.ofAccount"))+"\n    ")]),t._v(" "),r("el-button",{staticClass:"border",attrs:{size:"medium",type:"primary"},on:{click:t.btncash}},[t._v(t._s(t.$t("profile.comfirmwithdrawal")))])],1)]):t._e()}),[],!1,null,"36416ac8",null);e.default=component.exports;installComponents(component,{Message:r(789).default})},1240:function(t,e,r){"use strict";r.r(e);var n=r(5),head=r(716),o=r.n(head),l=r(715),c=r.n(l),d={name:"Wallet",layout:"center_layout",mixins:[o.a,c.a],data:function(){return{title:this.$t("profile.mywallet"),isWithdraw:!1,inputpas:"",usertokenid:"",showNewverify:!1,showNewverify2:!1,setPasswordInput:!1,repPasswordInput:!1,showPasswordInput:!1,passError:!1,codeError:!1,loadingType:"",dataInfo:"",hasPassword:!1,issendcode:!1,isfindpwd:!1,isWithoutphone:!1,passwordErrorTip:""}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}},userId:function(){return this.$store.getters["session/get"]("userId")}},watch:{userId:function(t){t&&this.getInfo()}},mounted:function(){this.userId&&this.getInfo()},methods:{updateWithdraw:function(){this.isWithdraw=!1,this.$refs.cash.getList()},showWithdraw:function(){this.isWithdraw=!0},setPassword:function(){this.setPasswordInput=!0},changePassword:function(){this.showPasswordInput=!0},repeatclose:function(){this.showNewverify2=!1,this.codeError=!1},validatePass:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={_jv:{type:"users/pay-password/reset"},pay_password:e},o=n.status.run((function(){return t.$store.dispatch("jv/post",r)}));o.then((function(e){e._jv.json.data.id&&(t.passError=!1,t.showPasswordInput=!1,t.$message.success(t.$t("modify.authensucceeded")),t.showNewverify=!0,t.usertokenid=e._jv.json.data.id)})).catch((function(e){t.$refs.walletpass.empty();var r=e.response.data.errors;if("validation_error"===r[0].code)return t.passError=!0,void(t.passwordErrorTip=r[0].detail[0]);t.handleError(e)}))},checkpass:function(t){t.length>=6&&(this.inputpas=t,this.showNewverify=!1,this.showNewverify2=!0)},checkpass2:function(t){t.length>=6&&this.validateVerify(t)},setPass:function(t){t.length>=6&&(this.inputpas=t,this.setPasswordInput=!1,this.repPasswordInput=!0)},setPass2:function(t){t.length>=6&&this.validateVerify(t)},validateVerify:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r={_jv:{type:"users",id:this.userId},pay_password_token:this.usertokenid,payPassword:this.inputpas,pay_password_confirmation:e},o=n.status.run((function(){return t.$store.dispatch("jv/patch",r)}));o.then((function(e){t.inputpas="",e&&(t.repPasswordInput=!1,t.showNewverify2=!1,t.$message.success(t.$t("modify.paymentsucceed")),t.getInfo())})).catch((function(e){t.$refs.repeatnewpass&&t.$refs.repeatnewpass.empty(),t.$refs.repeatpass&&t.$refs.repeatpass.empty(),t.codeError=!0,t.handleError(e)}))},getInfo:function(){var t=this;n.status.run((function(){return t.$store.dispatch("jv/get","wallet/user/".concat(t.userId))})).then((function(e){t.dataInfo=e,t.hasPassword=e.user.canWalletPay}),(function(e){return t.handleError(e)}))},findPaypwd:function(){this.dataInfo.user.mobile?this.isfindpwd=!0:this.isWithoutphone=!0}}},f=(r(1134),r(11)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.dataInfo?r("div",{staticClass:"mywallet"},[r("div",{staticClass:"mywallet-top"},[r("div",{staticClass:"mywallet-topitem"},[r("div",{staticClass:"margbtm"},[t._v(t._s(t.$t("profile.availableamount")))]),t._v(" "),t.dataInfo.available_amount>0?r("div",{staticClass:"amount",staticStyle:{color:"#ea3d5a"}},[t._v(t._s("¥ "+(t.dataInfo&&t.dataInfo.available_amount||0))+"\n        "),r("span",{staticClass:"availmount",on:{click:t.showWithdraw}},[t._v(t._s(t.$t("modify.withdratitle")))])]):r("div",{staticClass:"amount"},[t._v(t._s("¥ "+(t.dataInfo&&t.dataInfo.available_amount||0))+"\n        "),r("span",{staticClass:"availmount",on:{click:t.showWithdraw}},[t._v(t._s(t.$t("modify.withdratitle")))])])]),t._v(" "),r("div",{staticClass:"mywallet-topitem mymarg"},[r("div",{staticClass:"margbtm"},[t._v(t._s(t.$t("profile.freezeamount")))]),t._v(" "),t.dataInfo.freeze_amount>0?r("div",{staticClass:"amount",staticStyle:{color:"#888888"}},[t._v(t._s("¥ "+(t.dataInfo&&t.dataInfo.freeze_amount||0)))]):r("div",{staticClass:"amount"},[t._v(t._s("¥ "+(t.dataInfo&&t.dataInfo.freeze_amount||0)))])]),t._v(" "),r("div",{staticClass:"mywallet-topitem mywallet-r"},[r("div",{staticClass:"margbtm"},[t._v(t._s(t.$t("pay.payPassword")))]),t._v(" "),t.hasPassword?r("div",[r("span",{staticClass:"changepas",on:{click:t.changePassword}},[r("svg-icon",{staticClass:"shield-icon",attrs:{type:"shield"}}),t._v(t._s(t.$t("profile.walletpasset"))+"\n        ")],1)]):r("div",{staticStyle:{cursor:"pointer"},on:{click:t.setPassword}},[r("svg-icon",{staticClass:"shield-icon",attrs:{type:"warning"}}),t._v(t._s(t.$t("profile.setpaypassword"))+"\n      ")],1)]),t._v(" "),t.hasPassword?r("div",[t.showPasswordInput?r("wallet-password",{ref:"walletpass",attrs:{error:t.passError,"password-error-tip":t.passwordErrorTip},on:{close:function(e){t.showPasswordInput=!1},password:t.validatePass,findpaypwd:t.findPaypwd}}):t._e(),t._v(" "),t.showNewverify?r("set-newpassword",{on:{close:function(e){t.showNewverify=!1},password:t.checkpass}}):t._e(),t._v(" "),t.showNewverify2?r("repeat-newpassword",{ref:"repeatnewpass",attrs:{error:t.codeError},on:{close:t.repeatclose,password:t.checkpass2}}):t._e()],1):r("div",[t.setPasswordInput?r("set-password",{on:{close:function(e){t.setPasswordInput=!1},password:t.setPass}}):t._e(),t._v(" "),t.repPasswordInput?r("repeat-password",{ref:"repeatpass",attrs:{error:t.codeError},on:{close:function(e){t.repPasswordInput=!1},password:t.setPass2}}):t._e()],1),t._v(" "),t.isfindpwd?r("find-paypwd",{attrs:{mobile:t.dataInfo.user.mobile,phonenum:t.dataInfo.user.originalMobile},on:{close:function(e){t.isfindpwd=!1}}}):t._e(),t._v(" "),t.isWithoutphone?r("without-phone",{on:{close:function(e){t.isWithoutphone=!1}}}):t._e()],1),t._v(" "),r("el-tabs",{staticClass:"register-select",attrs:{type:"border-card"}},[r("el-tab-pane",{attrs:{label:t.$t("profile.withdrawalslist")}},[r("cash-dialog",{ref:"cash"})],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("profile.freezeamount")}},[r("freeze-amount")],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("profile.walletlist")}},[r("wallet-detail")],1),t._v(" "),r("el-tab-pane",{attrs:{label:t.$t("profile.orderlist")}},[r("order-detail")],1)],1),t._v(" "),t.isWithdraw?r("withdrawal",{on:{close:t.updateWithdraw}}):t._e()],1):t._e()}),[],!1,null,"1416268c",null);e.default=component.exports;installComponents(component,{SvgIcon:r(62).default,WalletPassword:r(1203).default,SetNewpassword:r(1204).default,RepeatNewpassword:r(1205).default,SetPassword:r(1206).default,RepeatPassword:r(1207).default,FindPaypwd:r(898).default,WithoutPhone:r(899).default,CashDialog:r(1208).default,FreezeAmount:r(1209).default,WalletDetail:r(1210).default,OrderDetail:r(1211).default,Withdrawal:r(1212).default})},717:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return l}));r(52),r(159);var n=function(time){var t=((window.currentTime||new Date)-new Date(time))/1e3;return 0===parseInt(t)?"刚刚发布":parseInt(t)<60?"".concat(parseInt(t),"秒前"):parseInt(t/60)<60?"".concat(parseInt(t/60),"分钟前"):parseInt(t/60/60)<16?"".concat(parseInt(t/60/60),"小时前"):time.replace(/T/," ").replace(/Z/,"").substring(0,16)},o=function(t){var e=t-Math.round(new Date/1e3);return parseInt(e/86400,0)},l=function(t){var e=Math.round(new Date(t)/1e3),r=Math.round(new Date/1e3)-e,n=parseInt(r/86400,0);if(n>365){var o=parseInt(r/86400/365,0);return"".concat(o,"年")}return"".concat(n,"天")}},893:function(t,e){t.exports={methods:{countDown:function(t){var e=this;if(this.canClick){var r=t;this.canClick=!1,this.content=r+this.$t("modify.retransmission");var n=setInterval((function(){r-=1,e.content=r+e.$t("modify.retransmission"),r<0&&(clearInterval(n),e.content=e.$t("modify.sendVerifyCode"),e.canClick=!0)}),1e3)}}}}},938:function(t,e,r){t.exports={methods:{setCurrentTime:function(){var t=window.currentTime||new Date,e=t.getFullYear(),r=t.getMonth()+1;r=r<10?"0".concat(r):r,this.date="".concat(e,"-").concat(r)}}}}}]);