(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{636:function(t,e){t.exports={data:function(){return{wehcatTimer:null,wechatBind:{}}},destroyed:function(){window.clearInterval(this.wehcatTimer)},methods:{createQRcode:function(){var t=this;this.$store.dispatch("jv/get","/oauth/wechat/pc/qrcode").then((function(e){if(e){t.wechatBind=e;var n=t;t.wehcatTimer=setInterval(n.getWechatStatus,3e3)}}),(function(e){return t.handleError(e)}))},getWechatStatus:function(){var t=this;this.wechatBind&&!this.wechatBind.session_token||this.$store.dispatch("jv/get","/oauth/wechat/pc/login/".concat(this.wechatBind.session_token)).then((function(e){e.pc_login&&(window.clearInterval(t.wehcatTimer),t.userinfo(),t.isWechatModify=!1,t.$message.success("绑定成功"))}),(function(e){t.handleError(e),window.clearInterval(t.wehcatTimer),t.createQRcode()}))}}}}}]);