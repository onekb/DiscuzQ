(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{119:function(t,e,r){"use strict";r.r(e),r.d(e,"Utils",(function(){return k})),r.d(e,"ActionStatus",(function(){return R}));r(37),r(29),r(36),r(38),r(27),r(30),r(339);var n=r(121),o=(r(51),r(60),r(85)),c=(r(340),r(61),r(10)),l=r(6),f=(r(101),r(20),r(11),r(39),r(23)),d=r(160),h=r(161),v=r(0),y=r(18),m=r.n(y),j=r(226),O=r.n(j),E=r(50),S=r.n(E);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function I(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var k=function(){function t(e){Object(d.a)(this,t),this.conf=e,this.jvtag=e.jvtag,this.context=null}return Object(h.a)(t,[{key:"_copy",value:function(data){var t=Array.isArray(data)?[]:{};for(var e in data)"object"===Object(f.a)(data[e])&&null!==data[e]?t[e]=this._copy(data[e]):t[e]=data[e];return t}},{key:"addJvHelpers",value:function(t){var e=this.jvtag,r=this.hasProperty;return!t[e]||r(t[e],"isRel")||r(t[e],"isAttr")||Object.assign(t[e],{isRel:function(n){return r(m()(t,[e,"relationships"],{}),n)},isAttr:function(n){return n!==e&&r(t,n)&&!t[e].isRel(n)}}),r(t,e)&&(Object.defineProperty(t[e],"rels",{get:function(){for(var r={},n=0,o=Object.keys(m()(t,[e,"relationships"],{}));n<o.length;n++){var c=o[n];r[c]=t[c]}return r},configurable:!0}),Object.defineProperty(t[e],"attrs",{get:function(){for(var r={},n=0,o=Object.entries(t);n<o.length;n++){var c=Object(l.a)(o[n],2),f=c[0],d=c[1];t[e].isAttr(f)&&(r[f]=d)}return r},configurable:!0})),t}},{key:"checkAndFollowRelationships",value:function(t,e,r,n){if(this.conf.followRelationshipsData){var o={};if(this.hasProperty(r,this.jvtag))o=this.followRelationships(t,e,r,n);else for(var c=0,f=Object.entries(r);c<f.length;c++){var d=Object(l.a)(f[c],2),h=d[0],v=d[1];o[h]=this.followRelationships(t,e,v,n)}if(o)return o}return r}},{key:"cleanPatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.deepCopy(t),o=m()(n,[this.jvtag,"attrs"]),f=Object(c.a)({},this.jvtag,{}),d=m()(e,[n[this.jvtag].type,n[this.jvtag].id]);if(d)for(var h=0,v=Object.entries(o);h<v.length;h++){var y=Object(l.a)(v[h],2),j=y[0],E=y[1];this.hasProperty(d,j)&&O()(d[j],E)||(f[j]=E)}else Object.assign(f,o);f[this.jvtag].type=t[this.jvtag].type,f[this.jvtag].id=t[this.jvtag].id;var S,_=I(r);try{for(_.s();!(S=_.n()).done;){var w=S.value,T=m()(t,[this.jvtag,w]);T&&(f[this.jvtag][w]=T)}}catch(t){_.e(t)}finally{_.f()}return f}},{key:"deepCopy",value:function(t){var e=this._copy(t);return Object.entries(e).length?(this.hasProperty(e,this.jvtag)&&(e=this.addJvHelpers(e)),e):t}},{key:"followRelationships",value:function(t,e,r,n){var data={};void 0===Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(t){var e;if(null==t)throw new TypeError("Cannot convert undefined or null to object");var r,n=Object.getOwnPropertyDescriptor(t,"__proto__"),o=n?((e={}).__proto__=n,e):{},c=I(Object.getOwnPropertyNames(t));try{for(c.s();!(r=c.n()).done;){var l=r.value;o[l]=Object.getOwnPropertyDescriptor(t,l)}}catch(t){c.e(t)}finally{c.f()}return o}),Object.defineProperties(data,Object.getOwnPropertyDescriptors(r));var o=this.getRelationships(e,data,n);return Object.defineProperties(data,Object.getOwnPropertyDescriptors(o)),this.addJvHelpers(data)}},{key:"getRelationships",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.conf,l=this.jvtag,f=m()(e,[l,"relationships"],{}),d={},h=0,v=Object.keys(f);h<v.length;h++){var y=v[h],j=m()(f,[y,"data"]);if(d[y]={},j){var O,E=!Array.isArray(j),S=[],_=I(E?Array.of(j):j);try{var w=function(){var e=O.value,f=e.type,d=e.id,h=[y,f,d],data={};data=!n.recurseRelationships&&r.some((function(a){return a.every((function(t,i){return t===h[i]}))}))?Object(c.a)({},l,{type:f,id:d}):t.get("".concat(f,"/").concat(d),void 0,[].concat(Object(o.a)(r),[[y,f,d]])),-1===S.indexOf(data)&&S.push(data)};for(_.s();!(O=_.n()).done;)w()}catch(t){_.e(t)}finally{_.f()}d[y]=E?S[0]:S}}return d}},{key:"getTypeId",value:function(data){var t,e,r;if("string"==typeof data){var n=data.replace(/^\//,"").split("/"),o=Object(l.a)(n,3);t=o[0],e=o[1],r=o[2]}else{var c=data[this.jvtag];t=c.type,e=c.id}return[t&&encodeURIComponent(t),e&&encodeURIComponent(e),r&&encodeURIComponent(r)].filter(Boolean)}},{key:"getURL",value:function(data){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],path=data;if("object"===Object(f.a)(data))if(m()(data,[this.jvtag,"links","self"])&&!t)path=data[this.jvtag].links.self;else{var e=data[this.jvtag],r=e.type,n=e.id;path=r,n&&!t&&(path+="/".concat(n))}return path}},{key:"hasProperty",value:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},{key:"jsonapiToNorm",value:function(data){var t=this,e={};return Array.isArray(data)?data.forEach((function(r){var n=r.id;t.hasProperty(e,n)||(e[n]={}),Object.assign(e[n],t.jsonapiToNormItem(r))})):Object.assign(e,this.jsonapiToNormItem(data)),e}},{key:"jsonapiToNormItem",value:function(data){if(!data)return{};var t=w(Object(c.a)({},this.jvtag,data),data.attributes),e=t[this.jvtag],r=(e.attributes,Object(n.a)(e,["attributes"]));return t[this.jvtag]=r,t}},{key:"normToJsonapi",value:function(t){var e=[];if(this.hasProperty(t,this.jvtag))e.push(this.normToJsonapiItem(t));else for(var r=0,n=Object.values(t);r<n.length;r++){var o=n[r];e.push(this.normToJsonapiItem(o))}return 1===e.length?{data:e[0]}:{data:e}}},{key:"normToJsonapiItem",value:function(data){for(var t={},e=0,r=["id","type","relationships","meta","links"];e<r.length;e++){var n=r[e];this.hasProperty(data[this.jvtag],n)&&(t[n]=data[this.jvtag][n])}return this.hasProperty(data[this.jvtag],"attrs")?t.attributes=data[this.jvtag].attrs:(t.attributes=w({},data),delete t.attributes[this.jvtag]),t}},{key:"normToStore",value:function(t){var e={};this.hasProperty(t,this.jvtag)&&(t=Object(c.a)({},t[this.jvtag].id,t));for(var r=0,n=Object.values(t);r<n.length;r++){var o=n[r],l=o[this.jvtag],f=l.type,d=l.id;if(this.hasProperty(e,f)||(e[f]={}),this.conf.followRelationshipsData)for(var h in o[this.jvtag].rels)delete o[h];e[f][d]=o}return e}},{key:"preserveJSON",value:function(data,t){return this.conf.preserveJson&&data&&(this.hasProperty(data,this.jvtag)||(data[this.jvtag]={}),data[this.jvtag].json=t),data}},{key:"processIncludedRecords",value:function(t,e){var r,n=I(m()(e,["data","included"],[]));try{for(n.s();!(r=n.n()).done;){var o=r.value,c=this.jsonapiToNormItem(o);t.commit("addRecords",c)}}catch(t){n.e(t)}finally{n.f()}}},{key:"pushPayload",value:function(t,e){this.context=e,t.included&&t.included.map(this.pushObject.bind(this));var r=t.data instanceof Array?t.data.map(this.pushObject.bind(this)):this.pushObject(t.data);return r=this.preserveJSON(r,t)}},{key:"pushObject",value:function(data){var t=this.jsonapiToNormItem(data);return this.context.commit("addRecords",t),this.conf.followRelationshipsData&&(t=this.followRelationships(this.context.state,this.context.getters,t)),t}},{key:"unpackArgs",value:function(t){return Array.isArray(t)?t:[t,{}]}},{key:"updateRecords",value:function(t,e){for(var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.conf.mergeRecords,o=this.normToStore(e),c=0,f=Object.entries(o);c<f.length;c++){var d=Object(l.a)(f[c],2),h=d[0],y=d[1];this.hasProperty(t,h)||(v.default.set(t,h,{}),n=!1);for(var j=function(){var e=Object(l.a)(E[O],2),o=e[0],data=e[1];if(n){var c=m()(t,[h,o]);c&&(r.hasProperty(c,"_jv")&&r.hasProperty(c._jv,"relationships")&&Object.keys(c._jv.relationships).forEach((function(t){r.hasProperty(data,"_jv")&&r.hasProperty(data._jv,"relationships")&&r.hasProperty(data._jv.relationships,t)&&(c._jv.relationships[t]=data._jv.relationships[t])})),"users"===data._jv.type&&(data.avatarUrl=c.avatarUrl),data=S()(c,data))}v.default.set(t[h],o,data)},O=0,E=Object.entries(y);O<E.length;O++)j()}}}]),t}(),R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;Object(d.a)(this,t),this.PENDING=0,this.SUCCESS=1,this.ERROR=-1,this.maxID=e||-1,this.status={},this.counter=0}return Object(h.a)(t,[{key:"_count",value:function(){return this.counter===this.maxID&&(this.counter=0),++this.counter}},{key:"run",value:function(t){var e=this,r=this._count();this.status[r]=this.PENDING;var n=new Promise((function(n,o){t().then((function(t){e.status[r]=e.SUCCESS,n(t)})).catch((function(t){e.status[r]=e.ERROR,o(t)}))}));return n._statusID=r,n}}]),t}()},147:function(t,e,r){"use strict";r.r(e);r(37),r(29),r(38),r(27),r(30),r(36),r(20),r(11),r(101);var n=r(10),o=r(23),c=(r(32),r(8)),l=r(6),f=r(18),d=r.n(f),h=r(50),v=r.n(h),y=r(5);function m(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}e.default=function t(e,r){var f,h=r.jvtag;return{get:function(t,n){var o=y.utils.unpackArgs(n),c=Object(l.a)(o,2),data=c[0],f=c[1],d={method:"get",url:y.utils.getURL(data)};return f.data=f.data||{},v()(d,f),e(d).then((function(e){var n=y.utils.pushPayload(e.data,t);if(r.clearOnUpdate){var o=n;if(0===n.length){var c=y.utils.getTypeId(n);o={_jv:{type:Object(l.a)(c,1)[0]}}}t.commit("clearRecords",o)}return n}))},getRelated:(f=Object(c.a)(regeneratorRuntime.mark((function t(r,c){var data,f,j,O,E,S,_,w,I,T,k,R,A,P,x,C,D,N,U,L;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(data=y.utils.unpackArgs(c)[0],f=y.utils.getTypeId(data),j=Object(l.a)(f,3),O=j[0],E=j[1],S=j[2],O&&E){t.next=4;break}throw"No type/id specified";case 4:if("object"!==Object(o.a)(data)||!y.utils.hasProperty(data[h],"relationships")){t.next=8;break}_=data[h].relationships,t.next=13;break;case 8:return t.next=10,r.dispatch("get",c);case 10:w=t.sent,_=d()(w,[h,"relationships"],{}),S&&y.utils.hasProperty(_,S)&&(_=Object(n.a)({},S,_[S]));case 13:I=[],T=[],k=0,R=Object.entries(_);case 16:if(!(k<R.length)){t.next=35;break}if(A=Object(l.a)(R[k],2),P=A[0],x=A[1],C=void 0,x){t.next=30;break}return t.prev=20,t.next=23,e.get("".concat(O,"/").concat(E,"/relationships/").concat(P));case 23:D=t.sent,x=D.data,t.next=30;break;case 27:throw t.prev=27,t.t0=t.catch(20),"No such relationship: ".concat(P);case 30:if(y.utils.hasProperty(x,"data")&&null!==x.data?(C=x.data,Array.isArray(C)||(C=[C])):y.utils.hasProperty(x,"links")&&("string"!=typeof(C=x.links.related)&&(C=C.href),C=[C]),C){N=m(C);try{for(N.s();!(U=N.n()).done;)"string"!=typeof(L=U.value)&&(L=Object(n.a)({},h,L)),I.push(P),T.push(r.dispatch("get",L))}catch(t){N.e(t)}finally{N.f()}}else I.push(P),T.push(new Promise((function(t){t({})})));case 32:k++,t.next=16;break;case 35:return t.abrupt("return",Promise.all(T).then((function(t){var e={};return t.forEach((function(t,i){var r=I[i],o=Object(n.a)({},r,{});y.utils.hasProperty(t,h)&&(o[r][t[h].type]=Object(n.a)({},t[h].id,t)),v()(e,o)})),e})));case 36:case"end":return t.stop()}}),t,null,[[20,27]])}))),function(t,e){return f.apply(this,arguments)}),post:function(t,r){var n=y.utils.unpackArgs(r),o=Object(l.a)(n,2),data=o[0],c=o[1],f={method:"post",url:y.utils.getURL(data,!0),data:y.utils.normToJsonapi(data)};return v()(f,c),e(f).then((function(e){return y.utils.processIncludedRecords(t,e),200!==e.status&&201!==e.status||(data=y.utils.jsonapiToNorm(e.data.data)),t.commit("addRecords",data),y.utils.preserveJSON(t.getters.get(data),e.data)}))},patch:function(t,n){var o=y.utils.unpackArgs(n),c=Object(l.a)(o,2),data=c[0],f=c[1];r.cleanPatch&&(data=y.utils.cleanPatch(data,t.state,r.cleanPatchProps));var d={method:"patch",url:y.utils.getURL(data),data:y.utils.normToJsonapi(data)};return v()(d,f),e(d).then((function(e){return y.utils.processIncludedRecords(t,e),t.commit("mergeRecords",Object.assign(data,e.data.data.attributes)),y.utils.preserveJSON(y.utils.deepCopy(t.getters.get(data)),e.data)}))},delete:function(t,r){var n=y.utils.unpackArgs(r),o=Object(l.a)(n,2),data=o[0],c=o[1],f={method:"delete",url:y.utils.getURL(data)};return v()(f,c),e(f).then((function(e){return y.utils.processIncludedRecords(t,e),t.commit("deleteRecord",data),e.data?y.utils.preserveJSON(y.utils.jsonapiToNorm(e.data.data),e.data):data}))},search:function(n,o){var c={commit:function(){},dispatch:n.dispatch,getters:n.getters};return t(e,r).get(c,o)},get fetch(){return this.get},get create(){return this.post},get update(){return this.patch}}}},148:function(t,e,r){"use strict";r.r(e),e.default={jvtag:"_jv",followRelationshipsData:!0,preserveJson:!1,mergeRecords:!1,clearOnUpdate:!1,cleanPatch:!1,cleanPatchProps:[],recurseRelationships:!1,maxStatusID:-1}},149:function(t,e,r){"use strict";r.r(e);r(39),r(20),r(11),r(101);var n=r(6),o=r(0),c=r(18),l=r.n(c),f=r(5);e.default=function(){return{deleteRecord:function(t,e){var r=f.utils.getTypeId(e),c=Object(n.a)(r,2),l=c[0],d=c[1];if(!l||!d)throw"deleteRecord: Missing type or id: ".concat(e);o.default.delete(t[l],d)},addRecords:function(t,e){f.utils.updateRecords(t,e)},replaceRecords:function(t,e){f.utils.updateRecords(t,e,!1)},mergeRecords:function(t,e){f.utils.updateRecords(t,e,!0)},clearRecords:function(t,e){for(var r=f.utils.normToStore(e),c=0,d=Object.entries(r);c<d.length;c++)for(var h=Object(n.a)(d[c],2),v=h[0],y=h[1],m=l()(t,[v],{}),j=0,O=Object.keys(m);j<O.length;j++){var E=O[j];f.utils.hasProperty(y,E)||o.default.delete(t[v],E)}}}}},150:function(t,e,r){"use strict";r.r(e);r(20),r(37),r(29),r(36),r(38),r(27),r(30),r(11);var n=r(6),o=r(18),c=r.n(o),l=r(225),f=r(5);function d(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}e.default=function(t){var e=t.jvtag;return{get:function(t,r){return function(data,o,c){var h;if(data){var v=f.utils.getTypeId(data),y=Object(n.a)(v,2),m=y[0],j=y[1];if(!f.utils.hasProperty(t,m))return{};if(j){if(!f.utils.hasProperty(t[m],j))return{};h=t[m][j]}else h=t[m];h=f.utils.checkAndFollowRelationships(t,r,h,c)}else h=t;if(o){var O=Object(l.a)({path:o,json:h});if(Array.isArray(O)){h={};var E,S=d(O);try{for(S.s();!(E=S.n()).done;){var _=E.value;h[_[e].id]=_}}catch(t){S.e(t)}finally{S.f()}}}return h}},getRelated:function(t,e){return function(data,r){var o=f.utils.getTypeId(data),l=Object(n.a)(o,2),d=l[0],h=l[1];if(!d||!h)throw"No type/id specified";var v=c()(t,[d,h]);return v?f.utils.getRelationships(e,v,r):{}}}}}},151:function(t,e,r){"use strict";r.r(e);var n,o=r(10),c=(r(11),r(33)),l=r(5),f=r(19),d=localStorage.getItem("access_token"),h=function(t,e,r){var n=l.utils.jsonapiToNorm(e.data.data);t.commit(f.SET_USER_ID,n._jv.id),t.commit(f.CHECK_SESSION,!0),t.commit(f.SET_ACCESS_TOKEN,n.access_token),r(n)},v={setUserId:function(t,e){t.commit(f.SET_USER_ID,e)},checkSession:function(t,e){t.commit(f.CHECK_SESSION,e)},setAccessToken:function(t,e){t.commit(f.SET_ACCESS_TOKEN,e)},setAuth:function(t,e){t.commit(f.SET_AUTH,e)},verificationCodeh5Login:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){return c.a.post("sms/verify",e).then((function(e){r(e),h(t,e,r)})).catch((function(t){r(t.response)}))}))},h5Login:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){return c.a.post("login",e).then((function(e){r(e),h(t,e,r)})).catch((function(t){r(t.response)}))}))},h5Register:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){return c.a.post("register",e).then((function(e){r(e),h(t,e,r)})).catch((function(t){r(t.response)}))}))},logout:function(t){return new Promise((function(e){t.commit(f.DELETE_USER_ID),t.commit(f.DELETE_ACCESS_TOKEN),e()}))}},y=(n={},Object(o.a)(n,f.SET_USER_ID,(function(t,e){localStorage.setItem("user_id",e),t.userId=e})),Object(o.a)(n,f.CHECK_SESSION,(function(t,e){t.wxLogin=e})),Object(o.a)(n,f.SET_ACCESS_TOKEN,(function(t,e){localStorage.setItem("access_token",e),t.accessToken=e})),Object(o.a)(n,f.SET_AUTH,(function(t,e){t.auth=e})),Object(o.a)(n,f.DELETE_USER_ID,(function(t){localStorage.removeItem("user_id"),t.userId=0})),Object(o.a)(n,f.DELETE_ACCESS_TOKEN,(function(t){localStorage.removeItem("access_token"),t.accessToken=""})),n),m={get:function(t){return function(data){switch(data){case"userId":return localStorage.getItem("user_id");case"isWxLogin":return t.wxLogin;case"isLogin":return!!localStorage.getItem("access_token");default:return t[data]}}}};e.default={namespaced:!0,state:function(){return{userId:0,wxLogin:!1,accessToken:d,auth:{},categoryId:0,categoryIndex:0}},actions:v,getters:m,mutations:y}},152:function(t,e,r){"use strict";r.r(e);r(11);var n=r(33),o={SET_SITE_INFO:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.info=e}},c={getSiteInfo:function(t){var e=t.commit;return new Promise((function(t,r){n.a.get("/forum",{params:{include:"users"}}).then((function(n){200===n.status&&n.data&&n.data.data?(e("SET_SITE_INFO",n.data.data),t(n.data.data)):r()})).catch((function(t){r(t)}))}))}};e.default={namespaced:!0,state:function(){return{info:{}}},actions:c,mutations:o}},153:function(t,e,r){"use strict";r.r(e);r(11);var n=r(33),o={SET_USER_INFO:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.info=e}},c={getUserInfo:function(t,e){t.dispatch;var r=t.commit;return new Promise((function(t,o){n.a.get("/users/".concat(e)).then((function(e){if(200===e.status&&e.data&&e.data.data){var n=e.data.data;r("SET_USER_INFO",n),t(n)}else o()})).catch((function(t){o()}))}))}};e.default={namespaced:!0,state:function(){return{info:{}}},actions:c,mutations:o}},164:function(t,e,r){"use strict";r(348),r(7);var n=r(229),o=r.n(n),c=(r(211),r(120)),l=r.n(c),f=(r(355),r(230)),d=r.n(f),h=(r(356),r(231)),v=r.n(h),y=(r(357),r(232)),m=r.n(y),j=(r(358),r(233)),O=r.n(j),E=(r(359),r(234)),S=r.n(E),_=(r(360),r(154)),w=r.n(_),I=(r(361),r(235)),T=r.n(I),k=(r(363),r(236)),R=r.n(k),A=(r(364),r(237)),P=r.n(A),x=(r(369),r(238)),C=r.n(x),D=(r(370),r(239)),N=r.n(D),U=(r(377),r(156)),L=r.n(U),J=(r(378),r(155)),K=r.n(J),M=(r(379),r(240)),H=r.n(M),F=(r(382),r(241)),B=r.n(F),G=(r(383),r(242)),$=r.n(G),Y=(r(384),r(243)),z=r.n(Y),W=(r(385),r(244)),X=r.n(W),Q=(r(386),r(245)),V=r.n(Q),Z=(r(387),r(246)),tt=r.n(Z),et=(r(388),r(247)),nt=r.n(et),at=(r(389),r(248)),it=r.n(at),ot=(r(390),r(249)),st=r.n(ot),ct=(r(391),r(250)),ut=r.n(ct),lt=(r(392),r(251)),ft=r.n(lt),pt=(r(394),r(252)),ht=r.n(pt),vt=(r(396),r(157)),gt=r.n(vt),yt=(r(397),r(117)),mt=r.n(yt),bt=(r(398),r(253)),jt=r.n(bt),Ot=(r(399),r(254)),Et=r.n(Ot),St=(r(400),r(255)),_t=r.n(St),wt=(r(401),r(65)),It=r.n(wt),Tt=(r(402),r(80)),kt=r.n(Tt),Rt=r(0),At=r(9),Pt=r.n(At);Rt.default.use(kt.a,{locale:Pt.a}),Rt.default.use(It.a,{locale:Pt.a}),Rt.default.use(_t.a,{locale:Pt.a}),Rt.default.use(Et.a,{locale:Pt.a}),Rt.default.use(jt.a,{locale:Pt.a}),Rt.default.use(mt.a,{locale:Pt.a}),Rt.default.use(gt.a,{locale:Pt.a}),Rt.default.use(ht.a,{locale:Pt.a}),Rt.default.use(ft.a,{locale:Pt.a}),Rt.default.use(ut.a,{locale:Pt.a}),Rt.default.use(st.a,{locale:Pt.a}),Rt.default.use(it.a,{locale:Pt.a}),Rt.default.use(nt.a,{locale:Pt.a}),Rt.default.use(tt.a,{locale:Pt.a}),Rt.default.use(V.a,{locale:Pt.a}),Rt.default.use(X.a,{locale:Pt.a}),Rt.default.use(z.a,{locale:Pt.a}),Rt.default.use($.a,{locale:Pt.a}),Rt.default.use(B.a,{locale:Pt.a}),Rt.default.use(H.a,{locale:Pt.a}),Rt.default.use(K.a,{locale:Pt.a}),Rt.default.use(L.a,{locale:Pt.a}),Rt.default.use(N.a,{locale:Pt.a}),Rt.default.use(C.a,{locale:Pt.a}),Rt.default.use(P.a,{locale:Pt.a}),Rt.default.use(R.a,{locale:Pt.a}),Rt.default.use(T.a,{locale:Pt.a}),Rt.default.use(w.a,{locale:Pt.a}),Rt.default.use(S.a,{locale:Pt.a}),Rt.default.use(O.a,{locale:Pt.a}),Rt.default.use(m.a,{locale:Pt.a}),Rt.default.use(v.a,{locale:Pt.a}),Rt.default.use(d.a,{locale:Pt.a}),Rt.default.prototype.$message=l.a,Rt.default.prototype.$confirm=o.a.confirm},165:function(t,e,r){"use strict";r(27),r(20),r(11);var n,o=r(0),c=r(59);(n=r(403)).keys().forEach(n),o.default.component(c.default.name,c.default)},167:function(t,e,r){"use strict";var n=r(58),o=r.n(n),c=r(0);o.a.whiteList.img=["src","alt","title","width","height","class"],o.a.whiteList.button=["class"],o.a.whiteList.input=["data-task-id","type","disabled"],o.a.whiteList.ul=["class"],o.a.whiteList.li=["class","data-task-state"],c.default.prototype.$xss=o.a},168:function(t,e,r){"use strict";var n=r(0),o=r(256),c=r.n(o);n.default.use(c.a)},169:function(t,e,r){"use strict";var n=r(0),o=r(170),c=r.n(o);n.default.use(c.a),c.a.setDefaults({Options:{inline:!0,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"}})},171:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(51);function n(){window.sessionStorage.setItem("__TD_td_channel",window.location.hostname.replace(/\./g,"_"));var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://jic.talkingdata.com/app/h5/v1?appid=750AEE91CF4446A19A2D12D5EE32F725",document.getElementsByTagName("body")[0].appendChild(t);var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://dl.discuz.chat/dzq.js",document.getElementsByTagName("body")[0].appendChild(e)}},172:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(33);function o(){n.a.get("/forum").then((function(t){if(200===t.status&&t.data&&t.data.data){var data=t.data.data;data.attributes&&data.attributes.set_site&&data.attributes.set_site.site_stat&&function(s){if(-1===s.indexOf("<script"))return s;var p=/<script[^\>]*?>([^\x00]*?)<\/script>/gi,t=[];for(;t=p.exec(s);){var e=/<script[^\>]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\/script>/i,r=[];(r=e.exec(t[0]))?c(r[1],"",r[2],r[3]):c("",(r=(e=/<script(.*?)>([^\x00]+?)<\/script>/i).exec(t[0]))[2],-1!==r[1].indexOf("reload="))}}(data.attributes.set_site.site_stat)}}))}function c(t,text,e,r){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=0,i=0,n="",o="";for(o=e-t.length%e,i=0;i<o;i+=1)t+="0";for(;r<t.length;)n=l(n,t.substr(r,e)),r+=e;return n}(t+text),o=[],c=[];if(e||!function(t,e){if("string"==typeof t||"number"==typeof t)for(var i in e)if(e[i]===t)return!0;return!1}(n,o)){e&&document.getElementById(n)&&document.getElementById(n).parentNode.removeChild(document.getElementById(n)),o.push(n);var f=document.createElement("script");f.type="text/javascript",f.id=n;try{t?(f.src=t,f.onloadDone=!1,f.onload=function(){f.onloadDone=!0,c[t]=1},f.onreadystatechange=function(){"loaded"!==f.readyState&&"complete"!==f.readyState||f.onloadDone||(f.onloadDone=!0,c[t]=1)}):text&&(f.text=text),document.getElementsByTagName("head")[0].appendChild(f)}catch(t){}}}function l(t,e){for(var s="",r=Math.max(t.length,e.length),i=0;i<r;i++){var n=t.charCodeAt(i)^e.charCodeAt(i);s+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(n%52)}return s}},173:function(t,e,r){"use strict";r(511);var n=r(0),o=r(174);n.default.component("DynamicScroller",o.a),n.default.component("DynamicScrollerItem",o.b)},175:function(t,e,r){"use strict";r(20),r(11),r(39),r(40),r(32);var n=r(8),o=[{h5:"/topic/index",pc:"/thread",dynamic:"id"},{h5:"/topic/post",pc:"/thread/post"},{h5:"/pages/topic/comment",pc:"/thread/comment"},{h5:"/pages/user/register-bind",pc:"/user/register-bind"},{h5:"/pages/user/register",pc:"/user/register"},{h5:"/pages/user/phone-login-register",pc:"/user/phone-login-register"},{h5:"/pages/user/login",pc:"/user/login"},{h5:"/pages/user/phone-login",pc:"/user/phone-login"},{h5:"/pages/user/supple-mentary",pc:"/user/supple-mentary"},{h5:"/pages/profile/index",pc:"/user",dynamic:"userId"},{h5:"/pages/my/wallet",pc:"/my/wallet"},{h5:"/pages/my/profile",pc:"/my/profile"},{h5:"/pages/my/shield",pc:"/my/shield"},{h5:"/pages/site/info",pc:"/site/info"},{h5:"/pages/site/partner-invite",pc:"/site/partner-invite"},{h5:"/pages/site/search",pc:"/site/search"},{h5:"/pages/site/search-user",pc:"/site/search-user"},{h5:"/pages/topic/position",pc:"/topic/position"},{h5:"/pages/topic/content",pc:"/topic",dynamic:"id"},{h5:"/pages/topic/list",pc:"/topic/list"},{h5:"/pages/site/index",pc:"/site"},{h5:"/pages/manage/index",pc:"/manage"},{h5:"/pages/invite/index",pc:"/invite"},{h5:"/pages/my/favorite",pc:"/my/favorite"}],c=["/user/wechat-bind-phone","/user/login-bind-phone","/user/login-bind","/user/phone-login-register","/user/phone-login","/user/register-bind-phone","/user/register-bind","/user/wechat","/user/login","/user/register","/site/info","/user/warning","/user/agreement","/user/agreement","/modify/findpwd","/site/partner-invite","/modify/resetpwdsuccess"],l=["/user/wechat-bind-phone","/user/login-bind-phone","/user/login-bind","/user/phone-login-register","/user/phone-login","/user/register-bind-phone","/user/register-bind","/user/wechat","/user/login","/user/register"];e.a=function(t){var e=t.app,r=e.store,f=e.router;f.beforeEach(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,n,d){var path,h,v,y,m,j,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(v in path=e.path,h="?",e.query)h+="".concat(v,"=").concat(e.query[v],"&");if("/"===path&&h&&h.indexOf("categoryId")>=0&&d({path:"/category/"+e.query.categoryId}),o.forEach((function(t){t.h5===path&&(t.dynamic?d({path:t.pc+"/"+e.query[t.dynamic]}):d({path:t.pc+"/"+h}))})),f.history.pending&&(f.history.current=f.history.pending),"/site/close"!==n.path||"/user/login"!==e.path){t.next=9;break}return t.abrupt("return",d());case 9:if(r.state.site.info.id){t.next=26;break}return t.prev=10,t.next=13,r.dispatch("site/getSiteInfo");case 13:t.next=26;break;case 15:if(t.prev=15,t.t0=t.catch(10),!(t.t0&&t.t0.response&&t.t0.response.data&&t.t0.response.data.errors)){t.next=26;break}if("site_closed"!==(y=t.t0.response.data.errors)[0].code){t.next=26;break}return t.next=22,r.dispatch("forum/setError",{code:y[0].code,detail:y[0].detail[0]});case 22:if("/site/close"!==e.path){t.next=24;break}return t.abrupt("return",d());case 24:return d({path:"/site/close"}),t.abrupt("return");case 26:if(m=localStorage.getItem("user_id")||"",r.state.user.info.id||!m){t.next=37;break}return t.prev=28,t.next=31,r.dispatch("user/getUserInfo",m);case 31:r.commit("session/SET_USER_ID",m),t.next=37;break;case 34:t.prev=34,t.t1=t.catch(28),r.commit("user/SET_USER_INFO",{});case 37:if(!l.includes(e.path)){t.next=40;break}if(!m){t.next=40;break}return t.abrupt("return",d({path:"/"}));case 40:if(!c.includes(e.path)){t.next=42;break}return t.abrupt("return",d());case 42:if(0!==Object.keys(r.state.site.info).length){t.next=44;break}return t.abrupt("return",d());case 44:if(j=r.state.site.info.attributes.set_site,O=r.state.user.info.attributes,!j.site_mode||"pay"!==j.site_mode){t.next=49;break}if(m&&(!O||O.paid)){t.next=49;break}return t.abrupt("return",d({path:"/site/info"}));case 49:return t.abrupt("return",d());case 50:d();case 51:case"end":return t.stop()}}),t,null,[[10,15],[28,34]])})));return function(e,r,n){return t.apply(this,arguments)}}()),f.afterEach((function(t,e){}))}},179:function(t,e,r){"use strict";var n=navigator.userAgent.toLowerCase();e.a={isWeixinBrowser:/micromessenger/.test(n),isMobile:/mobile|android|webos|iphone|blackberry/i.test(n),isTablet:/(?:ipad|playbook)/.test(n)||!/(?:mobile)/.test(n)||/(?:tablet)/.test(n),isPC:"",isSpider:!1}},19:function(t,e,r){"use strict";r.r(e),r.d(e,"SET_USER_ID",(function(){return n})),r.d(e,"CHECK_SESSION",(function(){return o})),r.d(e,"SET_ACCESS_TOKEN",(function(){return c})),r.d(e,"SET_AUTH",(function(){return l})),r.d(e,"SET_CATEGORYID",(function(){return f})),r.d(e,"SET_CATEGORYINDEX",(function(){return d})),r.d(e,"DELETE_USER_ID",(function(){return h})),r.d(e,"DELETE_ACCESS_TOKEN",(function(){return v}));var n="SET_USER_ID",o="CHECK_SESSION",c="SET_ACCESS_TOKEN",l="SET_AUTH",f="SET_CATEGORYID",d="SET_CATEGORYINDEX",h="DELETE_USER_ID",v="DELETE_ACCESS_TOKEN"},224:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(30),r(11);function n(t){if(""===t)return"#fff";for(var e=0,i=0;i<t.length;i++)e+=t.charCodeAt(i);var r=function(t,s,e){var r,g,b,i=Math.floor(6*t),n=6*t-i,p=e*(1-s),q=e*(1-n*s),o=e*(1-(1-n)*s);switch(i%6){case 0:r=e,g=o,b=p;break;case 1:r=q,g=e,b=p;break;case 2:r=p,g=e,b=o;break;case 3:r=p,g=q,b=e;break;case 4:r=o,g=p,b=e;break;case 5:r=e,g=p,b=q}return{r:Math.floor(255*r),g:Math.floor(255*g),b:Math.floor(255*b)}}(e%360/360,.3,.9);return""+r.r.toString(16)+r.g.toString(16)+r.b.toString(16)}},337:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return d})),r.d(e,"mutations",(function(){return h})),r.d(e,"modules",(function(){return v}));var n=r(5),o=r(151),c=r(152),l=r(153),f=r(33),d=function(){return{}},h={},v={jv:Object(n.jsonapiModule)(f.a,{preserveJson:!0,mergeRecords:!0,followRelationshipsData:!0}),session:o.default,site:c.default,user:l.default}},343:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"actions",(function(){return c})),r.d(e,"mutations",(function(){return l}));var n=r(10),o=function(){return{error:{loading:!0}}},c={setError:function(t,e){t.commit("SET_FORUM_ERROR",e)}},l=Object(n.a)({},"SET_FORUM_ERROR",(function(t,e){t.error=e||{}}))},5:function(t,e,r){"use strict";r.r(e),r.d(e,"jsonapiModule",(function(){return m})),r.d(e,"config",(function(){return n})),r.d(e,"status",(function(){return o})),r.d(e,"utils",(function(){return c}));var n,o,c,l=r(10),f=r(147),d=r(148),h=r(149),v=r(150),y=r(119),m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object.assign({},d.default,e);var r=Object(l.a)({},n.jvtag,{});return c=new y.Utils(n),o=new y.ActionStatus(n.maxStatusID),{namespaced:!0,state:r,actions:Object(f.default)(t,n),getters:Object(v.default)(n),mutations:Object(h.default)()}}}},[[535,60,0,11,10,18,15,14,20,21,19,12,13,16]]]);