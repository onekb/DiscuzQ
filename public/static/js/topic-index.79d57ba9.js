(window.webpackJsonp=window.webpackJsonp||[]).push([["topic-index"],{"019c":function(t,e,i){"use strict";i.r(e);var s=i("a5fe"),a=i.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e.default=a.a},"06a1":function(t,e,i){"use strict";i("99af"),i("4160"),i("b64b"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.getCurUrl=void 0;e.getCurUrl=function(){var t=getCurrentPages(),e=t[t.length-1].route,i=t[t.length-1].options,s="";return Object.keys(i).forEach((function(t){s="".concat(s,"&").concat(t,"=").concat(i[t])})),s.length>0&&(s="?".concat(s.substr(1))),"/".concat(e).concat(s)}},"185d":function(t,e,i){t.exports=i.p+"static/img/auth.bac1d347.svg"},"245f":function(t,e,i){"use strict";(function(e){var s=i("4ea4"),a=s(i("6f74")),o=i("b95e"),n=s(i("4c82"));t.exports={mixins:[a.default,n.default],methods:{getForum:function(){var t=this;this.$store.dispatch("jv/get",["forum",{params:{include:"users"}}]).then((function(e){e&&(t.forum=e)}))},jump2PhoneLoginPage:function(){uni.redirectTo({url:"/pages/user/phone-login"})},jump2PhoneLoginRegisterPage:function(){uni.redirectTo({url:"/pages/user/phone-login-register"})},jump2LoginPage:function(){uni.redirectTo({url:"/pages/user/login"})},jump2RegisterPage:function(){uni.redirectTo({url:"/pages/user/register"})},jump2LoginBindPage:function(){uni.redirectTo({url:"/pages/user/login-bind"})},jump2RegisterBindPage:function(){uni.redirectTo({url:"/pages/user/register-bind"})},jump2LoginBindPhonePage:function(){uni.redirectTo({url:"/pages/user/login-bind-phone"})},jump2RegisterBindPhonePage:function(){uni.redirectTo({url:"/pages/user/register-bind-phone"})},jump2findpwdPage:function(){uni.navigateTo({url:"/pages/modify/findpwd?pas=reset_pwd"})},mpLoginMode:function(){this.forums&&this.forums.set_reg&&0===this.forums.set_reg.register_type&&this.jump2LoginPage(),this.forums&&this.forums.set_reg&&1===this.forums.set_reg.register_type&&this.jump2PhoneLoginRegisterPage(),this.forums&&this.forums.set_reg&&2===this.forums.set_reg.register_type&&(uni.setStorageSync("register",1),uni.setStorageSync("isSend",!0),this.$store.getters["session/get"]("auth").open())},h5LoginMode:function(){n.default.isWeixin().isWeixin?(this.forums&&this.forums.set_reg&&0===this.forums.set_reg.register_type&&uni.navigateTo({url:"/pages/user/login"}),this.forums&&this.forums.set_reg&&1===this.forums.set_reg.register_type&&this.jump2PhoneLoginRegisterPage(),this.forums&&this.forums.set_reg&&2===this.forums.set_reg.register_type&&(uni.setStorageSync("register",1),this.$store.dispatch("session/wxh5Login"))):(this.forums&&this.forums.set_reg&&0===this.forums.set_reg.register_type&&uni.navigateTo({url:"/pages/user/login"}),this.forums&&this.forums.set_reg&&1===this.forums.set_reg.register_type&&this.jump2PhoneLoginRegisterPage(),this.forums&&this.forums.set_reg&&2===this.forums.set_reg.register_type&&uni.navigateTo({url:"/pages/user/login"}))},refreshmpParams:function(){var t=this;uni.login({success:function(i){if("login:ok"===i.errMsg){var s=i.code;uni.getUserInfo({success:function(e){var i={data:{attributes:{js_code:s,iv:e.iv,encryptedData:e.encryptedData}}};t.$store.dispatch("session/setParams",i)},fail:function(t){e.log(t)}})}},fail:function(t){e.log(t)}})},mpLogin:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;uni.setStorageSync("register",t),uni.setStorageSync("isSend",!0),uni.setStorageSync("isBind",!1),this.$store.getters["session/get"]("auth").open()},wxh5Login:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;uni.setStorageSync("register",t),uni.setStorageSync("rebind",e),this.$store.dispatch("session/wxh5Login")},getLoginParams:function(t,e){var i=t;if(""===t.data.attributes.username)uni.showToast({icon:"none",title:this.i18n.t("user.usernameEmpty"),duration:2e3});else if(""===t.data.attributes.password)uni.showToast({icon:"none",title:this.i18n.t("user.passwordEmpty"),duration:2e3});else{var s=uni.getStorageSync("token");""!==s&&(i.data.attributes.token=s),this.login(i,e)}},getLoginBindParams:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.refreshmpParams();var s=t;if(""===t.data.attributes.username)uni.showToast({icon:"none",title:this.i18n.t("user.usernameEmpty"),duration:2e3});else if(""===t.data.attributes.password)uni.showToast({icon:"none",title:this.i18n.t("user.passwordEmpty"),duration:2e3});else{1===i&&(s.data.attributes.rebind=1);var a=uni.getStorageSync("token");""!==a&&(s.data.attributes.token=a),this.login(s,e)}},login:function(t,i){var s=this;this.$store.dispatch("session/h5Login",t).then((function(t){if(t&&t.data&&t.data.data&&t.data.data.id&&(s.logind(),s.$store.dispatch("jv/get",["forum",{params:{include:"users"}}]).then((function(t){t&&t.set_site&&t.set_site.site_mode!==o.SITE_PAY&&uni.getStorage({key:"page",success:function(t){e.log("resData",t),uni.redirectTo({url:t.data})}}),t&&t.set_site&&t.set_site.site_mode===o.SITE_PAY&&s.user&&!s.user.paid&&uni.redirectTo({url:"/pages/site/info"})})),uni.showToast({title:i,duration:2e3})),t&&t.data&&t.data.errors){if("401"===t.data.errors[0].status||"402"===t.data.errors[0].status||"500"===t.data.errors[0].status){var a=s.i18n.t("core.".concat(t.data.errors[0].code));uni.showToast({icon:"none",title:a,duration:2e3})}if("403"===t.data.errors[0].status||"422"===t.data.errors[0].status){var n=s.i18n.t(t.data.errors[0].detail[0]);uni.showToast({icon:"none",title:n,duration:2e3})}}})).catch((function(t){return e.log(t)}))}}}}).call(this,i("5a52").default)},"2e0f":function(t,e,i){"use strict";var s=i("dda2");i.d(e,"a",(function(){return s.a})),i.d(e,"b",(function(){return s.b})),i.d(e,"c",(function(){return s.c}))},3129:function(t,e,i){"use strict";var s=i("af11");i.n(s).a},"35ab":function(t,e,i){"use strict";i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=0,i=0;i<t.length;i++)e+=t.charCodeAt(i);var s=function(t,e,i){var s,a,o,n=Math.floor(6*t),r=6*t-n,c=i*(1-e),d=i*(1-r*e),u=i*(1-(1-r)*e);switch(n%6){case 0:s=i,a=u,o=c;break;case 1:s=d,a=i,o=c;break;case 2:s=c,a=i,o=u;break;case 3:s=c,a=d,o=i;break;case 4:s=u,a=c,o=i;break;case 5:s=i,a=c,o=d}return{r:Math.floor(255*s),g:Math.floor(255*a),b:Math.floor(255*o)}}(e%360/360,.3,.9);return""+s.r.toString(16)+s.g.toString(16)+s.b.toString(16)}},3617:function(t,e,i){"use strict";i("d3b7"),i("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.content,i=t.success,s=t.error;if(!e)return s("复制的内容不能为空 !");e="string"==typeof e?e:e.toString(),document.queryCommandSupported("copy")||s("浏览器不支持");var a=document.createElement("textarea");a.value=e,a.readOnly="readOnly",document.body.appendChild(a),a.select(),a.setSelectionRange(0,e.length),document.execCommand("copy")?i("商品地址已复制，请在浏览器上黏贴访问"):s("复制失败，请重新复制");a.remove()}},"368d":function(t,e,i){t.exports=i.p+"static/img/msg-warning.0c78a551.svg"},"5b5f":function(t,e,i){"use strict";var s=i("4ea4");i("99af"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("1276");var a=s(i("53ca")),o=i("b95e"),n=i("ce40");t.exports={methods:{wxShare:function(t){var e=this.getUrl(),i=this.$store.getters["jv/get"]("forums/1");i.passport&&!i.passport.offiaccount_close||this.$store.dispatch("jv/get",["offiaccount/jssdk?url=".concat(encodeURIComponent(e)),{}]).then((function(s){var a=s.appId,o=s.nonceStr,r=s.signature,c=s.timestamp;n.config({debug:!1,appId:a,timestamp:c,nonceStr:o,signature:r,jsApiList:["updateAppMessageShareData","updateTimelineShareData","hideMenuItems","showMenuItems"]}),n.ready((function(){var s={title:t.title||"Discuz!Q",desc:t.desc||i.set_site.site_introduction,link:e,imgUrl:t.logo||i.set_site.site_favicon};n.updateAppMessageShareData(s),n.updateTimelineShareData(s)}))}))},h5Share:function(t){var e="";switch((0,a.default)(t)){case"undefined":e="Discuz!Q";break;case"string":e=t;break;default:e=t.title||"Discuz!Q"}var i=t.id?"?id=".concat(t.id):"",s="".concat(o.DISCUZ_REQUEST_HOST).concat(t.url).concat(i),n=document.createElement("input");e=(e=(e=(e=e.toString().replace(/<img(?:.|\s)*?>/g,"")).toString().replace(/(<\/?br.*?>)/gi,"")).toString().replace(/(<\/?p.*?>)/gi,"")).toString().replace(/\s+/g,""),e="".concat(e.substring(0,17)),n.value="".concat(e,"  ").concat(s),document.body.appendChild(n),n.select(),n.readOnly=!0,n.id="copyInp",document.execCommand("Copy"),n.setAttribute("onfocus",this.copyFocus(n)),n.className="oInput",n.style.display="none",uni.showToast({icon:"none",title:"分享链接已复制成功"})},copyFocus:function(t){t.blur(),document.body.removeChild(t)},getUrl:function(){var t=/iPad|iPhone|iPod/.test(navigator.userAgent),e=window.location.href.split("#")[0];return t&&window.entryUrl&&!/wechatdevtools/.test(navigator.userAgent)&&(e=window.entryUrl),e}}}},"5df8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAqCAYAAADbCvnoAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAJKADAAQAAAABAAAAKgAAAAC29n+nAAAEUUlEQVRYCe1YS4gUSRB9mVU1qKjbCLr+wB1BBBk/oAheZEb8I0sj4llc15OHOaws+IEWLwMiDB50/BxmLl482B4Eb7ONehE/BxXxIK7gF12dGT+g3VVpRHZ3TVZNdlV179BeDOiuyIisiFcvoyKzW8CQAiC7crlzv/f0/GGY26mWpJntV2Dgv7GxHaat3XoI6DRwgpL/2W4A8XwaEIHpE8BfceePGLtngAIl/vtHJLflJGKiUs7nu5UQw1Fr20bRom5b2oREYVEnzGmrqyVAcudOiOXLE4Gy3zlwIHGOzdkcINfVMeT69RCLF1fjSXsIsWABZHd3dU4T39UMGW5w9u8HlIJ//vz4bALonT0L//JlODti/XTaNOr7Et7AwPj8mlY+dAh4/36CnQ2ZAalnz+Ds3g3/woUwkFizBpgxA8GdO8DYWGhnRaxcCWbIv3gxYteDz58n2moWO9+W6cGtW0AuB7FsWeh1aOnU3bvAq1dQr19DVSrhB76vGTVtWqcHw9evYYy4kpkhfPgA9eQJJLNCIqZOhVi9GpWTJ/WY2ZBr12pdf02ZopfM3bt33Eaaf+0amO1G0lxjnDsXePsWLoEIhoeh7t2DevGCshAbMZFbt8LZtw/lXbtinsRhKTNDcsMGYOZMHU3QVXZ1IRACYtUqYGQEctOmSCYxa1aVoePHI3Ye+FeuQN2+PcHOhsyAxIoVEPPm0VoRqVxLixZBMkCqG39oCAGxlVnevWs4NTMgv79fBxHr1sE9eBD+1asI6ElDKZcBBpwi6sGDCW+keUtmQPWbnHpNdHQAs2frmmKf3LgRcssW4OPH+tTo1XGA6dNROXoU6uHDqM8YNQWI3ypeKnz6BGfbNjibN6N85Ajw5o0OqZ4/R6W31whvqAsXwjt1yjDY1aYAMTvB9esQnZ0IbtyApLryjh1D+fBh3XPEnDlwiQGrcBtgoW6fJJkbI2+WYskS+JcuVeNRzVT6+qCoyTFbWkgPHj+2ftTTp0k4Ql9mhjQ7N28CL1+GN+PLF1R4yahuuOfwOCiVxv2GJqiHye3bDYtdzQaINkmunYq5sdbjmUVMb5l3hg7F/0OyAQqC6hZBRZso5Nc7uWWSmD8fLi1xmmQDRFHU/ftpsaAIOL+BWjyP2i6Fr22kYulSbVajo4lxMgNKjGJx8vHD5XMPCwOlZdeFzXtfgrQESNH5h3uOKQE1O2EcutSjR/Dp8FYXxUcU7tIp0txunxJsEtw/fwalkpi5U6dGmqQJPwGlETmZDJWEUj2eUp20ow9R4uQO2ABZS30oEouSU+8Y9IrFfwz7HpXP574BvUIIPiD9YvgS1db7EAGhzaEgisV/kzI0CazUPKCMQOIgGRiduvfQf0+9lJSOnVbJDGhUKdVPp+jBNEasaWLGb/k8AytYgKX+LqsD6ScgI7G4LQ87isVBunnQBqzRkhVrjEwqkEZPUPsbsWD181pbHW0wUu7fvgOL85EkK3XjYwAAAABJRU5ErkJggg=="},"6f74":function(t,e,i){"use strict";var s=i("b95e");t.exports={computed:{user:function(){var t=this.$store.getters["session/get"]("userId");return t?this.$store.getters["jv/get"]("users/".concat(t)):{}}},methods:{getUserInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(new Date).getTime(),i=uni.getStorageSync(s.STORGE_GET_USER_TIME);if(t||(e-i)/1e3>60){var a={include:"groups,wechat"},o=this.$store.getters["session/get"]("userId");this.$store.commit("jv/deleteRecord",{_jv:{type:"users",id:o}}),this.$store.dispatch("jv/get",["users/".concat(o),{params:a}]).then((function(){return uni.$emit("updateNotiNum")})),uni.setStorageSync(s.STORGE_GET_USER_TIME,(new Date).getTime())}},logind:function(){var t=this,e=this.$store.getters["session/get"]("userId");if(e){this.$store.dispatch("jv/get",["forum",{params:{include:"users"}}]);this.$store.dispatch("jv/get",["users/".concat(e),{params:{include:"groups,wechat"}}]).then((function(e){t.$u.event.$emit("logind",e)})),this.$store.dispatch("forum/setError",{loading:!1})}}}}},"864e":function(t,e,i){"use strict";var s=i("4ea4");i("99af"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("9558")),o={topic:function(t){var e=(0,a.default)(/<[s\u017F]pan[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*id="topic"[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*value="([0-9A-Z_a-z\u017F\u212A]+)"[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*>((?:(?!<)[\s\S])+)<\/[s\u017F]pan>/gim,{value:1,string:2});return t&&t.replace(e,(function(t){return t.replace(e,(function(t,e,i){var s="/pages/topic/content?id=".concat(e);return'<a href="'.concat(s,'" class="content-topic">').concat(i,"</a> ")}))}))},usermention:function(t){var e=(0,a.default)(/<[s\u017F]pan[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*id="member"[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*value="([0-9A-Z_a-z\u017F\u212A]+)"[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*>((?:(?!<)[\s\S])+)<\/[s\u017F]pan>/gim,{value:1,string:2});return t&&t.replace(e,(function(t){return t.replace(e,(function(t,e,i){var s="/pages/profile/index?userId=".concat(e);return'<a href="'.concat(s,'" class="content-member">').concat(i,"</a> ")}))}))},attachment:function(t,e){return t&&t.replace(/\[attach\](.*?)\[\/attach\]/g,(function(t,i){var s=e.$store.getters["jv/get"]("attachments/".concat(i));return s.url&&(t='<a href="'.concat(s.url,'" class="content-attachment">').concat(s.attachment,"</a>")),t}))}};var n={parse:function(t,e){if(t){for(var i in o)t=o[i](t,e);return t}}};e.default=n},"913c":function(t,e){t.exports="data:image/png;base64,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"},a5fe:function(t,e,i){"use strict";(function(t){var a=i("4ea4");i("99af"),i("4de4"),i("4160"),i("c975"),i("a15b"),i("d81d"),i("fb6a"),i("a434"),i("a9e3"),i("b680"),i("b64b"),i("07ac"),i("acd8"),i("e25e"),i("ac1f"),i("5319"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("2909")),n=a(i("5530")),r=i("4b36"),c=i("2f62"),d=i("b95e"),u=a(i("6f74")),p=a(i("b469")),l=a(i("d71c")),h=a(i("245f")),m=a(i("5b5f")),f=a(i("4c82")),g=a(i("840a")),v=i("06a1"),y=a(i("3617")),w=null,b=null,x=!0,k={components:{uniPopupDialog:g.default},mixins:[u.default,p.default,h.default,m.default,l.default],utils:[f.default],data:function(){return{imageList:[],navTitle:"内容详情页",threadId:"",loadDetailStatusId:0,posts:[],loadingType:"more",scrollTop:0,pageNum:1,pageSize:20,payThreadTypeText:"",loadDetailCommnetStatusId:0,postIndex:"",footerShow:!0,commentShow:!1,commentPopupStatus:!1,commentWorkTips:!0,commentText:!0,maxTextLength:5e3,cursor:0,textAreaValue:"",barStatus:!1,uploadFile:[],isLiked:!1,role:"管理员",isActive:!0,shareShow:!1,beAsk:!1,answerPay:!1,payment:!1,questionId:"",beAskDate:0,beAskBeDate:0,platformDate:0,onLookformDate:0,bottomData:[{text:this.i18n.t("core.generatePoster"),icon:"icon-poster",name:"wx"},{text:this.i18n.t("core.wxShare"),icon:"icon-wx-friends",name:"wxFriends"}],seleShow:!1,selectList:[{text:this.i18n.t("topic.edit"),type:"0"},{text:this.i18n.t("topic.essence"),type:"2"},{text:this.i18n.t("topic.sticky"),type:"3"},{text:this.i18n.t("topic.delete"),type:"4"}],limitShowNum:12,paidStatus:!1,paidBtnStatus:!1,rewardBtnStatus:!1,rewardStatus:!1,likedStatus:!1,commentStatus:{},commentReply:!1,commentAnser:!1,emojiShow:!1,publishClickStatus:!0,focusVal:!0,header:{},formData:{},commentId:"",isAnonymous:"0",payTypeText:"",payTypeVal:0,payNum:[{name:"￥1",pay:1},{name:"￥2",pay:2},{name:"￥5",pay:5},{name:"￥10",pay:10},{name:"￥20",pay:20},{name:"￥50",pay:50},{name:"￥88",pay:88},{name:"￥128",pay:128},{name:this.i18n.t("discuzq.post.customize"),pay:"0"}],payNumCheck:[{name:"",pay:""}],price:0,inputPrice:0,maxLength:7,payShowStatus:!0,pwdVal:"",orderSn:"",payStatus:!1,coverLoading:!1,payTypeData:[{name:"微信支付",icon:"icon-wxPay",color:"#09bb07",value:"0"},{name:"钱包支付",icon:"icon-walletPay",color:"#1878f3",value:"1"}],currentReplyPost:{},contentnomoreVal:"",url:"",customAmountStatus:!1,windowHeight:"",system:"",detectionmodel:"",paymentmodel:!1,loaded:!1,loadingStatus:!0,isWeixin:!1,isPhone:!1,qrcodeShow:!1,codeUrl:"",browser:0,wxRes:"",contentVal:"",shareLogo:"",desc:"",rewardedUsers:[],likedUsers:[],sortSeleShow:!1,sortSelectList:[{text:this.i18n.t("topic.sortTimeSequence"),type:"0",canOpera:!0},{text:this.i18n.t("topic.sortTimeReverse"),type:"1",canOpera:!0}],sortVal:"createdAt",refreshVal:!0,deleteId:"",deleteType:"",deletePostType:"",deletePostCanStatus:"",deletePostIsStatus:"",deletePost:"",deleteIndex:"",deleteTip:"确定删除吗？",wechatTip:this.i18n.t("discuzq.wechatBind"),deleteImgId:"",followStatus:"",beRewarded:!1,curUrl:"",bottom:"",moreData:[{text:this.i18n.t("topic.edit"),icon:"icon-bianji",name:"edit",type:"0",canOpera:!0},{text:this.i18n.t("topic.delete"),icon:"icon-shanchu",name:"delete",type:"4",canOpera:!0},{text:this.i18n.t("topic.essence"),icon:"icon-jinghua",name:"essence",type:"2",canOpera:!0},{text:this.i18n.t("topic.sticky"),icon:"icon-zhiding",name:"sticky",type:"3",canOpera:!0},{text:this.i18n.t("topic.collection"),icon:"icon-collection",name:"collection",type:"5",canOpera:!0},{text:this.i18n.t("topic.share"),icon:"icon-share",name:"share",type:"6",canOpera:!0},{text:this.i18n.t("core.generatePoster"),icon:"icon-poster",name:"poster",type:"7",canOpera:!0},{text:this.i18n.t("core.wxShare"),icon:"icon-wx-friends",name:"wxFriends",type:"8",canOpera:!0},{text:this.i18n.t("report.reportTitle"),icon:"icon-jubao",name:"report",type:"9",canOpera:!0}],moreDataLength:0,conversationId:"",attachmentFileList:[],refreshStatus:!0,threadIsPaidCover:!1,token:"",postGoodsStatus:!1}},onUnload:function(){this.$store.dispatch("forum/setError",{loading:!1}),uni.$off("logind")},computed:(0,n.default)((0,n.default)({},(0,c.mapState)({getAtMemberData:function(t){return t.atMember.atMemberData}})),{},{thread:function(){var t=this.$store.getters["jv/get"]("threads/".concat(this.threadId)),e=!1;return t.user&&t.user.groups&&t.user.groups.length>0&&(t.user.groups=t.user.groups.filter((function(t){if(!0===t.isDisplay&&!e)return e=!0,!0}))),t.rewardedUsers&&(this.rewardedUsers=t.rewardedUsers),t.firstPost&&(this.likedUsers=t.firstPost.likedUsers,t.firstPost.images&&(t.firstPost.images=t.firstPost.images.filter((function(e){return-1===t.firstPost.contentAttachIds.indexOf(e._jv.id)}))),t.firstPost.attachments&&(t.firstPost.attachments=t.firstPost.attachments.filter((function(e){return-1===t.firstPost.contentAttachIds.indexOf(e._jv.id)})))),t},t:function(){return this.i18n.t("topic")},p:function(){return this.i18n.t("pay")},c:function(){return this.i18n.t("core")},status:function(){return r.status.status},themeColor:function(){return this.theme===this.$u.light()?"#333":"#fff"},currentLoginId:function(){var t=this.$store.getters["session/get"]("userId");return parseInt(t,10)}}),onLoad:function(t){var e=this,i=uni.getSystemInfoSync();this.system=i.platform,this.forums&&this.forums.set_site&&this.forums.set_site.site_mode&&(this.detectionmodel=this.forums.set_site.site_mode),this.forums&&this.forums.paycenter&&this.forums.paycenter.wxpay_ios&&(this.paymentmodel=this.forums.paycenter.wxpay_ios),this.token=uni.getStorageSync("access_token"),uni.$on("logind",(function(){e.loadThread(),e.loadThreadPosts()})),this.threadId=t.id,this.conversationId=t.topicid||"",this.loadThread(),this.loadThreadPosts(),this.curUrl=(0,v.getCurUrl)(),this.rewardStatus=!1,this.paidStatus=!1,this.isWeixin=f.default.isWeixin().isWeixin,this.isPhone=f.default.isWeixin().isPhone,this.browser=1,this.$u.event.$on("addComment",(function(t){Object.keys(e.posts).forEach((function(i){e.posts[i]._jv.id===t.commentId&&(e.posts[i].lastThreeComments.length>=3&&e.posts[i].lastThreeComments.pop(),t.data&&e.posts[i].lastThreeComments.unshift(t.data))}))})),this.$u.event.$on("deleteComment",(function(t){Object.keys(e.posts).forEach((function(i){e.posts[i]._jv.id===t.commentId&&(e.posts[i].lastThreeComments=[],t.data._jv.json.data.relationships.lastThreeComments.data&&t.data._jv.json.data.relationships.lastThreeComments.data.forEach((function(t){e.posts[i].lastThreeComments.push(e.$store.getters["jv/get"]("".concat(t.type,"/").concat(t.id)))})))}))})),this.url=d.DISCUZ_REQUEST_HOST;var s=uni.getStorageSync("access_token");this.header={authorization:"Bearer ".concat(s)},this.formData={type:1},this.$u.event.$on("refreshFiles",(function(){e.loadThread()}))},onPullDownRefresh:function(){var t=this;t.posts=[],t.pageNum=1,t.attachmentFileList=[],setTimeout((function(){x=!0,t.loadThread(),t.loadThreadPosts(),uni.stopPullDownRefresh()}),1e3)},onReachBottom:function(){"more"===this.loadingType&&(this.pageNum+=1,this.loadThreadPosts())},onPageScroll:function(t){this.scrollTop=t.scrollTop},onShareAppMessage:function(t){return"button"===t.from?{title:1===this.$store.getters["jv/get"]("/threads/".concat(this.threadId)).type?this.thread.title:this.thread.firstPost.summaryText}:{title:this.forums.set_site.site_name}},onShareTimeline:function(){return{title:1===this.$store.getters["jv/get"]("/threads/".concat(this.threadId)).type?this.thread.title:this.thread.firstPost.summaryText,query:"id=".concat(this.threadId),imageUrl:this.shareLogo}},onShow:function(){var t=uni.getSystemInfoSync();this.system=t.platform,this.forums&&this.forums.set_site&&this.forums.set_site.site_mode&&(this.detectionmodel=this.forums.set_site.site_mode),this.forums&&this.forums.paycenter&&this.forums.paycenter.wxpay_ios&&(this.paymentmodel=this.forums.paycenter.wxpay_ios);var e="";this.getAtMemberData.map((function(t){return e+="@".concat(t.username," ")})),this.textAreaValue="".concat(this.textAreaValue.slice(0,this.cursor)+e+this.textAreaValue.slice(this.cursor)),this.setAtMember([])},methods:(0,n.default)((0,n.default)({},(0,c.mapMutations)({setAtMember:"atMember/SET_ATMEMBER",setCategoryId:"session/SET_CATEGORYID",setCategoryIndex:"session/SET_CATEGORYINDEX",setFooterIndex:"footerTab/SET_FOOTERINDEX"})),{},{touchStop:function(){},loadThread:function(){var e=this,i={include:["posts.replyUser","user.groups","user","posts","posts.user","posts.likedUsers","posts.images","firstPost","firstPost.likedUsers","firstPost.images","firstPost.attachments","firstPost.postGoods","rewardedUsers","category","threadVideo","threadAudio","paidUsers","user.groups.permissionWithoutCategories","question","onlookers","question.beUser","question.images"]},s=r.status.run((function(){return e.$store.dispatch("jv/get",["threads/".concat(e.threadId),{params:i}])}));this.loadDetailStatusId=s._statusID,s.then((function(i){if(e.$store.dispatch("session/setThread",i),i.isDeleted)e.$store.dispatch("forum/setError",{code:"thread_deleted",status:500}),e.loaded=!1;else{i.firstPost.postGoods?e.postGoodsStatus=!0:e.postGoodsStatus=!1,1===i.type?i.attachmentPrice>0||i.price>0&&i.isPaid||i.price<=0?e.threadIsPaidCover=!1:i.price>0&&!i.isPaid&&(e.threadIsPaidCover=!0):e.threadIsPaidCover=!1,x&&i.firstPost.attachments.forEach((function(t){-1===i.firstPost.contentAttachIds.indexOf(t._jv.id)&&e.attachmentFileList.push(t)}));var s="";switch(s=1===i.type?i.title.length>40?i.title.slice(0,30)+"... - "+e.forums.set_site.site_name:i.title+" - "+e.forums.set_site.site_name:i.firstPost.summaryText?i.firstPost.summaryText.length>20?i.firstPost.summaryText.slice(0,20)+"... - "+e.forums.set_site.site_name:i.firstPost.summaryText+" - "+e.forums.set_site.site_name:e.t.topicPageTitle+" - "+e.forums.set_site.site_name,uni.setNavigationBarTitle({title:s}),i.question&&(t.log(i,"xiangqing"),e.platformDate=(i.question.price*(e.forums.set_site.site_master_scale/10)).toFixed(2),e.onLookformDate=(i.question.onlooker_unit_price*(e.forums.set_site.site_master_scale/10)).toFixed(2),e.beAskDate=(i.question.price-e.platformDate).toFixed(2),e.beAskBeDate=((i.question.onlooker_unit_price-e.onLookformDate)/2).toFixed(2),"0.00"===i.question.price?e.user.id===i.question.be_user_id&&0===i.question.is_answer?e.beAsk=!0:e.user.id===i.user.id&&1===i.question.is_answer?(e.beAsk=!1,e.payment=!0,e.answerPay=!1,t.log(i,"免费允许围观")):e.user.id===i.question.be_user_id&&1===i.question.is_answer?(e.beAsk=!1,e.payment=!0,e.answerPay=!1):e.user.id!==i.question.be_user_id&&e.user.id!==i.user.id&&1===i.question.is_answer&&!0===i.question.is_onlooker?(e.beAsk=!1,e.payment=!1,e.answerPay=!0,t.log("允许围观可查看答案")):e.user.id!==i.question.be_user_id&&e.user.id!==i.user.id&&1===i.question.is_answer&&!1===i.question.is_onlooker&&(e.beAsk=!1,e.payment=!1,e.answerPay=!0,t.log("免费不设置围观也可查看答案")):i.question.price>"0.00"&&(e.user.id===i.question.be_user_id&&0===i.question.is_answer?e.beAsk=!0:e.user.id===i.question.be_user_id&&1===i.question.is_answer?(e.beAsk=!1,e.answerPay=!0,t.log("显示答案")):e.user.id===i.user.id&&1===i.question.is_answer?(e.beAsk=!1,e.answerPay=!0):e.user.id===i.question.be_user_id&&1===i.question.is_answer&&i.question.onlooker_number>0?(e.answerPay=!0,e.beAsk=!1,t.log("3333344444")):e.user.id===i.user.id&&1===i.question.is_answer&&i.question.onlooker_number>0?(e.answerPay=!0,e.beAsk=!1):e.user.id!==i.question.be_user_id&&e.user.id!==i.user.id&&1===i.question.is_answer&&!1===i.question.is_onlooker&&!0===i.onlookerState?(e.answerPay=!0,t.log("付费允许围观付费即可查看答案222222")):e.user.id!==i.user.id&&1===i.question.is_answer&&!0===i.question.is_onlooker&&!1===i.onlookerState?(e.answerPay=!0,t.log("付费不允许围观")):e.user.id!==i.user.id&&e.user.id!==i.question.be_user_id&&!0===i.question.is_onlooker&&1===i.question.is_answer&&!0===i.onlookerState&&(e.answerPay=!0,t.log("付费允许围观"))),e.questionId=i.question._jv.id),i.user.groups&&i.user.groups.length>0&&i.user.groups[0].permissionWithoutCategories.forEach((function(t,i){"createThreadPaid"!==t.permission||(e.beRewarded=!0)})),i.user.groups&&i.user.groups.length>0&&"1"===i.user.groups[0]._jv.id&&(e.beRewarded=!0),e.loaded=!0,e.loadingStatus=!1,i.type){case 0:e.contentVal=i.firstPost.summaryText,e.desc=i.firstPost.summaryText,e.shareLogo="";break;case 1:e.contentVal=i.title,i.price>0?(e.desc=i.title,e.shareLogo=""):(e.desc=i.firstPost.summaryText,e.shareLogo=i.firstPost.images.length>0?i.firstPost.images[0].thumbUrl:"");break;case 2:e.contentVal=i.firstPost.summaryText,e.desc=i.firstPost.summaryText,e.shareLogo=i.threadVideo.coverUrl;break;case 3:e.contentVal=i.firstPost.summaryText,e.desc=i.firstPost.summaryText,e.shareLogo=0==i.price&&i.firstPost.images.length>0?i.firstPost.images[0].thumbUrl:"";break;case 4:e.contentVal=i.firstPost.summaryText,e.desc=i.firstPost.summaryText,e.shareLogo="";break;case 5:e.contentVal=i.firstPost.summaryText,e.desc=i.firstPost.summaryText,e.shareLogo=i.firstPost.images.length>0?i.firstPost.images[0].thumbUrl:"";break;case 6:e.contentVal=i.firstPost.postGoods.title,e.desc=i.firstPost.summaryText,e.shareLogo=i.firstPost.postGoods.image_path}}if(e.wxShare({title:e.contentVal,desc:e.desc,logo:e.shareLogo}),e.selectList[0].canOpera=e.thread.firstPost.canEdit,e.selectList[1].canOpera=e.thread.canEssence,e.selectList[2].canOpera=e.thread.canSticky,e.selectList[3].canOpera=e.thread.canHide,e.selectList[1].isStatus=e.thread.isEssence,e.selectList[2].isStatus=e.thread.isSticky,e.selectList[3].isStatus=!1,i.isEssence&&(e.selectList[1].text=e.t.cancelEssence),i.isSticky&&(e.selectList[2].text=e.t.cancelSticky),e.moreData[5].canOpera=!0,e.moreData[6].canOpera=!1,e.moreData[7].canOpera=!1,5===i.type?e.moreData[0].canOpera=!1:e.moreData[0].canOpera=e.thread.firstPost.canEdit,e.moreData[2].canOpera=e.thread.canEssence,e.moreData[3].canOpera=e.thread.canSticky,e.moreData[1].canOpera=e.thread.canHide,e.moreData[2].isStatus=e.thread.isEssence,e.moreData[3].isStatus=e.thread.isSticky,e.moreData[1].isStatus=!1,e.moreData.forEach((function(t){t.canOpera&&(e.moreDataLength+=1)})),i.isFavorite&&(e.moreData[4].text=e.t.collectionAlready,e.moreData[4].icon="icon-collectioned"),i.isEssence&&(e.moreData[2].text=e.t.cancelEssence,e.moreData[2].icon="icon-quxiaojinghua"),i.isSticky&&(e.moreData[3].text=e.t.cancelSticky,e.moreData[3].icon="icon-quxiaozhiding"),e.isLiked=i.firstPost.isLiked,5===i.type)return e.rewardStatus=!1,void(e.paidStatus=!1);if(e.forums.paycenter.wxpay_close)if(e.forums.paycenter.wxpay_close){var a=uni.getSystemInfoSync();e.system=a.platform,(!i.paid||i.paidUsers.length>0)&&(e.paidStatus=!0,!0===i.paid?e.paidBtnStatus=!1:e.paidBtnStatus=!0),3===i.type?e.payThreadTypeText=e.t.pay+i.price+e.t.paymentViewPicture:2===i.type?e.payThreadTypeText=e.t.pay+i.price+e.t.paymentViewVideo:1===i.type?i.attachmentPrice>0?e.payThreadTypeText=e.t.pay+i.attachmentPrice+e.t.checkTheAttachment:e.payThreadTypeText=e.t.pay+i.price+e.t.paymentViewRemainingContent:5===i.type?e.payThreadTypeText=e.t.pay+i.price+e.t.paymentViewRemainingContent:4===i.type&&(e.payThreadTypeText=e.t.pay+i.price+e.t.paymentViewAudio),i.price<=0?i.attachmentPrice>0&&!1===i.isPaidAttachment?(e.paidStatus=!0,e.paidBtnStatus=!0,e.rewardStatus=!1,e.rewardBtnStatus=!1):i.attachmentPrice>0&&!0===i.isPaidAttachment?(e.paidStatus=!0,e.paidBtnStatus=!1,e.rewardStatus=!1,e.rewardBtnStatus=!1):i.canBeReward?(e.paidStatus=!1,e.rewardStatus=!0,e.rewardBtnStatus=!0):(e.paidStatus=!1,e.rewardStatus=!1,e.rewardBtnStatus=!1):(e.rewardStatus=!1,e.rewardBtnStatus=!1,!0===i.paid?e.paidBtnStatus=!1:e.paidBtnStatus=!0)}else e.rewardStatus=!1,e.paidBtnStatus=!1;else e.rewardStatus=!1,e.paidStatus=!1;i.firstPost.likedUsers.length<1?e.likedStatus=!1:e.likedStatus=!0})).catch((function(i){e.loaded=!1,e.loadingStatus=!1,t.log(i),404===i.statusCode&&e.$store.dispatch("forum/setError",{code:"type_404",status:500})}))},postOpera:function(e,i,s,a,o){var n=this;if("1"!==i||s)if("4"!==i||s){var r={type:"posts",id:e},c={};"1"===i?c={_jv:r,isLiked:!a}:"3"===i?c={_jv:r,isDeleted:!a}:"4"===i&&(c={_jv:r,isLiked:!a}),this.$store.dispatch("jv/patch",c).then((function(t){if("1"===i)n._updateLikedUsers(t.isLiked);else if("2"===i)t.isDeleted&&uni.navigateBack({delta:1});else if("3"===i){var e=o;e.isDeleted=t.isDeleted,o=e}else if("4"===i){var s=o;s.isLiked=t.isLiked,s.likeCount=t.likeCount,o=s}})).catch((function(e){t.log(e)}))}else this.$refs.toast.show({message:this.t.noReplyLikePermission});else this.$refs.toast.show({message:this.t.noThreadLikePermission})},threadOpera:function(e,i,s,a){var o=this,n={type:"threads",id:e},r={};r="1"===a?{_jv:n,isFavorite:!s}:"2"===a?{_jv:n,isEssence:!s}:"3"===a?{_jv:n,isSticky:!s}:{_jv:n,isDeleted:!s},this.$store.dispatch("jv/patch",r).then((function(e){if("1"===a)o.thread.isFavorite=e.isFavorite,e.isFavorite?(o.moreData[4].text=o.t.collectionAlready,o.moreData[4].icon="icon-collectioned"):(o.moreData[4].text=o.t.collection,o.moreData[4].icon="icon-collection");else if("2"===a)o.selectList[1].isStatus=e.isEssence,o.moreData[2].isStatus=e.isEssence,e.isEssence?(o.selectList[1].text=o.t.cancelEssence,o.moreData[2].text=o.t.cancelEssence,o.moreData[2].icon="icon-quxiaojinghua"):(o.selectList[1].text=o.t.essence,o.moreData[2].text=o.t.essence,o.moreData[2].icon="icon-jinghua");else if("3"===a)o.selectList[2].isStatus=e.isSticky,o.moreData[3].isStatus=e.isSticky,e.isSticky?(o.selectList[2].text=o.t.cancelSticky,o.moreData[3].icon="icon-quxiaozhiding",o.moreData[3].text=o.t.cancelSticky):(o.selectList[2].text=o.t.sticky,o.moreData[3].icon="icon-zhiding",o.moreData[3].text=o.t.sticky);else if("4"===a){var i=o;if(e.isDeleted){o.$refs.toast.show({message:o.t.deleteSuccessAndJumpToBack});getCurrentPages(),setTimeout((function(){t.log(i.conversationId),i.conversationId?uni.redirectTo({url:"/pages/topic/content?id=".concat(i.conversationId)}):uni.navigateBack({delta:1}),i.$store.dispatch("jv/get","topics/".concat(i.conversationId)).then((function(t){t&&(i.conversationId="")}))}),1e3)}}})).catch((function(e){t.log(e)}))},postComment:function(){var e=this;if(this.textAreaValue.length<1)return this.$refs.toast.show({message:this.t.replyContentCannotBeEmpty}),this.publishClickStatus=!0,!1;var i={};this.commentReply?i={_jv:{type:"posts",relationships:{thread:{data:{type:"threads",id:this.threadId}}}},content:this.textAreaValue,isComment:!0,replyId:this.commentId}:this.commentAnser||(i={_jv:{type:"posts",relationships:{thread:{data:{type:"threads",id:this.threadId}}}},content:this.textAreaValue}),i._jv.relationships.attachments={data:[]},this.uploadFile&&this.uploadFile.forEach((function(t){i._jv.relationships.attachments.data.push({type:"attachments",id:t.id})})),this.$store.dispatch("jv/post",i).then((function(i){if(e.$refs.commentPopup.close(),e.commentReply=!1,e.commentPopupStatus=!1,e.publishClickStatus=!0,1===i.isApproved)if(i.isComment)t.log("%%%%%%%"),e.posts[e.postIndex].lastThreeComments||(e.posts[e.postIndex].lastThreeComments=[]),e.posts[e.postIndex].lastThreeComments.unshift(i),e.posts[e.postIndex].replyCount+=1;else{var s=!1;i.user.groups=i.user.groups.filter((function(t){return!0===t.isDisplay&&!s&&(s=!0,!0)})),e.posts.push(i)}else e.$refs.toast.show({message:"您发布的内容正在审核中哦"});e.textAreaValue="",e.uploadFile=""})).catch((function(i){e.publishClickStatus=!0,t.log(i)}))},handleGroup:function(t){var e=[];return t&&t.length>0&&(e=t.filter((function(t){return t.isDisplay}))),e.length>0?[e[0]]:[]},postAnswer:function(){var t=this;if(this.commentAnser=!0,this.textAreaValue.length<1)return this.$refs.toast.show({message:this.t.TheContentOfTheAnswerCannotBeEmpty}),this.publishClickStatus=!0,!1;var e={content:this.textAreaValue,type:5,_jv:{type:"answer",relationships:{},links:{self:"questions/".concat(this.questionId,"/answer")}}};e._jv.relationships.attachments={data:[]},this.uploadFile&&this.uploadFile.forEach((function(t){e._jv.relationships.attachments.data.push({type:"attachments",id:t.id})})),this.$store.dispatch("jv/post",e).then((function(e){t.$refs.commentPopup.close(),t.loadThread()})).catch((function(e){e&&e.data&&e.data.errors&&"content_banned_show_words"===e.data.errors[0].code&&uni.showToast({icon:"none",title:"".concat(t.i18n.t("core.content_banned_show_words"),"[").concat(e.data.errors[0].detail.join("、"),"]"),duration:2e3})}))},loadThreadPosts:function(){var t=this,e={"filter[isApproved]":1,"filter[isDeleted]":"no","filter[isComment]":"no","page[number]":this.pageNum,"page[limit]":this.pageSize,"filter[thread]":this.threadId,sort:this.sortVal,include:["replyUser","user.groups","user","images","lastThreeComments","lastThreeComments.user","lastThreeComments.replyUser"]},i=r.status.run((function(){return t.$store.dispatch("jv/get",["posts",{params:e}])}));this.loadDetailCommnetStatusId=i._statusID,i.then((function(e){delete e._jv,e.forEach((function(t,i){var s=!1;e[i].user.groups=e[i].user.groups.filter((function(t){return!0===t.isDisplay&&!s&&(s=!0,!0)}))})),t.loadingType=e.length===t.pageSize?"more":"nomore",t.posts=[].concat((0,o.default)(t.posts),(0,o.default)(e)),0===e.length?t.contentnomoreVal=t.t.noComment:t.contentnomoreVal=t.t.noMoreData}))},onBridgeReady:function(e){var i=this;t.log(e,"datadata"),WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:e.wechat_js.appId,timeStamp:e.wechat_js.timeStamp,nonceStr:e.wechat_js.nonceStr,package:e.wechat_js.package,signType:"MD5",paySign:e.wechat_js.paySign},(function(t){"get_brand_wcpay_request:ok"==t.err_msg||("get_brand_wcpay_request:cancel"==t.err_msg||"get_brand_wcpay_request:fail"==t.err_msg)&&(clearInterval(w),resolve)})),w=setInterval((function(){1!==i.payStatus?i.getOrderStatus(i.orderSn):clearInterval(w)}),3e3)},creatOrder:function(e,i,s,a){var o=this,n={_jv:{type:"orders"},type:i,thread_id:this.threadId,amount:e,is_anonymous:this.isAnonymous};this.$store.dispatch("jv/post",n).then((function(t){o.orderSn=t.order_sn,0===a?0==o.browser?o.orderPay(13,s,o.orderSn,a,"0"):o.isWeixin&&o.isPhone?o.orderPay(12,s,o.orderSn,a,"1"):o.isPhone?o.orderPay(11,s,o.orderSn,a,"2"):o.orderPay(10,s,o.orderSn,a,"3"):1===a&&o.orderPay(20,s,o.orderSn,a)})).catch((function(e){t.log(e)}))},orderPay:function(e,i,s,a,o){var n=this,r={};0===a?r={_jv:{type:"trade/pay/order/".concat(s)},payment_type:e}:1===a&&(r={_jv:{type:"trade/pay/order/".concat(s)},payment_type:e,pay_password:i}),this.$store.dispatch("jv/post",r).then((function(t){n.wxRes=t,0===a?"0"===o?n.wechatPay(t.wechat_js.timeStamp,t.wechat_js.nonceStr,t.wechat_js.package,t.wechat_js.signType,t.wechat_js.paySign):"1"===o?"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",n.onBridgeReady(t))):n.onBridgeReady(t):"2"===o?(b=setInterval((function(){1!==n.payStatus?n.getOrderStatus(s,o):clearInterval(b)}),3e3),window.location.href=t.wechat_h5_link):"3"===o&&t&&(n.codeUrl=t.wechat_qrcode,n.payShowStatus=!1,n.$refs.codePopup.open(),n.qrcodeShow=!0,w=setInterval((function(){1!==n.payStatus?(n.getOrderStatus(n.orderSn,o),uni.hideLoading()):clearInterval(w)}),3e3)):1===a&&("success"===t.wallet_pay.result&&(n.$store.dispatch("jv/get",["users/".concat(n.currentLoginId),{}]),0===n.payTypeVal||2===n.payTypeVal||3===n.payTypeVal?(n.thread.attachmentPrice>0&&(x=!1),n.loadThread(),n.$store.dispatch("jv/get",["forum",{params:{include:"users"}}])):1===n.payTypeVal&&n._updateRewardUsers(),n.payShowStatus=!1,n.coverLoading=!1),n.coverLoading=!1)})).catch((function(e){t.log(e),n.$refs.payShow.clearPassword()}))},getOrderStatus:function(e,i){var s=this;this.$store.dispatch("jv/get",["orders/".concat(e),{custom:{loading:!1}}]).then((function(t){s.payStatus=t.status,1===s.payStatus&&(s.payShowStatus=!1,s.coverLoading=!1,"2"===i||"3"===i&&(s.$refs.codePopup.close(),s.qrcodeShow=!1,x=!1,s.loadThread(),s.$store.dispatch("jv/get",["forum",{params:{include:"users"}}])),0===s.payTypeVal||2===s.payTypeVal||3===s.payTypeVal?(s.thread.attachmentPrice>0&&(x=!1),s.loadThread(),s.$store.dispatch("jv/get",["forum",{params:{include:"users"}}])):1===s.payTypeVal&&s._updateRewardUsers(),s.$refs.toast.show({message:s.p.paySuccess}))})).catch((function(e){t.log(e),s.coverLoading=!1,s.$refs.toast.show({message:s.p.payFail})}))},wechatPay:function(t,e,i,s,a){var o=this;uni.requestPayment({provider:"wxpay",timeStamp:t,nonceStr:e,package:i,signType:s,paySign:a,success:function(t){o.coverLoading=!0,w=setInterval((function(){1!==o.payStatus?o.getOrderStatus(o.orderSn):clearInterval(w)}),3e3)},fail:function(t){o.payShowStatus=!1,o.coverLoading=!1,o.$refs.toast.show({message:o.p.payFail})}})},onInput:function(t){this.value=t,0===this.payTypeVal?this.creatOrder(this.thread.price,3,t,1):1===this.payTypeVal?this.creatOrder(this.price,2,t,1):2===this.payTypeVal?this.creatOrder(this.price,6,t,1):3===this.payTypeVal&&this.creatOrder(this.thread.attachmentPrice,7,t,1)},paysureShow:function(t){if(uni.setStorage({key:"page",data:"/topic/index?id=".concat(this.threadId)}),0===t){if(!0===this.isWeixin&&void 0===this.user.wechat)return void this.$refs.wechatPopup.open();if(!0===this.isWeixin&&this.user.wechat&&""===this.user.wechat.mp_openid)return void this.$refs.wechatPopup.open();0===this.payTypeVal?this.creatOrder(this.thread.price,3,this.value,t):1===this.payTypeVal?this.creatOrder(this.price,2,this.value,t):2===this.payTypeVal?this.creatOrder(this.price,6,this.value,t):3===this.payTypeVal&&this.creatOrder(this.thread.attachmentPrice,7,this.value,t)}},limitArray:function(t){var e=[];return Object.values(t).forEach((function(t){e.push(t)})),e},selectClick:function(){this.seleShow=!this.seleShow},selectChoice:function(t){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),"0"===t.type?uni.redirectTo({url:"/topic/post?type=".concat(this.thread.type,"&operating=edit&threadId=").concat(this.thread._jv.id)}):"2"===t.type||"3"===t.type?this.threadOpera(this.threadId,t.canOpera,t.status,t.type):"4"===t.type&&(this.$refs.deletePopup.open(),this.deleteType="4",this.deleteId=this.threadId,this.deletePostCanStatus=t.canOpera,this.deletePostIsStatus=t.status,this.deletePostType=t.type,this.deleteTip=this.i18n.t("core.deleteContentSure"))},beAskClick:function(t){t<=0||uni.navigateTo({url:"/pages/profile/index?userId=".concat(t)})},personJump:function(t){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),t<=0||uni.navigateTo({url:"/pages/profile/index?userId=".concat(t)})},payClickShow:function(){var t=this;this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.payStatus=!1,this.forums.paycenter.wxpay_close&&this.forums.paycenter.wxpay_close?(this.payShowStatus=!0,this.payTypeVal=0,this.thread.attachmentPrice>0?this.payTypeVal=3:this.payTypeVal=0,3===this.thread.type?(this.payTypeText=this.t.pay+this.t.paymentViewPicture,this.price=parseFloat(this.thread.price)):1===this.thread.type?this.thread.attachmentPrice>0?(this.payTypeText=this.t.pay+this.thread.attachmentPrice+this.t.checkTheAttachment,this.price=parseFloat(this.thread.attachmentPrice)):(this.payTypeText=this.t.pay+this.thread.price+this.t.paymentViewRemainingContent,this.price=parseFloat(this.thread.price)):2===this.thread.type?(this.payTypeText=this.t.pay+this.t.paymentViewVideo,this.price=parseFloat(this.thread.price)):4===this.thread.type&&(this.payTypeText=this.t.pay+this.t.paymentViewAudio,this.price=parseFloat(this.thread.price)),this.$nextTick((function(){t.$refs.payShow.payClickShow(t.payTypeVal)}))):this.payShowStatus=!1},payAnswerClickShow:function(){var t=this;this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.payStatus=!1,this.payTypeVal=2,this.price=parseFloat(this.thread.question.onlooker_unit_price),this.$nextTick((function(){t.$refs.payShow.payClickShow(t.payTypeVal)}))},radioMyHead:function(t){this.isAnonymous=!t},radioChange:function(t){},rewardClick:function(){if(this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.user._jv.id===this.thread.user._jv.id)return this.$refs.toast.show({message:this.t.iCantRewardMyself}),!1;this.payStatus=!1,this.payTypeVal=1,this.payTypeText=this.t.supportTheAuthorToCreate,this.payNumCheck=[{name:"",pay:""}],this.$refs.rewardPopup.open()},cancelReward:function(){this.payNumCheck=[{name:"",pay:""}],this.$refs.rewardPopup.close()},moneyClick:function(t){var e=this;this.payNumCheck=[],this.payNumCheck.push(this.payNum[t]),"自定义"===this.payNumCheck[0].name?(this.$refs.rewardPopup.close(),this.$nextTick((function(){e.$refs.customAmountPopup.open(),e.customAmountStatus=!0}))):(this.price=this.payNumCheck[0].pay,this.payShowStatus=!0,this.$refs.rewardPopup.close(),this.payTypeVal=1,this.$nextTick((function(){e.$refs.payShow.payClickShow(e.payTypeVal)})))},checkNum:function(t){var e=this,i=t.target.value,s=i.indexOf(".");i.indexOf(".")<0&&""!=i?i.length>6?(i=i.substring(0,i.length-1),uni.showToast({title:e.c.TheAmountCannotExceedOneMillion,icon:"none"})):i=parseFloat(i):0==i.indexOf(".")?i=(i=i.replace(/[^$#$]/g,"0.")).replace(/\.{2,}/g,"."):/^(\d?)+(\.\d{0,2})?$/.test(i)||(i=i.substring(0,i.length-1)),e.$nextTick((function(){e.maxLength=-1==s?7:10,e.inputPrice=i}))},diaLogClose:function(){this.$refs.customAmountPopup.close(),this.customAmountStatus=!1},diaLogOk:function(){var t=this;if(""===this.forums.set_site.site_minimum_amount){if(this.inputPrice<"0.1")return void uni.showToast({title:this.i18n.t("core.TheAmountCannotBeLessThanOneYuan"),icon:"none"})}else if(this.inputPrice<this.forums.set_site.site_minimum_amount)return void uni.showToast({title:this.i18n.t("core.TheAmountCannotBeLessThanMinMoney")+this.forums.set_site.site_minimum_amount+this.i18n.t("discuzq.post.yuan"),icon:"none"});this.price=Number(this.inputPrice),this.$refs.customAmountPopup.close(),this.customAmountStatus=!1,this.payShowStatus=!0,this.$nextTick((function(){t.$refs.payShow.payClickShow(t.payTypeVal)}))},contBlur:function(t){this.cursor=t.detail.cursor},getEmojiClick:function(t){var e;e="".concat(this.textAreaValue.slice(0,this.cursor)+t+this.textAreaValue.slice(this.cursor)),this.textAreaValue=e,this.emojiShow=!1},callClick:function(){uni.navigateTo({url:"/pages/user/at-member"})},uploadChange:function(t){this.uploadFile=t},uploadClear:function(t,e){var i=t.id;this.deleteType=0,this.deleteImgId=i,this.deleteIndex=e,this.$refs.deletePopup.open(),this.deleteTip=this.i18n.t("core.deleteImgSure")},delAttachments:function(e){var i={_jv:{type:"attachments",id:e}};return this.$store.dispatch("jv/delete",i).then((function(t){return t})).catch((function(e){t.log(e)}))},publishClick:function(){this.publishClickStatus=!1,!0===this.commentAnser?this.postAnswer():this.postComment(this.commentId)},commentJump:function(t,e){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:"/pages/topic/comment?threadId=".concat(t,"&commentId=").concat(e)}),this.h5LoginMode()),uni.navigateTo({url:"/pages/topic/comment?threadId=".concat(t,"&commentId=").concat(e)})},commentLikeClick:function(t,e,i,s,a,o){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.postIndex=a,this.postOpera(t,e,i,s,o)},deleteComment:function(t,e,i,s,a){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.$refs.deletePopup.open(),this.deleteId=t,this.deleteType="3",this.deletePostCanStatus=i,this.deletePostIsStatus=s,this.deletePost=a,this.deleteTip=this.i18n.t("core.deleteCommentSure")},replyComment:function(t,e){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.thread.canReply?(this.commentReply=!0,this.postIndex=e,this.commentId=t,this.$refs.commentPopup.open(),this.commentPopupStatus=!0,this.commentWorkTips=!0,this.commentText=!1,this.focusVal=!0):this.$refs.toast.show({message:this.t.noReplyPermission})},imageClick:function(){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode())},tagClick:function(t){this.$u.event.$emit("tagClick",t);var e=getCurrentPages(),i=e.indexOf(e[e.length-1]);e.length>1&&e[i-1].route&&"pages/home/index"===e[i-1].route?(uni.navigateBack({delta:i}),this.setFooterIndex(0)):(uni.navigateTo({url:"/pages/home/index"}),this.setFooterIndex(0))},threadLikeClick:function(t,e,i){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.postOpera(t,"1",e,i)},threadCollectionClick:function(t,e,i,s){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.threadOpera(t,e,i,s)},threadComment:function(t){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.thread.canReply?(this.commentId=t,this.formData.type=1,this.$refs.commentPopup.open(),this.commentPopupStatus=!0,this.commentWorkTips=!0,this.commentText=!1,this.focusVal=!0):this.$refs.toast.show({message:this.t.noReplyPermission})},queClick:function(){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.formData.type=5,this.commentAnser=!0,this.$refs.commentPopup.open(),this.commentPopupStatus=!0,this.commentWorkTips=!1,this.commentText=!0,this.maxTextLength=49999},handleClickOk:function(){var t=this;this.$refs.deletePopup.close(),"4"===this.deleteType?this.threadOpera(this.deleteId,this.deletePostCanStatus,this.deletePostIsStatus,this.deleteType):"3"===this.deleteType?this.postOpera(this.deleteId,"3",this.deletePostCanStatus,this.deletePostIsStatus,this.deletePost):0===this.deleteType&&this.delAttachments(this.deleteImgId,this.deleteIndex).then((function(){t.$refs.upload.clear(t.deleteIndex),t.$refs.upload.getValue().forEach((function(e,i,s){e.id==t.deleteImgId&&s.splice(i,1)}))}))},handleWechatClickOk:function(){this.$refs.wechatPopup.close(),this.isWeixin?this.wxh5Login(0,0):uni.showToast({icon:"none",title:this.i18n.t("user.unLogin"),duration:2e3})},handleWechatClickCancel:function(){this.$refs.wechatPopup.close()},handleClickCancel:function(){this.$refs.deletePopup.close()},shareClick:function(){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),!0===this.isWeixin?this.shareShow=!0:this.h5Share({title:this.contentVal,id:this.threadId,url:"topic/index"})},closeShare:function(){this.shareShow=!1},cancel:function(){this.$refs.sharePopup.close()},shareContent:function(t){0===t&&(0==this.thread.isApproved?uni.showToast({icon:"none",title:this.i18n.t("topic.underReview"),duration:2e3}):uni.navigateTo({url:"/pages/share/topic?id=".concat(this.threadId)})),this.cancel()},codeImgChange:function(t){t.show||clearInterval(w)},_updateLikedUsers:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isLiked=e,this.isLiked?(this.likedUsers.unshift(this.user),this.thread.firstPost._jv.relationships.likedUsers.data.unshift({type:this.user._jv.type,id:this.user._jv.id})):(this.likedUsers.forEach((function(e,i,s){e.id==t.user.id&&s.splice(i,1)})),this.thread.firstPost._jv.relationships.likedUsers.data.forEach((function(e,i,s){e.id==t.user.id&&s.splice(i,1)}))),this.$forceUpdate()},_updateRewardUsers:function(){1===this.payTypeVal&&(this.thread.rewardedCount++,this.rewardStatus||(this.rewardStatus=!0,this.rewardBtnStatus=!0)),this.rewardedUsers.unshift(this.user),this.thread._jv.relationships.rewardedUsers.data.unshift({type:this.user._jv.type,id:this.user._jv.id}),this.$forceUpdate()},onUnload:function(){clearInterval(w),clearInterval(b)},sortOperaClick:function(){this.sortSeleShow=!this.sortSeleShow},sortSelectChoice:function(t){var e=this;this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.sortSeleShow=!1,"0"===t.type?"createdAt"===this.sortVal?this.$refs.toast.show({message:this.t.itsAlreadyWantedSort}):(this.refreshVal=!1,this.$nextTick((function(){e.refreshVal=!0})),this.sortVal="createdAt",this.posts=[],this.loadThreadPosts()):"1"===t.type&&("-createdAt"===this.sortVal?this.$refs.toast.show({message:this.t.itsAlreadyWantedSort}):(this.refreshVal=!1,this.sortVal="-createdAt",this.posts=[],this.loadThreadPosts(),this.$nextTick((function(){e.refreshVal=!0}))))},addFollow:function(t){var e=this;this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode());var i=this.$store.getters["jv/get"]("users/".concat(t.id)),s={_jv:{type:"follow"},type:"user_follow",to_user_id:t.id};this.$store.dispatch("jv/post",s).then((function(t){0==t.is_mutual?(e.thread.user.follow=1,i.follow=1,e.followStatus=1):(e.thread.user.follow=2,i.follow=2,e.followStatus=2)}))},deleteFollow:function(t){var e=this,i=this.$store.getters["jv/get"]("users/".concat(t.id));this.$store.dispatch("jv/delete","follow/".concat(t.id,"/1")).then((function(){e.thread.user.follow=0,i.follow=0,e.followStatus=0})),s},moreClick:function(){this.$store.getters["session/get"]("isLogin")||(uni.setStorage({key:"page",data:(0,v.getCurUrl)()}),this.h5LoginMode()),this.$refs.morePopup.open()},moreContent:function(t,e){this.moreCancel(),"0"===t.type?(this.$,uni.redirectTo({url:"/topic/post?type=".concat(this.thread.type,"&operating=edit&threadId=").concat(this.thread._jv.id)})):"2"===t.type||"3"===t.type?this.threadOpera(this.threadId,t.canOpera,t.isStatus,t.type):"4"===t.type&&(this.$refs.deletePopup.open(),this.deleteType="4",this.deleteId=this.threadId,this.deletePostCanStatus=t.canOpera,this.deletePostIsStatus=t.status,this.deletePostType=t.type,this.deleteTip=this.i18n.t("core.deleteContentSure")),"report"===t.name&&this.reportClick(),"collection"===t.name&&this.threadCollectionClick(e._jv.id,e.canFavorite,e.isFavorite,"1"),"share"===t.name&&this.shareClick(),"poster"===t.name&&this.shareContent(0)},moreCancel:function(){this.$refs.morePopup.close()},reportClose:function(t){this.$refs.reportPopup.close()},reportClick:function(){this.moreCancel(),this.$refs.reportPopup.open()},buyGood:function(){6===this.thread.type&&(this.isWeixin&&(0===this.thread.firstPost.postGoods.type||1===this.thread.firstPost.postGoods.type||5===this.thread.firstPost.postGoods.type)?this.copy(this.thread.firstPost.postGoods.detail_content):window.location.href=this.thread.firstPost.postGoods.detail_content)},copy:function(t){var e=this;(0,y.default)({content:t,success:function(t){uni.showToast({title:e.thread.firstPost.postGoods.type_name+t,icon:"none"})},error:function(t){uni.showToast({title:t,icon:"none",duration:3e3})}})}})};e.default=k}).call(this,i("5a52").default)},af11:function(t,e,i){var s=i("c741");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,i("4f06").default)("cec5e30c",s,!0,{sourceMap:!1,shadowMode:!1})},b469:function(t,e){t.exports={computed:{forums:function(){return this.$store.getters["jv/get"]("forums/1")}}}},c11a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAqCAYAAABLGYAnAAAAAXNSR0IArs4c6QAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAH6ADAAQAAAABAAAAKgAAAAA6jsA6AAACzUlEQVRYCe2XS0hUURjHf9fGcXzgo7KHIUmhVIRoEIoEFbmuTRQtUmsRtKi0FkW1mKgWrZKkdoHRoqh2LVpE0EOGCiMsegrmgySliEqNdJzTuZ4Od+bavXNvaUMwZ3HP+b7v3P/v3u+c78xcQ7RlCVLUMlLEncKm4SnJfjrtKUl7ICk1NA+yCkHI4+Brj/v03CUQCMH4N/g+7D5XRpOveWE57HwBDS+hfKuzYH4ZNL5ScxfXOM+LiySHf3gIb66oW2pPyMd1SFZtWMaC0H8bem7GIZyHyeHmvZFjMDEKBcth9Z7pasVVULEdYhPw4ND0uIPHG3x0EDrPKIm1RyAzN1Gu7rS0DXh2AT6/TYy5WN7gpsDTVrXhshdA1QFLsrQeSjfB2BA8OmX5PYy8w2Pj0HFYSVY3ywooUuO6k6qPHJdLI3e5j+YdboqaG2ngDgTzYU0LLNsMxdUw9BheX/aBVVMN37/nRStgRydEx+QyvIP5lXBtHQw/mSV4/UUoqbPE8+RhYpaV2WJRGBlQY/PaewvuH7Rsl5FD0druCMn1zVloOWOT1vEkJDw+Fiyw5iUZ+U+7KZizCHb3KumrNfCxS419Xv1tOJ/iyaZ7S/vKBnW6abXMPD2Cyr2qxrXn03PovqEt194bvGKbPEjqfy+0qinR333dM9zbmpfIUsoutiChubDxvLIjR+GLLDndRt6rute2S+/tzQc7EiXMDafh/fLQ+R83XEp3u7c1T0z6jFkpffM0fMbW0Y9QOu1+smXO7UPEdhH9UYRA/p+S9h80n3UuuuRnU6uxf6LdzhLnMpswMsLSv9Qec7K9wQX3MCbDxr7oXSch7ffzEO5wH1AN171oC2xAzAnLb4n12mfvHeDikvxn2O7lTe2CdtvtIWxwCY2Oh40Weu0if2urh8hoxjC2aK1f8NmDapDuxVnKCATD8tuukSlDR/5hb3J/ApJGzN7khlI/AAAAAElFTkSuQmCC"},c266:function(t,e,i){"use strict";i.r(e);var s=i("2e0f"),a=i("019c");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("3129");var n=i("f0c5"),r=Object(n.a)(a.default,s.b,s.c,!1,null,"1ece9010",null,!1,s.a,void 0);e.default=r.exports},c741:function(t,e,i){(e=i("24fb")(!1)).push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* eg:\n  .container {\n    color: --color(BG-1);\n  }\n*/uni-page-body[data-v-1ece9010]{padding:0;margin:0;font-size:%?30?%;color:var(--qui-FC-333)}.flex[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex}.skeletonScreen[data-v-1ece9010]{width:100%;height:100%;background:var(--qui-BG-2)}.scroll-y[data-v-1ece9010]{max-height:calc(100vh - %?80?%)}.bg-white[data-v-1ece9010]{background-color:var(--qui-BG-2);border-bottom:1px solid var(--qui-BOR-ED)}.detail-tip[data-v-1ece9010]{display:block;width:100%;font-size:%?30?%;line-height:%?60?%;color:#fff;text-align:center;background:var(--qui-RED)}.detail-hd[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;width:100%;padding:%?30?% %?40?% %?37?%;box-sizing:border-box}.detail-hd .det-hd-per-head-box[data-v-1ece9010]{width:%?80?%;height:%?80?%;border-radius:50%}.detail-hd .det-hd-per-head-box .det-hd-per-head[data-v-1ece9010]{width:100%;height:100%;border-radius:50%}.detail-hd .det-hd-per-info[data-v-1ece9010]{width:%?400?%;padding-left:%?20?%}.detail-hd .det-hd-per-info .det-hd-per-name[data-v-1ece9010]{margin-bottom:10px;font-size:%?30?%;font-weight:700;line-height:%?37?%}.detail-hd .det-hd-per-info .det-hd-post-time[data-v-1ece9010]{font-size:%?26?%;line-height:%?31?%;color:var(--qui-FC-AAA)}.det-hd-opera[data-v-1ece9010]{-webkit-align-self:flex-end;align-self:flex-end;text-align:right;-webkit-flex-shrink:0;flex-shrink:0}.det-hd-opera .essence[data-v-1ece9010]{display:inline-block;width:%?39?%;height:%?44?%}.det-hd-operaCli[data-v-1ece9010]{position:relative;z-index:10;font-size:%?30?%;line-height:%?40?%}.det-hd-operaCli .det-hd-management[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;line-height:1}.det-hd-operaCli .det-hd-management .icon-management[data-v-1ece9010]{margin-right:%?7?%;font-size:%?26?%}.detail-post-content[data-v-1ece9010]{padding:0 %?40?% %?30?%;text-align:left}.detail-post-content .det-post-con[data-v-1ece9010]{line-height:%?45?%}.detail-post-content .det-post-img-list[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?30?% 0}.detail-post-content .det-post-img-box .det-post-img[data-v-1ece9010]{width:%?314?%;vertical-align:top}.detail-post-content .det-post-tag-list[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;flex-wrap:wrap}.detail-post-content .det-post-tag-list .det-post-tag[data-v-1ece9010]{padding:%?10?% %?20?%}.det-con-ft[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:100%;padding:0 %?40?% %?30?%;background:var(--qui-BG-2);box-sizing:border-box}.det-con-ft-child[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%;color:var(--qui-FC-777);-webkit-box-align:center;-webkit-align-items:center;align-items:center}.det-con-ft-child .qui-icon[data-v-1ece9010]{margin-right:%?17?%;font-size:%?30?%}.det-con-ft-child *[data-v-1ece9010]{font-size:%?30?%;color:var(--qui-FC-777)}.pad-top[data-v-1ece9010]{padding-top:0}.comment[data-v-1ece9010]{width:100%;padding:%?40?% 0 0;margin-top:%?30?%;background:var(--qui-BG-2);box-sizing:border-box}.comment-top[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:0 %?40?%}.comment-num[data-v-1ece9010]{font-size:%?30?%;font-weight:700;line-height:%?37?%}.comment-sort[data-v-1ece9010]{position:relative;z-index:1}.comment-child[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;padding:%?40?% 0}.comment-child-hd[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.comment-child-hd .comment-child-per-head-box[data-v-1ece9010]{width:%?80?%;height:%?80?%;border-radius:50%}.comment-child-hd .comment-child-per-head-box .comment-child-per-head[data-v-1ece9010]{width:100%;height:100%;border-radius:50%}.comment-child-hd .comment-child-status[data-v-1ece9010]{-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:%?8?%;font-size:%?28?%;line-height:%?35?%;color:var(--qui-RED)}.comment-child-per-info[data-v-1ece9010]{width:%?480?%;padding-left:%?20?%}.comment-child-per-info .comment-child-per-det[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.comment-child-per-info .comment-child-per-det .comment-child-per-name[data-v-1ece9010]{margin-bottom:%?10?%;font-weight:700;line-height:%?37?%}.comment-child-per-info .comment-child-per-det .comment-chile-per-role[data-v-1ece9010]{line-height:%?37?%;color:var(--qui-FC-AAA)}.comment-child-per-info .comment-child-time[data-v-1ece9010]{font-size:%?26?%;line-height:%?31?%;color:var(--qui-FC-AAA)}.comment-child-con[data-v-1ece9010]{padding:%?20?% 0 %?40?%;font-size:%?30?%;line-height:%?45?%;text-align:left}.comment-child-con .comment-child-con-all[data-v-1ece9010]{color:var(--qui-LINK)}.comment-child-con .comment-child-con-all *[data-v-1ece9010]{color:var(--qui-LINK)}.ft-gap[data-v-1ece9010]{width:100%;padding-bottom:%?100?%;background:var(--qui-BG-1)}.det-ft[data-v-1ece9010]{position:fixed;bottom:0;left:0;z-index:7;width:100%;height:%?80?%;line-height:%?80?%;background:var(--qui-BG-2);box-shadow:0 %?-3?% %?6?% rgba(0,0,0,.05)}.det-ft-con[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-align-content:center;align-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.det-ft-child[data-v-1ece9010]{-webkit-box-flex:1;-webkit-flex:auto;flex:auto;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:%?80?%;color:var(--qui-FC-777)}.det-ft-child .qui-icon[data-v-1ece9010]{margin-right:%?18?%;font-size:%?30?%;line-height:%?80?%}.det-ft-child .ft-child-word[data-v-1ece9010]{font-size:%?30?%;color:var(--qui-FC-777)}.comment-popup-box[data-v-1ece9010]{width:100%;padding-top:%?40?%}.comment-popup[data-v-1ece9010]{width:100%;background:var(--qui-BG-2);border-top-right-radius:%?10?%;border-top-left-radius:%?10?%;box-sizing:border-box}.comment-popup-topbox[data-v-1ece9010]{position:relative;padding:%?40?% 0 %?20?%;margin:0 %?40?%}.comment-popup-top[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.comment-popup-top .comment-popup-top-l[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;width:%?195?%}.comment-popup-top .text-word-tip[data-v-1ece9010]{font-size:%?26?%;line-height:1;color:var(--qui-FC-777)}.comment-popup-top .comm-icon[data-v-1ece9010]{-webkit-box-flex:1;-webkit-flex:1;flex:1;color:var(--qui-FC-777)}.comment-content-box[data-v-1ece9010]{padding:0 %?40?% %?30?% %?30?%}.comment-content-box .comment-content[data-v-1ece9010]{width:100%;height:%?260?%;padding:%?20?% %?20?% 0;overflow:hidden;background:var(--qui-FC-GRAY);border:1px solid var(--qui-FC-DDD);border-radius:%?7?%;box-sizing:border-box}.comment-content-box .comment-textarea[data-v-1ece9010]{width:100%;height:%?220?%;min-height:%?70?%;font-size:%?30?%;line-height:%?37?%}.comment-content-box .text-placeholder[data-v-1ece9010]{font-size:%?28?%}.publish-btn[data-v-1ece9010]{width:100%;height:%?100?%;font-size:%?30?%;font-weight:400;line-height:%?100?%;color:var(--qui-FC-FFF);text-align:center;background:var(--qui-MAIN);border-radius:0}.popup-box[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background:var(--qui-BG-2)}.popup-cancel-btn[data-v-1ece9010]{height:%?100?%;font-size:%?30?%;line-height:%?100?%;color:#666;text-align:center;border-top-color:#f5f5f5;border-top-style:solid;border-top-width:1px}.popup-content-space[data-v-1ece9010]{width:100%;height:%?10?%;background:var(--qui-BG-ED)}.popup-content-btn[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.popup-content-btn .popup-btn[data-v-1ece9010]{margin-top:%?20?%}.popup-reward-content[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;height:%?477?%;padding:%?40?% %?45?%;background:var(--qui-BG-BTN-GRAY-1);box-sizing:border-box}.popup-reward-content .popup-title[data-v-1ece9010]{height:%?37?%;font-size:%?30?%;text-align:center}.popup-dialog[data-v-1ece9010]{width:%?670?%;height:%?342?%;background-color:var(--qui-BG-2);border-radius:%?14?%}.popup-dialog__top[data-v-1ece9010]{padding-top:%?40?%;text-align:center}.popup-dialog__top uni-text[data-v-1ece9010]{font-size:%?30?%;color:var(--qui-FC-333)}.popup-dialog__cont[data-v-1ece9010]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?24?% %?52?% %?40?%}.popup-dialog__cont-rmb[data-v-1ece9010]{position:absolute;margin-left:%?25?%}.popup-dialog__cont-input[data-v-1ece9010]{width:100%;height:%?100?%;padding:0 %?25?% 0 %?80?%;text-align:right;border:1px solid var(--qui-BOR-DDD);box-sizing:border-box}.popup-dialog__ft[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?100?%;border-top:%?2?% solid var(--qui-BOR-DDD)}.popup-dialog__ft uni-button[data-v-1ece9010]{width:50%;color:var(--qui-FC-777);background-color:var(--qui-BG-2);border-radius:0}.popup-dialog__ft uni-button[data-v-1ece9010]:after{border:none}.popup-dialog__ft uni-button[data-v-1ece9010]:last-of-type{border-left:%?2?% solid var(--qui-BOR-DDD);border-bottom-right-radius:%?10?%}.popup-dialog__ft uni-button[data-v-1ece9010]:first-of-type{border-bottom-left-radius:%?10?%}.popup-dialog__ft .popup-btn--ok--blue[data-v-1ece9010]{color:var(--qui-BG-HIGH-LIGHT)}.popup-share-content[data-v-1ece9010]{padding-right:%?97?%;padding-left:%?98?%}.popup-share-content-inner[data-v-1ece9010]{height:auto;padding-right:%?20?%;padding-left:%?20?%;overflow:hidden;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.popup-more-content-text[data-v-1ece9010]{font-size:%?28?%}.popup-more-content-box[data-v-1ece9010]{-webkit-box-flex:0;-webkit-flex:0 0 20%;flex:0 0 20%;margin-bottom:%?40?%;overflow:hidden;text-overflow:ellipsis;word-break:break-all;white-space:nowrap}.popup-more-button[data-v-1ece9010]{position:absolute;z-index:10;width:%?120?%;height:%?120?%;background:var(--qui-BG-2);opacity:0}.code-content[data-v-1ece9010]{position:fixed;top:10%;left:11%;z-index:22;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:78%;padding:%?40?%;background:var(--qui-BG-FFF);border-radius:%?16?%;box-sizing:border-box}.code-content .code-title[data-v-1ece9010]{text-align:center}.code-content .code-pay-money[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:%?36?%;padding-bottom:%?36?%;font-size:%?70?%}.code-content .code-pay-money .code-yuan[data-v-1ece9010]{font-size:%?48?%;line-height:%?66?%}.code-type-box[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:%?24?% 0 %?34?%;line-height:%?36?%;border-top:1px solid var(--qui-BG-ED)}.code-type-box .code-type-tit[data-v-1ece9010]{color:var(--qui-FC-AAA)}.code-type-box .code-type[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.code-type-box .code-type .code-type-icon[data-v-1ece9010]{font-size:%?36?%}.code-type-box .code-type .code-type-text[data-v-1ece9010]{padding-left:%?12?%}.code-img[data-v-1ece9010]{-webkit-align-self:center;align-self:center;width:%?380?%;height:%?380?%}.code-tip[data-v-1ece9010]{padding:%?14?% 0 %?20?%}.mask[data-v-1ece9010]{position:fixed;top:0;left:0;z-index:170;width:100%;height:100%;background:rgba(0,0,0,.6)}.wxShareTip[data-v-1ece9010]{position:fixed;top:0;left:0;z-index:2222222222222;width:100%;height:100%;text-align:right}.wxShareTip .sharePoint[data-v-1ece9010]{display:inline-block;width:70%;margin-top:%?10?%;margin-right:%?30?%}.wxShareTip .shareKnow[data-v-1ece9010]{display:block;width:35%;margin:20vh auto %?30?%}.themeItem__header__follow[data-v-1ece9010]{-webkit-align-self:flex-start;align-self:flex-start;width:%?168?%;line-height:1;text-align:right;-webkit-flex-shrink:0;flex-shrink:0}.themeItem__header__follow .icon-follow[data-v-1ece9010]{margin-right:%?7?%;font-size:%?28?%}.det-ft-operaCli[data-v-1ece9010]{position:relative;line-height:%?30?%}.det-ft-operaCli .det-ft-more[data-v-1ece9010]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.det-ft-operaCli .det-ft-more .icon-gengduo[data-v-1ece9010]{color:var(--qui-FC-AAA)}.payment[data-v-1ece9010]{padding:0 %?40?%}.answerPay[data-v-1ece9010]{padding:0 %?20?% %?40?%}',""]),t.exports=e},cadb:function(t,e,i){"use strict";i("99af"),i("e25e"),i("ac1f"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp2day=e.time2DateAndHM=e.time2MinuteOrHour=void 0;e.time2MinuteOrHour=function(t){var e=new Date-new Date(t);return parseInt(parseInt(e/1e3,0)/60,0)<60?"".concat(Math.ceil(e/1e3/60),"分钟前"):parseInt(parseInt(parseInt(e/1e3,0)/60,0)/60,0)<16?"".concat(Math.ceil(e/1e3/60/60),"小时前"):t.replace(/T/," ").replace(/Z/,"").substring(0,16)};e.time2DateAndHM=function(t){var e=t.replace(/T/," ").replace(/Z/,"");return"".concat(e.substring(0,10)," ").concat(e.substring(11,16))};e.timestamp2day=function(t){var e=t-Math.round(new Date/1e3);return parseInt(e/86400,0)}},d71c:function(t,e,i){i("c975"),t.exports={methods:{detectionModel:function(){var t=uni.getSystemInfoSync().model,e=!1;if(!t)return e;for(var i=["iPhone X","iPhone XR","iPhone XS","iPhone 12","iPhone 12Pro","iPhone 11","iPhone 11Pro","iPhone11","iPhone12","iPhoneXR","iPhoneX"],s=i.length,a=0;a<s;a++)if(-1!==t.indexOf(i[a])){e=!0;break}return e}}}},dda2:function(t,e,i){"use strict";(function(t){var s;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));try{s={quiPage:i("29c4").default,quiTopicContent:i("c031").default,quiIcon:i("895d").default,quiPersonList:i("3ab6").default,quiBeAsk:i("8e7a").default,quiAnswer:i("1e8c").default,quiPaymentVisible:i("92a0").default,quiDropDown:i("91f2").default,quiTopicComment:i("ecd8").default,quiLoadMore:i("51e5").default,uniPopup:i("1c89").default,quiButton:i("8397").default,quiReport:i("62e1").default,quiPay:i("35fd").default,quiLoadingCover:i("605f").default,quiToast:i("2039").default,quiEmoji:i("725e").default,quiUploader:i("c012").default,uLoading:i("802a").default,quiPageMessage:i("e694").default}}catch(e){if(-1===e.message.indexOf("Cannot find module")||-1===e.message.indexOf(".vue"))throw e;t.error(e.message),t.error("1. 排查组件名称拼写是否正确"),t.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),t.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("qui-page",{staticClass:"content",attrs:{"data-qui-theme":t.theme}},[t.loaded?i("v-uni-view",[i("v-uni-view",{staticClass:"scroll-y"},[i("v-uni-view",{staticClass:"ft-gap"},[i("v-uni-view",{staticClass:"bg-white"},[2==t.thread.type&&0==t.thread.threadVideo.status?i("v-uni-view",{staticClass:"detail-tip"},[t._v(t._s(t.t.transcodingTip))]):2==t.thread.type&&2==t.thread.threadVideo.status?i("v-uni-view",{staticClass:"detail-tip"},[t._v(t._s(t.t.transcodingFailedTip))]):0==t.thread.isApproved?i("v-uni-view",{staticClass:"detail-tip"},[t._v(t._s(t.t.examineTip))]):t._e(),i("qui-topic-content",{ref:"sun",attrs:{themid:t.threadId,"topic-status":t.thread.isApproved,"follow-show":null!=t.thread.user.follow,"pay-status":t.threadIsPaidCover,"video-status":t.thread.price>0&&t.thread.paid||0==t.thread.price,"user-info":t.thread.user,"avatar-url":t.thread.user.avatarUrl,"user-name":t.thread.user.username,"be-ask-name":t.thread.question&&t.thread.question.beUser.username,"is-real":t.thread.user.isReal,"user-role":t.thread.user.groups?t.thread.user.groups:"","theme-type":t.thread.type,"theme-time":t.thread.createdAt,"management-show":t.selectList[0].canOpera||t.selectList[1].canOpera||t.selectList[2].canOpera||t.selectList[3].canOpera,"theme-title":1==t.thread.type?t.thread.title:"","theme-content":t.thread.firstPost.contentHtml,"images-list":t.thread.firstPost.images,"post-goods-status":t.postGoodsStatus,"post-goods":t.thread.firstPost.postGoods,"select-list":t.selectList,tags:[t.thread.category],"thread-price":t.thread.attachmentPrice>0?t.thread.attachmentPrice:t.thread.price,"thread-is-essence":t.thread.isEssence,"media-url":2==t.thread.type?t.thread.threadVideo.media_url:"",duration:2==t.thread.type?t.thread.threadVideo.duration:"","video-width":2==t.thread.type?t.thread.threadVideo.width:0,"video-height":2==t.thread.type?t.thread.threadVideo.height:0,"cover-image":2==t.thread.type?t.thread.threadVideo.cover_url:"","file-list":t.attachmentFileList,"thread-position":t.thread.location?[t.thread.location,t.thread.address,t.thread.longitude,t.thread.latitude]:[],"thread-audio":4==t.thread.type?t.thread.threadAudio:null,"attachment-pay-status":t.thread.attachmentPrice>0&&!t.thread.isPaidAttachment},on:{attachmentPay:function(e){arguments[0]=e=t.$handleEvent(e),t.payClickShow.apply(void 0,arguments)},personJump:function(e){arguments[0]=e=t.$handleEvent(e),t.personJump(t.thread.user._jv.id)},beAskClick:function(e){arguments[0]=e=t.$handleEvent(e),t.beAskClick(t.thread.question.beUser.id)},selectChoice:function(e){arguments[0]=e=t.$handleEvent(e),t.selectChoice.apply(void 0,arguments)},videocoverClick:function(e){arguments[0]=e=t.$handleEvent(e),t.payClickShow.apply(void 0,arguments)},previewPicture:function(e){arguments[0]=e=t.$handleEvent(e),t.payClickShow.apply(void 0,arguments)},previewAudio:function(e){arguments[0]=e=t.$handleEvent(e),t.payClickShow.apply(void 0,arguments)},tagClick:function(e){arguments[0]=e=t.$handleEvent(e),t.tagClick.apply(void 0,arguments)},buyGood:function(e){arguments[0]=e=t.$handleEvent(e),t.buyGood.apply(void 0,arguments)}}},[i("v-uni-view",{attrs:{slot:"more"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.moreClick.apply(void 0,arguments)}},slot:"more"},[i("v-uni-view",{staticClass:"det-ft-operaCli"},[i("v-uni-view",{staticClass:"det-ft-more"},[i("qui-icon",{staticClass:"icon-gengduo",staticStyle:{"font-size":"40rpx"},attrs:{name:"icon-gengduo"}})],1)],1)],1)],1),t.paidStatus?i("v-uni-view",[t.refreshStatus?i("qui-person-list",{ref:"paidList",attrs:{type:t.t.pay,"person-num":t.thread.paidCount,"limit-count":t.limitShowNum,"person-list":t.thread.paidUsers,"btn-show":t.paidBtnStatus,"btn-icon-show":!0,"btn-icon-name":"rmb","btn-text":t.payThreadTypeText},on:{personJump:function(e){arguments[0]=e=t.$handleEvent(e),t.personJump.apply(void 0,arguments)},btnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.payClickShow.apply(void 0,arguments)}}}):t._e()],1):t._e(),t.rewardStatus&&6!==t.thread.type?i("v-uni-view",[i("qui-person-list",{attrs:{type:t.t.reward,"person-num":t.thread.rewardedCount,"limit-count":t.limitShowNum,"person-list":t.rewardedUsers,"btn-show":t.rewardBtnStatus&&6!==t.thread.type,"btn-icon-show":!0,"btn-icon-name":"reward","btn-text":t.t.reward},on:{personJump:function(e){arguments[0]=e=t.$handleEvent(e),t.personJump.apply(void 0,arguments)},btnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.rewardClick.apply(void 0,arguments)}}})],1):t._e(),t.beAsk?i("v-uni-view",[i("qui-be-ask",{attrs:{date:t.beAskDate,"be-date":t.beAskBeDate,"show-txt":"0.00"!==t.thread.question.price},on:{queClick:function(e){arguments[0]=e=t.$handleEvent(e),t.queClick.apply(void 0,arguments)}}})],1):t._e(),t.answerPay?i("v-uni-view",{staticClass:"answerPay"},[i("qui-answer",{attrs:{"user-info":t.thread.user,"avatar-url":t.thread.question.beUser.avatarUrl,"user-name":t.thread.question.beUser.username,"is-real":t.thread.question.beUser.isReal,"user-role":t.handleGroup(t.thread.question.beUser.groups&&t.thread.question.beUser.groups),"theme-time":t.thread.question.answered_at,"person-num":t.thread.paidCount,"limit-count":t.limitShowNum,"person-list":t.thread.paidUsers,"btn-show":t.paidBtnStatus,"btn-icon-show":!0,thread:t.thread,"images-list":t.thread.question.images,"answer-content":t.thread.question.content_html,"is-onlooker":t.thread.onlookerState,"btn-icon-name":"rmb","btn-text":t.payThreadTypeText},on:{personJump:function(e){arguments[0]=e=t.$handleEvent(e),t.personJump.apply(void 0,arguments)},btnClick:function(e){arguments[0]=e=t.$handleEvent(e),t.payAnswerClickShow()},watchClick:function(e){arguments[0]=e=t.$handleEvent(e),t.watchClick()}}})],1):t._e(),t.payment?i("v-uni-view",{staticClass:"payment"},[i("qui-payment-visible",{attrs:{"user-id":t.thread.question.beUser.id,"user-name":t.thread.question.beUser.username,"avatar-url":t.thread.question.beUser.avatarUrl,"theme-time":t.thread.question.answered_at,"answer-content":t.thread.question.content_html,"images-list":t.thread.question.images,thread:t.thread,"be-user-id":t.thread.question.be_user_id}})],1):t._e(),t.likedUsers.length>0?i("v-uni-view",[i("qui-person-list",{attrs:{type:t.t.giveLike,"person-num":t.thread.firstPost.likeCount,"limit-count":t.limitShowNum,"person-list":t.likedUsers,"btn-show":!1},on:{personJump:function(e){arguments[0]=e=t.$handleEvent(e),t.personJump.apply(void 0,arguments)}}})],1):t._e(),i("v-uni-view",{staticClass:"det-con-ft"},[i("v-uni-view",{staticClass:"det-con-ft-child"},[t._v(t._s(t.t.read)+t._s(t.thread.viewCount))]),i("v-uni-view",{staticClass:"det-con-ft-child",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.threadCollectionClick(t.thread._jv.id,t.thread.canFavorite,t.thread.isFavorite,"1")}}},[t.thread.isFavorite?i("qui-icon",{staticClass:"qui-icon",attrs:{name:"icon-collectioned"}}):i("qui-icon",{staticClass:"qui-icon",attrs:{name:"icon-collection"}}),t.thread.isFavorite?i("v-uni-view",[t._v(t._s(t.t.collectionAlready))]):i("v-uni-view",[t._v(t._s(t.t.collection))])],1)],1)],1),i("v-uni-view",{staticClass:"comment"},[i("v-uni-view",{staticClass:"comment-top"},[i("v-uni-view",{staticClass:"comment-num",style:{paddingBottom:t.thread.postCount>1?"0":"40rpx"}},[t._v(t._s(t.thread.postCount-1)+t._s(t.t.item)+t._s(t.t.comment))]),t.thread.postCount>1?i("v-uni-view",{staticClass:"comment-sort"},[i("v-uni-view",{staticClass:"comment-sort-operaCl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sortOperaClick.apply(void 0,arguments)}}},[i("qui-icon",{staticClass:"icon-management",attrs:{name:"icon-sort1",color:"#777",size:"30"}})],1),i("v-uni-view",[i("qui-drop-down",{attrs:{posival:"absolute",show:t.sortSeleShow,list:t.sortSelectList,top:60,right:0,width:220},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.sortSelectChoice.apply(void 0,arguments)}}})],1)],1):t._e()],1),t.posts.length>0?i("v-uni-view",t._l(t.posts,(function(e,s){return i("v-uni-view",{key:s},[!e.isDeleted&&t.refreshVal?i("qui-topic-comment",{attrs:{"comment-type":0,"post-id":e._jv.id,"comment-avatar-url":e.user.avatarUrl,"user-name":e.user.username,"is-real":e.user.isReal,"is-liked":e.isLiked,"user-role":e.user.groups?e.user.groups:"","comment-time":e.createdAt,"comment-status":e.isApproved,"comment-content":e.summary,"reply-list":e.lastThreeComments,"comment-like-count":e.likeCount,"images-list":e.images,"reply-count":e.replyCount,"can-delete":e.canHide,"comment-show":!0},on:{personJump:function(i){arguments[0]=i=t.$handleEvent(i),t.personJump(e.user.id)},commentLikeClick:function(i){arguments[0]=i=t.$handleEvent(i),t.commentLikeClick(e._jv.id,"4",e.canLike,e.isLiked,s,e)},commentJump:function(i){arguments[0]=i=t.$handleEvent(i),t.commentJump(t.threadId,e._jv.id)},imageClick:function(e){arguments[0]=e=t.$handleEvent(e),t.imageClick.apply(void 0,arguments)},deleteComment:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteComment(e._jv.id,"3",e.canHide,e.isDeleted,e)},replyComment:function(i){arguments[0]=i=t.$handleEvent(i),t.replyComment(e._jv.id,s)}}}):t._e()],1)})),1):t._e()],1),i("qui-load-more",{attrs:{status:t.loadingType,"content-text":{contentdown:t.c.contentdown,contentrefresh:t.c.contentrefresh,contentnomore:t.contentnomoreVal}}})],1)],1),t.footerShow?i("v-uni-view",{staticClass:"det-ft",style:{paddingBottom:t.detectionModel()?"20rpx":0}},[i("v-uni-view",{staticClass:"det-ft-con"},[i("v-uni-view",{staticClass:"det-ft-child flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.threadLikeClick(t.thread.firstPost._jv.id,t.thread.firstPost.canLike,t.thread.firstPost.isLiked)}}},[i("qui-icon",{staticClass:"qui-icon",attrs:{name:t.thread.firstPost.isLiked?"icon-liked":"icon-like"}}),i("v-uni-view",{staticClass:"ft-child-word"},[t._v(t._s(t.thread.firstPost.isLiked?t.t.giveLikeAlready:t.t.giveLike))])],1),i("v-uni-view",{staticClass:"det-ft-child flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.threadComment(t.thread._jv.id)}}},[i("qui-icon",{staticClass:"qui-icon",attrs:{name:"icon-comments"}}),i("v-uni-view",{staticClass:"ft-child-word"},[t._v(t._s(t.t.writeComment))])],1),i("v-uni-view",{staticClass:"det-ft-child flex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareClick.apply(void 0,arguments)}}},[i("qui-icon",{staticClass:"qui-icon",attrs:{name:"icon-share"}}),i("v-uni-view",{staticClass:"ft-child-word"},[t._v(t._s(t.t.share))])],1)],1)],1):t._e(),t.shareShow?i("v-uni-view",{staticClass:"mask",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeShare.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"wxShareTip"},[i("img",{staticClass:"sharePoint",attrs:{src:"/static/sharePoint.png",alt:!0}}),i("img",{staticClass:"shareKnow",attrs:{src:"/static/shareKnow.png",alt:!0}})])],1):t._e(),i("uni-popup",{ref:"sharePopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"popup-share"},[i("v-uni-view",{staticClass:"popup-share-content"},[i("v-uni-button",{staticClass:"popup-share-button",attrs:{"open-type":"share"}}),t._l(t.bottomData,(function(e,s){return i("v-uni-view",{key:s,staticClass:"popup-share-content-box"},[i("v-uni-view",{staticClass:"popup-share-content-image"},[i("v-uni-view",{staticClass:"popup-share-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareContent(s)}}},[i("qui-icon",{staticClass:"content-image",attrs:{name:e.icon,size:"46",color:"#777777"}})],1)],1),i("v-uni-text",{staticClass:"popup-share-content-text"},[t._v(t._s(e.text))])],1)}))],2),i("v-uni-view",{staticClass:"popup-share-content-space"}),i("v-uni-text",{staticClass:"popup-share-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("share")}}},[t._v(t._s(t.c.cancel))])],1)],1),i("uni-popup",{ref:"rewardPopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"popup-box"},[i("v-uni-view",{staticClass:"popup-reward-content"},[i("v-uni-text",{staticClass:"popup-title"},[t._v(t._s(t.t.supportTheAuthorToCreate))]),i("v-uni-view",{staticClass:"popup-content-btn"},t._l(t.payNum,(function(e,s){return i("qui-button",{key:s,staticClass:"popup-btn",attrs:{type:t.payNumCheck[0].name===e.name?"primary":"post",plain:!0,size:"post"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.moneyClick(s)}}},[t._v(t._s(e.name))])})),1)],1),i("v-uni-view",{staticClass:"popup-content-space"}),i("v-uni-text",{staticClass:"popup-cancel-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelReward()}}},[t._v(t._s(t.i18n.t("discuzq.post.cancel")))])],1)],1),i("uni-popup",{ref:"customAmountPopup",attrs:{type:"center"}},[t.customAmountStatus?i("v-uni-view",[i("v-uni-view",{staticClass:"popup-dialog"},[i("v-uni-view",{staticClass:"popup-dialog__top"},[i("v-uni-text",[t._v(t._s(t.t.enterTheRewardPaymeAmount))])],1),i("v-uni-view",{staticClass:"popup-dialog__cont"},[i("qui-icon",{staticClass:"popup-dialog__cont-rmb",attrs:{name:"icon-rmb",size:"40"}}),i("v-uni-input",{staticClass:"popup-dialog__cont-input",attrs:{type:"digit",placeholder:"0.0",focus:!0,maxlength:t.maxLength},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.checkNum.apply(void 0,arguments)}},model:{value:t.inputPrice,callback:function(e){t.inputPrice=e},expression:"inputPrice"}})],1),i("v-uni-view",{staticClass:"popup-dialog__ft"},[i("v-uni-button",{staticClass:"popup-btn--close",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.diaLogClose.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.t("discuzq.close")))]),i("v-uni-button",{staticClass:"popup-btn--ok",class:t.inputPrice>0?"popup-btn--ok--blue":"",attrs:{disabled:""===t.inputPrice},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.diaLogOk.apply(void 0,arguments)}}},[t._v(t._s(t.i18n.t("discuzq.ok")))])],1)],1)],1):t._e()],1),i("uni-popup",{ref:"morePopup",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"popup-share"},[i("v-uni-view",{staticClass:"popup-share-content",class:t.moreDataLength>4?"popup-share-content-inner":""},t._l(t.moreData,(function(e,s){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.canOpera,expression:"item.canOpera"}],key:s,staticClass:"popup-share-content-box popup-more-content-box",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.moreContent(e,t.thread)}}},["wxFriends"===e.name?i("v-uni-button",{staticClass:"popup-more-button",attrs:{"open-type":"share"}}):t._e(),i("v-uni-view",{staticClass:"popup-share-content-image"},[i("v-uni-view",{staticClass:"popup-share-box"},[i("qui-icon",{staticClass:"content-image",attrs:{name:e.icon,size:"46",color:"#777777"}})],1)],1),i("v-uni-text",{staticClass:"popup-share-content-text popup-more-content-text"},[t._v(t._s(e.text))])],1)})),1),i("v-uni-view",{staticClass:"popup-share-content-space"}),i("v-uni-text",{staticClass:"popup-share-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.moreCancel.apply(void 0,arguments)}}},[t._v(t._s(t.c.cancel))])],1)],1),i("uni-popup",{ref:"reportPopup",attrs:{type:"bottom"}},[i("qui-report",{ref:"report",attrs:{"current-login-id":t.currentLoginId,"thread-id":t.threadId,"report-type":1},on:{reportClose:function(e){arguments[0]=e=t.$handleEvent(e),t.reportClose.apply(void 0,arguments)}}})],1),t.payShowStatus?i("v-uni-view",[i("qui-pay",{ref:"payShow",attrs:{"pay-type-val":t.payTypeVal,"thread-id":t.thread._jv.id,money:t.price,"wallet-status":t.user.canWalletPay,"pay-password":t.pwdVal,balance:Number(t.user.walletBalance),"pay-type-data":t.payTypeData,"to-name":t.thread.user.username,"pay-type":t.payTypeText,"pay-tip-show":5!==t.thread.type},on:{radioMyHead:function(e){arguments[0]=e=t.$handleEvent(e),t.radioMyHead.apply(void 0,arguments)},radioChange:function(e){arguments[0]=e=t.$handleEvent(e),t.radioChange.apply(void 0,arguments)},onInput:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},paysureShow:function(e){arguments[0]=e=t.$handleEvent(e),t.paysureShow.apply(void 0,arguments)}}})],1):t._e(),t.coverLoading?i("qui-loading-cover",{attrs:{"mask-zindex":"111"}}):t._e(),i("qui-toast",{ref:"toast"}),i("uni-popup",{ref:"commentPopup",staticClass:"comment-popup-box",attrs:{type:"bottom"}},[t.commentPopupStatus?i("v-uni-view",{staticClass:"comment-popup"},[i("v-uni-view",{staticClass:"comment-popup-topbox"},[i("v-uni-view",{staticClass:"comment-popup-top"},[i("v-uni-view",{staticClass:"comment-popup-top-l"},[i("qui-icon",{staticClass:"comm-icon",attrs:{name:"icon-expression",size:40},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.emojiShow=!t.emojiShow}}}),i("qui-icon",{staticClass:"comm-icon",attrs:{name:"icon-call",size:40},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.callClick.apply(void 0,arguments)}}})],1),t.commentWorkTips?i("v-uni-view",{staticClass:"text-word-tip"},[t._v(t._s(t.t.canWrite)+t._s(5e3-t.textAreaValue.length)+t._s(t.t.word))]):t._e(),t.commentText?i("v-uni-view",{staticClass:"text-word-tip"},[t._v(t._s(t.t.canWrite)+t._s(49999-t.textAreaValue.length)+t._s(t.t.word))]):t._e()],1),t.emojiShow?i("qui-emoji",{attrs:{position:"absolute",top:"104rpx","border-radius":"10rpx",color:t.emojiShow?"#1878F3":"#777"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getEmojiClick.apply(void 0,arguments)}}}):t._e()],1),i("v-uni-view",{staticClass:"comment-content-box"},[i("v-uni-view",{staticClass:"comment-content"},[t.emojiShow?t._e():i("v-uni-textarea",{ref:"commentText",staticClass:"comment-textarea",attrs:{focus:t.focusVal,maxlength:t.maxTextLength,placeholder:!0===t.commentText?t.t.writeCommentsAsk:t.t.writeComments,"placeholder-style":"color:#b5b5b5;font-size: 28rpx;","placeholder-class":"text-placeholder","show-confirm-bar":t.barStatus,"cursor-spacing":"80"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.contBlur.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchStop.apply(void 0,arguments)}},model:{value:t.textAreaValue,callback:function(e){t.textAreaValue=e},expression:"textAreaValue"}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.emojiShow,expression:"emojiShow"}],staticClass:"comment-textarea"},[t._v(t._s(t.textAreaValue))])],1),i("qui-uploader",{ref:"upload",attrs:{url:t.url+"api/attachments",header:t.header,"form-data":t.formData,count:3,name:"file","async-clear":!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadChange.apply(void 0,arguments)},clear:function(e){arguments[0]=e=t.$handleEvent(e),t.uploadClear.apply(void 0,arguments)}}})],1),i("v-uni-button",{staticClass:"publish-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.publishClickStatus&&t.publishClick()}}},[t._v(t._s(t.t.publish))])],1):t._e()],1),i("uni-popup",{ref:"codePopup",staticClass:"code-popup-box",attrs:{type:"center"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.codeImgChange.apply(void 0,arguments)}}},[t.qrcodeShow?i("v-uni-view",{staticClass:"code-content"},[i("v-uni-view",{staticClass:"code-title"},[t._v(t._s(t.p.payNow))]),i("v-uni-view",{staticClass:"code-pay-money"},[i("v-uni-view",{staticClass:"code-yuan"},[t._v("￥")]),t._v(t._s(t.price))],1),i("v-uni-view",{staticClass:"code-type-box"},[i("v-uni-view",{staticClass:"code-type-tit"},[t._v(t._s(t.p.payType))]),i("v-uni-view",{staticClass:"code-type"},[i("qui-icon",{staticClass:"code-type-icon",attrs:{name:"icon-wxPay",size:"36",color:"#09bb07"}}),i("v-uni-view",{staticClass:"code-type-text"},[t._v(t._s(t.p.wxPay))])],1)],1),i("v-uni-image",{staticClass:"code-img",attrs:{src:t.codeUrl}}),i("v-uni-view",{staticClass:"code-tip"},[t._v(t._s(t.p.wechatIdentificationQRcode))])],1):t._e()],1),i("uni-popup",{ref:"deletePopup",attrs:{type:"center"}},[i("uni-popup-dialog",{attrs:{type:"warn",content:t.deleteTip,"before-close":!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickCancel.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.handleClickOk.apply(void 0,arguments)}}})],1),i("uni-popup",{ref:"wechatPopup",attrs:{type:"center"}},[i("uni-popup-dialog",{attrs:{type:"warn",content:t.wechatTip,"before-close":!0},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.handleWechatClickCancel.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.handleWechatClickOk.apply(void 0,arguments)}}})],1)],1):!t.loadingStatus||t.loaded||t.thread.isDeleted?t.thread.isDeleted||!1===t.loaded?i("qui-page-message"):t._e():i("v-uni-view",{staticClass:"loading"},[i("u-loading",{attrs:{size:60}})],1)],1)},o=[]}).call(this,i("5a52").default)},e972:function(t,e,i){t.exports=i.p+"static/img/msg-404.e11dc2d7.svg"}}]);