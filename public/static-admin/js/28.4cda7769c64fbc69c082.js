(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"0Y4v":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"table-no-list"}},"7qpD":function(e,t,n){"use strict";n.r(t);var a=n("INw2"),i=n("EFx4");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("hc7x");var s=n("KHd+"),o=Object(s.a)(i.default,a.a,a.b,!1,null,"7d149013",null);t.default=o.exports},"85XV":function(e,t,n){"use strict";n.r(t),t.default={el:{colorpicker:{confirm:"Εντάξει",clear:"Καθαρισμός"},datepicker:{now:"Τώρα",today:"Σήμερα",cancel:"Ακύρωση",clear:"Καθαρισμός",confirm:"Εντάξει",selectDate:"Επιλέξτε ημέρα",selectTime:"Επιλέξτε ώρα",startDate:"Ημερομηνία Έναρξης",startTime:"Ωρα Έναρξης",endDate:"Ημερομηνία Λήξης",endTime:"Ωρα Λήξης",prevYear:"Προηγούμενο Έτος",nextYear:"Επόμενο Έτος",prevMonth:"Προηγούμενος Μήνας",nextMonth:"Επόμενος Μήνας",year:"Έτος",month1:"Ιανουάριος",month2:"Φεβρουάριος",month3:"Μάρτιος",month4:"Απρίλιος",month5:"Μάιος",month6:"Ιούνιος",month7:"Ιούλιος",month8:"Αύγουστος",month9:"Σεπτέμβριος",month10:"Οκτώβριος",month11:"Νοέμβριος",month12:"Δεκέμβριος",weeks:{sun:"Κυρ",mon:"Δευ",tue:"Τρι",wed:"Τετ",thu:"Πεμ",fri:"Παρ",sat:"Σαβ"},months:{jan:"Ιαν",feb:"Φεβ",mar:"Μαρ",apr:"Απρ",may:"Μαϊ",jun:"Ιουν",jul:"Ιουλ",aug:"Αυγ",sep:"Σεπ",oct:"Οκτ",nov:"Νοε",dec:"Δεκ"}},select:{loading:"Φόρτωση",noMatch:"Δεν βρέθηκαν αποτελέσματα",noData:"Χωρίς δεδομένα",placeholder:"Επιλογή"},cascader:{noMatch:"Δεν βρέθηκαν αποτελέσματα",loading:"Φόρτωση",placeholder:"Επιλογή",noData:"Χωρίς δεδομένα"},pagination:{goto:"Μετάβαση σε",pagesize:"/σελίδα",total:"Σύνολο {total}",pageClassifier:""},messagebox:{title:"Μήνυμα",confirm:"Εντάξει",cancel:"Ακύρωση",error:"Άκυρη εισαγωγή"},upload:{deleteTip:"Πάτησε Διαγραφή για αφαίρεση",delete:"Διαγραφή",preview:"Προεπισκόπηση",continue:"Συνέχεια"},table:{emptyText:"Χωρίς Δεδομένα",confirmFilter:"Επιβεβαίωση",resetFilter:"Επαναφορά",clearFilter:"Όλα",sumText:"Σύνολο"},tree:{emptyText:"Χωρίς Δεδομένα"},transfer:{noMatch:"Δεν βρέθηκαν αποτελέσματα",noData:"Χωρίς δεδομένα",titles:["Λίστα 1","Λίστα 2"],filterPlaceholder:"Αναζήτηση",noCheckedFormat:"{total} Αντικείμενα",hasCheckedFormat:"{checked}/{total} επιλεγμένα"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"Χωρίς Δεδομένα"}}}},Dezn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-review-box"},[n("div",{staticClass:"user-review-table"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),n("el-table-column",{attrs:{label:"编号",prop:"userId",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{prop:"username",label:"用户名",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{prop:"nickname",label:"用户昵称",width:"200"}}),e._v(" "),n("el-table-column",{attrs:{width:"200",label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.formatDate(t.row.createdAt)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"mobile",label:"手机号",width:"150"}}),e._v(" "),n("el-table-column",{key:e.index,attrs:{width:"150",label:"扩展字段"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.dialogTableVisibleFun(t)}}},[e._v("查看")]),e._v(" "),n("el-dialog",{attrs:{title:"扩展信息",visible:e.visibleExtends[t.$index].dialogTableVisible},on:{"update:visible":function(n){return e.$set(e.visibleExtends[t.$index],"dialogTableVisible",n)}}},[n("el-table",{ref:"multipleTable",staticClass:"user-review-table__box",attrs:{data:e.gridDataFun(t),"tooltip-effect":"dark","max-height":"400",border:!0},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{staticClass:"user-review-table__trbox",attrs:{label:"字段名称",prop:"name",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"user-review-table__tdbox"},[e._v(e._s(t.row.name))])]}}],null,!0)}),e._v(" "),n("el-table-column",{attrs:{label:"字段信息",width:"571"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"user-review-table__exdent"},[0===t.row.type||1===t.row.type?n("p",[e._v("\n                            "+e._s(t.row.fieldsExt)+"\n                        ")]):e._e(),e._v(" "),2===t.row.type||3===t.row.type?n("p",[e._v("\n                            "+e._s(e.optionFun(t.row.fieldsExt))+"\n                        ")]):e._e(),e._v(" "),4===t.row.type||5===t.row.type?n("div",e._l(t.row.fieldsExt,(function(t,a){return n("p",{key:a},[n("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])})),0):e._e()])]}}],null,!0)})],1)],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.singleOperation("pass",t.row.userId,t)}}},[e._v("通过")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.singleOperation("no",t.row.userId,t)}}},[e._v("否决")]),e._v(" "),n("el-popover",{ref:"popover-"+t.$index,attrs:{width:"100",placement:"top"}},[n("p",[e._v("确定删除该项吗？")]),e._v(" "),n("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){t._self.$refs["popover-"+t.$index].doClose()}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(n){e.singleOperation("del",t.row.id),t._self.$refs["popover-"+t.$index].doClose()}}},[e._v("确定")])],1)])]}}])})],1),e._v(" "),e.pageCount>1?n("Page",{attrs:{"current-page":e.currentPaga,"page-size":10,total:e.total},on:{"current-change":e.handleCurrentChange}}):e._e()],1),e._v(" "),n("Card",{staticClass:"footer-btn"},[n("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.allOperation("pass")}}},[e._v("通过")]),e._v(" "),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.allOperation("no")}}},[e._v("否决")]),e._v(" "),n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[n("p",[e._v("确定删除选中的用户吗？")]),e._v(" "),n("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.allOperation("del")}}},[e._v("确认")])],1)])],1)],1)},i=[]},EFx4:function(e,t,n){"use strict";n.r(t);var a=n("0Y4v"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=i.a},F6Za:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("QbLZ")),i=r(n("Mro7"));function r(e){return e&&e.__esModule?e:{default:e}}n("I1+7"),t.default=(0,a.default)({name:"userReview"},i.default)},INw2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(){var e=this.$createElement;this._self._c;return this._m(0)},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-no-list"},[t("p",[this._v("暂无数据")])])}]},"KHd+":function(e,t,n){"use strict";function a(e,t,n,a,i,r,s,o){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):i&&(l=o?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return a}))},Kvoi:function(e,t,n){},Mro7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("4gYi")),i=o(n("rWG0")),r=o(n("7qpD")),s=o(n("VVfg"));o(n("85XV"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{tableData:[],multipleSelection:[],visible:!1,currentPaga:1,total:0,pageCount:1,btnLoading:!1,extendedAudit:[],gridData:[],visibleExtends:[]}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},singleOperation:function(e,t,n){var a=this;"pass"===e?this.editUser(t,0):"no"===e?this.$MessageBox.prompt("","提示",{confirmButtonText:"提交",cancelButtonText:"取消",inputPlaceholder:"请输入否决原因"}).then((function(e){a.editUser(t,3,e.value)})).catch((function(e){})):"del"===e&&this.deleteUser(t)},allOperation:function(e){var t=this,n=[];"pass"===e?(this.btnLoading=!0,this.multipleSelection.length<1?(this.$message.warning("请选择审核用户"),this.btnLoading=!1):(this.multipleSelection.forEach((function(e){n.push({id:e.userId,status:0,rejectReason:""})})),this.patchEditUser(n))):"no"===e?this.multipleSelection.length<1?(this.$message.warning("请选择否决用户"),this.btnLoading=!1):this.$MessageBox.prompt("","提示",{confirmButtonText:"提交",cancelButtonText:"取消",inputPlaceholder:"请输入否决原因"}).then((function(e){t.multipleSelection.forEach((function(t){n.push({id:t.userId,status:3,rejectReason:e.value})})),t.patchEditUser(n)})).catch((function(e){})):"del"===e&&(this.multipleSelection.length<1?(this.$message.warning("请选择删除用户"),this.btnLoading=!1):(this.multipleSelection.forEach((function(e){n.push({id:e.userId,status:4,rejectReason:""})})),this.patchDeleteUser(n),this.visible=!1))},handleCurrentChange:function(e){document.getElementsByClassName("index-main-con__main")[0].scrollTop=0,this.currentPaga=e,this.getUserList(e)},formatDate:function(e){return this.$dayjs(e).format("YYYY-MM-DD HH:mm")},getUserList:function(e){var t=this;this.appFetch({url:"user_list_get_v3",method:"get",data:{"filter[status]":2,perPage:10,page:e}}).then((function(e){0===e.Code?(t.total=e.Data.totalCount,t.pageCount=e.Data.totalPage,t.visibleExtends=[],e.Data.pageData.forEach((function(e,n){t.visibleExtends.push({dialogTableVisible:!1}),e.extFields.length>0&&e.extFields.forEach((function(e,t){e.type>1&&e.fieldsExt&&(e.fieldsExt=JSON.parse(e.fieldsExt))}))})),t.tableData=e.Data.pageData):t.$message.error(e.Message)}))},dialogTableVisibleFun:function(e){this.visibleExtends[e.$index].dialogTableVisible=!0},editUser:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.appFetch({url:"users_examine_post_v3",method:"post",data:{data:[{id:e,status:t,rejectReason:a}]}}).then((function(e){if(n.btnLoading=!1,e.errors)n.$message.error(e.errors[0].code);else{if(0!==e.Code)return void n.$message.error(e.Message);n.$message({message:"操作成功",type:"success"}),n.getUserList(Number(s.default.getLItem("currentPag"))||1)}})).catch((function(e){}))},patchEditUser:function(e){var t=this;this.appFetch({url:"users_examine_post_v3",method:"post",data:{data:e}}).then((function(e){if(t.btnLoading=!1,e.errors)t.$message.error(e.errors[0].code);else{if(0!==e.Code)return void t.$message.error(e.Message);t.$message({message:"操作成功",type:"success"}),t.getUserList(Number(s.default.getLItem("currentPag"))||1)}})).catch((function(e){}))},patchDeleteUser:function(e){var t=this;this.appFetch({url:"users_examine_post_v3",method:"post",data:{data:e}}).then((function(e){if(e.errors)t.$message.error(e.errors[0].code);else{if(0!==e.Code)return void t.$message.error(e.Message);t.$message({message:"操作成功",type:"success"}),t.getUserList(Number(s.default.getLItem("currentPag"))||1)}})).catch((function(e){}))},deleteUser:function(e){var t=this;this.appFetch({url:"users_examine_post_v3",method:"post",data:{data:[{id:e,status:4}]}}).then((function(e){if(e.errors)t.$message.error(e.errors[0].code);else{if(0!==e.Code)return void t.$message.error(e.Message);t.$message({message:"操作成功",type:"success"}),t.getUserList(Number(s.default.getLItem("currentPag"))||1)}})).catch((function(e){}))},getCreated:function(e){e?this.getUserList(1):this.getUserList(Number(s.default.getLItem("currentPag"))||1)},auditQuery:function(){var e=this;this.appFetch({url:"signinfields_get_v3",method:"get",data:{}}).then((function(t){0===t.Code?(e.extendedAudit=[],t.Data.forEach((function(t){1==t.status&&e.extendedAudit.push(t)}))):e.$message.error(t.Message)}))},optionFun:function(e){var t="";return e.options?e.options.forEach((function(e){e.checked&&(t+=e.value+" ")})):e.forEach((function(e){e.checked&&(t+=e.value+" ")})),t},gridDataFun:function(e){return e.row.extFields}},created:function(){this.auditQuery()},beforeRouteEnter:function(e,t,n){n((function(n){e.name!==t.name&&null!==t.name?n.getCreated(!0):n.getCreated(!1)}))},components:{Card:a.default,Page:i.default,tableNoList:r.default}}},esgl:function(e,t,n){"use strict";n.r(t);var a=n("F6Za"),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=i.a},hc7x:function(e,t,n){"use strict";n("Kvoi")},jhKW:function(e,t,n){"use strict";n.r(t);var a=n("Dezn"),i=n("esgl");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);var s=n("KHd+"),o=Object(s.a)(i.default,a.a,a.b,!1,null,null,null);t.default=o.exports}}]);