(window.webpackJsonp=window.webpackJsonp||[]).push([[24,9],{"0Y4v":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"table-no-list"}},"5shi":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(a("QbLZ"));a("gtKr");var n=i(a("u8Dz"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)({name:"cont-arrange-view"},n.default)},"7qpD":function(e,t,a){"use strict";a.r(t);var s=a("INw2"),n=a("EFx4");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);a("hc7x");var r=a("KHd+"),o=Object(r.a)(n.default,s.a,s.b,!1,null,"7d149013",null);t.default=o.exports},"9o/Y":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cont-manage-box"},[a("div",{staticClass:"cont-manage-header"},[a("div",{staticClass:"cont-manage-header_top condition-box"},[a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-lf"},[a("span",{staticClass:"cont-manage-header_condition-title"},[e._v("作者：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.topicAuthor,callback:function(t){e.$set(e.searchData,"topicAuthor",t)},expression:"searchData.topicAuthor"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-rhs"},[a("span",{staticClass:"cont-manage-header_condition-title"},[e._v("话题：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.topicContent,callback:function(t){e.$set(e.searchData,"topicContent",t)},expression:"searchData.topicContent"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition cont-manage-header_condition-mid"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[e._v("创建时间范围：")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange",align:"right","unlink-panels":"",size:"medium","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.searchData.releaseTime,callback:function(t){e.$set(e.searchData,"releaseTime",t)},expression:"searchData.releaseTime"}})],1)]),e._v(" "),a("div",{staticClass:"cont-manage-header_bottom condition-box"},[a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles"},[e._v("主题数介于：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfThreadMin,callback:function(t){e.$set(e.searchData,"numberOfThreadMin",t)},expression:"searchData.numberOfThreadMin"}}),e._v(" "),a("div",{staticClass:"spacing"},[e._v("-")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfThreadMax,callback:function(t){e.$set(e.searchData,"numberOfThreadMax",t)},expression:"searchData.numberOfThreadMax"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles",staticStyle:{"padding-left":"20px"}},[e._v("热度数介于：")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfHotMin,callback:function(t){e.$set(e.searchData,"numberOfHotMin",t)},expression:"searchData.numberOfHotMin"}}),e._v(" "),a("div",{staticClass:"spacing"},[e._v("-")]),e._v(" "),a("el-input",{attrs:{size:"medium",clearable:""},model:{value:e.searchData.numberOfHotMax,callback:function(t){e.$set(e.searchData,"numberOfHotMax",t)},expression:"searchData.numberOfHotMax"}})],1),e._v(" "),a("div",{staticClass:"cont-manage-header_condition"},[a("span",{staticClass:"cont-manage-header_condition-titles condttions-titles",staticStyle:{"padding-left":"20px"}},[e._v("推荐：")]),e._v(" "),a("el-select",{attrs:{clearable:!0,placeholder:"请选择"},on:{change:e.obtainValue},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchClick}},[e._v("搜索")])],1)])]),e._v(" "),a("div",{staticClass:"cont-manage-theme"},[a("div",{staticClass:"cont-manage-theme__table"},[e._m(0),e._v(" "),e._l(e.themeList,(function(t,s){return a("ContArrange",{key:t.topicId,attrs:{establish:t.username?t.username:"该用户被删除",theme:e.formatDate(t.createdAt),numbertopic:t.threadCount,heatNumber:t.viewCount,userId:t.userId}},[a("div",{staticClass:"cont-manage-theme__table-side",attrs:{slot:"side"},slot:"side"},[a("el-radio-group",{on:{change:function(a){return e.themidpost(a,t.topicId)}},model:{value:e.radio[s],callback:function(t){e.$set(e.radio,s,t)},expression:"radio[index]"}},[a("el-radio",{attrs:{label:1}},[e._v("推荐")]),e._v(" "),a("el-radio",{attrs:{label:2}},[e._v("取消")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("删除")])],1)],1),e._v(" "),a("p",{staticClass:"cont-manage-theme__table-long-text",staticStyle:{cursor:"pointer"},attrs:{slot:"longText"},on:{click:function(a){return e.$router.push({path:"/admin/cont-manage/topic",query:{id:t.topicId,name:t.content}})}},slot:"longText"},[e._v("\n          "+e._s("#"+t.content+"#")+"\n        ")]),e._v(" "),a("div",{staticClass:"cont-manage-theme__table-main tables-main",attrs:{slot:"main"},slot:"main"},[a("div",{staticClass:"cont-manage-theme__table-main-bigbox"},[a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",on:{click:function(a){return e.btnrecomment(t.topicId,t.recommended)}}},[e._v(e._s(t.recommended?e.recomment2:e.recomment1))]),e._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-span"}),e._v(" "),a("el-popover",{ref:"popover-"+s,refInFor:!0,attrs:{width:"100",placement:"top"}},[a("p",[e._v("确定删除该项吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.closeDelet("popover-"+s)}}},[e._v("\n                取消\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.deteleTopic(t.topicId),e.closeDelet("popover-"+s)}}},[e._v("确定")])],1),e._v(" "),a("span",{staticClass:"cont-manage-theme__table-main-bigbox-box",attrs:{slot:"reference"},slot:"reference"},[e._v("删除")])])],1)])])})),e._v(" "),e.showViewer?a("el-image-viewer",{attrs:{"on-close":e.closeViewer,"url-list":e.url}}):e._e(),e._v(" "),a("tableNoList",{directives:[{name:"show",rawName:"v-show",value:e.themeList.length<1,expression:"themeList.length < 1"}]}),e._v(" "),e.pageCount>1?a("div",{staticClass:"cont-manage-theme__table-footer"},[a("Page",{attrs:{"current-page":e.currentPag,"page-size":10,total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e()],2)]),e._v(" "),a("div",{staticClass:"cont-manage-operating"},[a("Card",{staticClass:"footer-btn"},[a("el-button",{attrs:{loading:e.subLoading,type:"primary"},on:{click:e.btnSubmit}},[e._v("提交")]),e._v(" "),a("span",{staticClass:"cont-manage-operating-all operating-alls",on:{click:function(t){return e.allRecomment(1,e.themeListAll,1)}}},[e._v("全部推荐")]),e._v(" "),a("span",{staticClass:"cont-manage-operating-all",on:{click:function(t){return e.allRecomment(0,e.themeListAll,1)}}},[e._v("全部取消推荐")]),e._v(" "),a("el-popover",{attrs:{width:"100",placement:"top"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("p",[e._v("确定删除该项吗？")]),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"10PX 0 0 0"}},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("\n                取消\n              ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.deleteClick(e.themeListAll,1),e.visible=!1}}},[e._v("确定")])],1),e._v(" "),a("span",{staticClass:"cont-manage-operating-all",attrs:{slot:"reference"},slot:"reference"},[e._v("全部删除")])])],1)],1)])},n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cont-manage-theme__table-header"},[t("p",{staticClass:"cont-manage-theme__table-header__title"},[this._v("主题列表")])])}]},Dt3C:function(e,t,a){"use strict";a.r(t);var s=a("YNlp"),n=a("aoOm");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);var r=a("KHd+"),o=Object(r.a)(n.default,s.a,s.b,!1,null,null,null);t.default=o.exports},EFx4:function(e,t,a){"use strict";a.r(t);var s=a("0Y4v"),n=a.n(s);for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);t.default=n.a},FjbM:function(e,t,a){"use strict";a.r(t);var s=a("9o/Y"),n=a("KDx3");for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);var r=a("KHd+"),o=Object(r.a)(n.default,s.a,s.b,!1,null,null,null);t.default=o.exports},INw2:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(){var e=this.$createElement;this._self._c;return this._m(0)},n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-no-list"},[t("p",[this._v("暂无数据")])])}]},J6oF:function(e,t,a){"use strict";a.r(t),t.default={el:{colorpicker:{confirm:"باشد",clear:"حذف"},datepicker:{now:"اکنون",today:"امروز",cancel:"لغو",clear:"حذف",confirm:"باشه",selectDate:"انتخاب تاریخ",selectTime:"انتخاب زمان",startDate:"تاریخ شروع",startTime:"زمان شروع",endDate:"تاریخ پایان",endTime:"زمان پایان",prevYear:"سال قبل",nextYear:"سال بعد",prevMonth:"ماه قبل",nextMonth:"ماه بعد",year:"سال",month1:"ژانویه",month2:"فوریه",month3:"مارس",month4:"آوریل",month5:"مه",month6:"ژوئن",month7:"جولای",month8:"اوت",month9:"سپتامبر",month10:"اکتبر",month11:"نوامبر",month12:"دسامبر",weeks:{sun:"یکشنبه",mon:"دوشنبه",tue:"سه​شنبه",wed:"چهارشنبه",thu:"پنج​شنبه",fri:"جمعه",sat:"شنبه"},months:{jan:"ژانویه",feb:"فوریه",mar:"مارس",apr:"آوریل",may:"مه",jun:"ژوئن",jul:"جولای",aug:"اوت",sep:"سپتامبر",oct:"اکتبر",nov:"نوامبر",dec:"دسامبر"}},select:{loading:"بارگیری",noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",placeholder:"انتخاب کنید"},cascader:{noMatch:"هیچ داده‌ای پیدا نشد",loading:"بارگیری",placeholder:"انتخاب کنید",noData:"اطلاعاتی وجود ندارد"},pagination:{goto:"برو به",pagesize:"/صفحه",total:"مجموع {total}",pageClassifier:""},messagebox:{title:"پیام",confirm:"باشه",cancel:"لغو",error:"ورودی غیر مجاز"},upload:{deleteTip:"برای پاک کردن حذف را فشار دهید",delete:"حذف",preview:"پیش‌نمایش",continue:"ادامه"},table:{emptyText:"اطلاعاتی وجود ندارد",confirmFilter:"تایید",resetFilter:"حذف",clearFilter:"همه",sumText:"جمع"},tree:{emptyText:"اطلاعاتی وجود ندارد"},transfer:{noMatch:"هیچ داده‌ای پیدا نشد",noData:"اطلاعاتی وجود ندارد",titles:["لیست 1","لیست 2"],filterPlaceholder:"کلید واژه هارو وارد کن",noCheckedFormat:"{total} مورد",hasCheckedFormat:"{checked} مورد از {total} مورد انتخاب شده است"},image:{error:"خطا در بارگیری تصویر"},pageHeader:{title:"بازگشت"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},empty:{description:"اطلاعاتی وجود ندارد"}}}},KDx3:function(e,t,a){"use strict";a.r(t);var s=a("pJ1T"),n=a.n(s);for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);t.default=n.a},Kvoi:function(e,t,a){},YNlp:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cont-arrange-box"},[a("div",{staticClass:"cont-arrange-main"},[a("div",{staticClass:"cont-arrange__lf-side"},[e._t("side")],2),e._v(" "),a("main",{staticClass:"cont-arrange__rt-main"},[a("div",{staticClass:"cont-arrange__rt-main-header"},[a("div",{staticClass:"cont-arrange__rt-main-header__release"},[e.$attrs.author?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/user/"+e.$attrs.userId,target:"_blank"}},[e._v("\n              "+e._s(e.$attrs.author)+"\n            ")])]):e._e(),e._v(" "),e.$attrs.replyBy?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/user/"+e.$attrs.userId,target:"_blank"}},[e._v("\n              "+e._s(e.$attrs.replyBy)+"\n            ")])]):e._e(),e._v(" "),e.$attrs.establish?a("p",{ref:"userName"},[a("a",{staticStyle:{color:"#333333"},attrs:{href:"/user/"+e.$attrs.userId,target:"_blank"}},[e._v("\n              "+e._s(e.$attrs.establish)+"\n            ")])]):e._e(),e._v(" "),e.$attrs.author?a("p",{staticClass:"cont-arrange-span"},[e._v("发布于")]):e._e(),e._v(" "),e.$attrs.establish?a("p",{staticClass:"cont-arrange-span"},[e._v("创建于")]):e._e(),e._v(" "),e.$attrs.replyBy?a("p",{staticClass:"cont-arrange-span"},[e._v("回复主题")]):e._e(),e._v(" "),e.$attrs.time?a("p",[e._v(e._s(e.$attrs.time))]):e._e(),e._v(" "),e.$attrs.theme?a("p",[e._v(e._s(e.$attrs.theme))]):e._e(),e._v(" "),e.$attrs.themeName?a("p",{ref:"themeName",class:e.$attrs.themeName?"themeName":""},[e._v("\n            "+e._s(e.$attrs.themeName)+"\n            "),e.$attrs.titleIcon?a("span",{staticClass:"iconfont cont-arrange__rt-main-header__release-title-icon",class:e.$attrs.titleIcon}):e._e()]):e._e()]),e._v(" "),e.$attrs.prply>=0&&e.$attrs.browse>=0?a("div",{staticClass:"cont-arrange__rt-main-header__reply-view rt-box"},[a("span",[e._v("回复/查看：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.prply)+"/"+e._s(e.$attrs.browse))])]):e._e(),e._v(" "),e.$attrs.last?a("div",{staticClass:"cont-arrange__rt-main-header__last-reply rt-box"},[a("span",[e._v("最后回复：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.last))])]):e._e(),e._v(" "),e.$attrs.ip?a("div",{staticClass:" rt-box"},[a("span",[e._v("IP：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.ip))])]):e._e(),e._v(" "),e.$attrs.releaseTime?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[e._v("发布时间：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.releaseTime))])]):e._e(),e._v(" "),e.$attrs.finalPost?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[e._v("更新时间：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.finalPost))])]):e._e(),e._v(" "),e.$attrs.deleTime?a("div",{staticClass:" rt-box"},[a("span",[e._v("删除时间：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.deleTime))])]):e._e(),e._v(" "),e.$attrs.numbertopic>=0?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[e._v("主题数：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.numbertopic))])]):e._e(),e._v(" "),e.$attrs.heatNumber>=0?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[e._v("热度数：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.heatNumber))])]):e._e(),e._v(" "),e.$attrs.type?a("div",{staticClass:"cont-arrange__rt-main-header__release-time rt-box"},[a("span",[e._v("类型：")]),e._v(" "),a("span",[e._v(e._s(e.$attrs.type))])]):e._e(),e._v(" "),e._t("header")],2),e._v(" "),e.$slots.longText?a("div",{staticClass:"cont-arrange__rt-main-long-text"},[e._t("longText")],2):e._e(),e._v(" "),a("div",{ref:"contMain",staticClass:"cont-arrange__rt-main-box",style:{height:e.showContStatus?e.mainHeight+30+"px":e.mainHeight>78?"78PX":""}},[e._t("main")],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.mainHeight>78,expression:"mainHeight > 78"}],ref:"contControl",staticClass:"cont-block-control",class:e.showBottomStatus?"is-bottom-out":"",on:{click:e.showCont}},[a("p",[a("span",{staticClass:"iconfont icondown-menu",class:e.showContStatus?"show-down":""}),e._v("\n          "+e._s(e.showContStatus?"收起详情":"展开详情")+"\n        ")])]),e._v(" "),e.$slots.footer?a("div",{staticClass:"cont-arrange__rt-main-footer"},[e._t("footer")],2):e._e()])])])},n=[]},aoOm:function(e,t,a){"use strict";a.r(t);var s=a("5shi"),n=a.n(s);for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);t.default=n.a},gtKr:function(e,t,a){},hc7x:function(e,t,a){"use strict";a("Kvoi")},pJ1T:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(a("QbLZ"));a("lL+3");var n=i(a("wptx"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)({name:"topic-management-view"},n.default)},u8Dz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{showContStatus:!1,showBottomStatus:!1,mainHeight:0,windowWidth:0,themeNameLeft:70,themeNameStyle:{left:"70",width:"calc(100% - "}}},props:{},methods:{showCont:function(){this.mainHeight=this.$slots.main[0].elm.offsetHeight,this.showContStatus=!this.showContStatus;var e=this.$slots.main[0].elm.getBoundingClientRect().width;this.$slots.main[0].elm.offsetHeight+this.$slots.main[0].elm.getBoundingClientRect().top>window.innerHeight&&(this.showBottomStatus=!0,this.$refs.contControl.style.width=e+40+"PX"),this.showContStatus||(this.showBottomStatus=!1,this.$refs.contControl.style.width="100%")},handleScroll:function(){this.$refs.contControl&&(this.$refs.contControl.style.width=this.$slots.main[0].elm.getBoundingClientRect().width+40+"PX"),this.$slots.main[0].elm.offsetHeight+this.$slots.main[0].elm.getBoundingClientRect().top<window.innerHeight?this.showBottomStatus=!1:this.showContStatus&&(this.showBottomStatus=!0)},browserSize:function(){if(this.$refs.contControl){var e=this.$slots.main[0].elm.getBoundingClientRect(),t=e.width,a=e.top,s=this.$refs.contControl.style;this.showContStatus?(this.$slots.main[0].elm.offsetHeight+a>window.innerHeight?s.width=t+40+"PX":s.width="100%",this.$refs.contMain.style.height=this.$slots.main[0].elm.offsetHeight+30+"PX"):s.width="100%"}},removeScrollHandler:function(){window.removeEventListener("scroll",this.handleScroll,!0),window.removeEventListener("resize",this.browserSize,!0)},themeStyle:function(){this.themeNameStyle.left="70",this.themeNameStyle.width="calc(100% - ",this.themeNameStyle.left=70+this.$refs.userName.clientWidth+"px",this.themeNameStyle.width=this.themeNameStyle.width+(100+this.$refs.userName.clientWidth)+"px)"}},mounted:function(){this.mainHeight=this.$slots.main[0].elm.offsetHeight,window.addEventListener("scroll",this.handleScroll,!0),window.addEventListener("resize",this.browserSize,!0),this.windowWidth=window.innerWidth,this.themeStyle()},beforeDestroy:function(){this.removeScrollHandler()}}},wptx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=m(a("4gYi")),n=m(a("Dt3C")),i=m(a("7qpD")),r=m(a("rWG0")),o=m(a("VVfg")),c=a("WIBD"),l=m(a("CKnL"));m(a("J6oF"));function m(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{operatingList:[{name:"批量移动到分类",label:"class"},{name:"批量置顶",label:"sticky"},{name:"批量删除",label:"delete"},{name:"批量设置精华",label:"marrow"}],operatingSelect:"",categoriesList:[{name:"所有分类",id:0}],categoryId:"",checkAll:!1,checkAllNum:0,themeListAll:[],checkedTheme:[],isIndeterminate:!1,themeList:[],currentPag:1,total:0,pageCount:1,showViewer:!1,url:[],searchData:{topicContent:"",pageSelect:"10",topicAuthor:"",releaseTime:["",""],numberOfThreadMin:"",numberOfThreadMax:"",numberOfHotMin:"",numberOfHotMax:""},subLoading:!1,recommentbtn:!0,recomment1:"推荐",recomment2:"取消推荐",options:[{value:1,label:"是"},{value:0,label:"否"}],value:"",checkedAll:!1,recommentNumber:"",recommentParams:"createdAt",radio:[],themeOperation:[],themeOperations:[],recommend:[],cancelrecomend:[],detelethem:[],sobj:"",visible:!1}},computed:(0,c.mapState)({}),methods:{closeDelet:function(e){this.$refs[e][0].doClose()},closeViewer:function(){this.showViewer=!1},formatDate:function(e){return this.$dayjs(e).format("YYYY-MM-DD HH:mm")},handleCurrentChange:function(e){document.getElementsByClassName("index-main-con__main")[0].scrollTop=0,this.isIndeterminate=!1,this.currentPag=e,this.checkAll=!1,this.checkedTheme=[],this.getThemeList(e)},searchClick:function(){switch(this.searchData.topicTypeId){case"0":this.searchData.essentialTheme="",this.searchData.topType="";break;case"1":this.searchData.essentialTheme="",this.searchData.topType="yes";break;case"2":this.searchData.essentialTheme="yes",this.searchData.topType="";break;case"3":this.searchData.essentialTheme="yes",this.searchData.topType="yes"}this.searchData.releaseTime=null==this.searchData.releaseTime?["",""]:this.searchData.releaseTime,this.currentPag=1,this.getThemeList(1)},getThemeList:function(e){var t=this,a=this.searchData;this.appFetch({url:"topics_list_get_v3",method:"get",data:{page:e,perPage:a.pageSelect,"filter[recommended]":this.value,"filter[q]":a.themeKeyWords,"filter[username]":a.topicAuthor,"filter[content]":a.topicContent,"filter[createdAtBegin]":a.releaseTime[0],"filter[createdAtEnd]":a.releaseTime[1],"filter[threadCountBegin]":a.numberOfThreadMin,"filter[threadCountEnd]":a.numberOfThreadMax,"filter[viewCountBegin]":a.numberOfHotMin,"filter[viewCountEnd]":a.numberOfHotMax}}).then((function(e){if(e.errors)t.$message.error(e.errors[0].code);else{if(0!==e.Code)return void t.$message.error(e.Message);t.themeList=e.Data.pageData,t.total=e.Data.totalCount,t.pageCount=e.Data.totalPage,t.themeListAll=[],t.themeList.forEach((function(e,a){t.themeListAll.push(e.topicId)}))}})).catch((function(e){}))},deteleTopic:function(e){var t=this,a=e.toString();this.appFetch({url:"topic_delete_post_v3",method:"post",data:{ids:a}}).then((function(e){0===e.Code?(t.$message.success("删除成功"),t.getThemeList()):t.$message.error(e.Message)}))},deleteClick:function(e,t){var a=this,s=e.join(",");this.appFetch({url:"topic_delete_post_v3",method:"post",data:{ids:s}}).then((function(e){0===e.Code?(1===t&&a.$message.success("删除成功"),a.getThemeList()):a.$message.error(e.Message)}))},recommentBtn:function(){this.recommentbtn=!this.recommentbtn},btnrecomment:function(e,t){var a=this;this.recommentNumber=t?0:1,this.appFetch({url:"topics_update_post_v3",method:"post",data:{ids:""+e,isRecommended:this.recommentNumber}}).then((function(e){0===e.Code?(1===a.recommentNumber?a.$message.success("推荐成功"):a.$message.success("取消推荐成功"),a.getThemeList()):a.$message.error(e.Message)}))},allRecomment:function(e,t,a){var s=this,n=t.join(",");this.appFetch({url:"topics_update_post_v3",method:"post",data:{ids:n,isRecommended:e}}).then((function(t){0===t.Code?(1===a&&(1===e?s.$message.success("全部推荐成功"):s.$message.success("全部取消推荐成功")),s.getThemeList()):s.$message.error(t.Message)}))},btninformation:function(e){this.checkedAll=e},themidpost:function(e,t){var a=this;-1===this.themeOperations.indexOf(t)?(this.themeOperations.push(t),this.themeOperation.push({type:e,themid:t})):this.themeOperation.forEach((function(s,n){s.themid==t&&(a.themeOperation[n].type=e)}))},btnSubmit:function(){var e=this;this.recommend=[],this.cancelrecomend=[],this.detelethem=[],this.themeOperation.forEach((function(t,a){1===t.type?e.recommend.push(t.themid):2===t.type?e.cancelrecomend.push(t.themid):3===t.type&&e.detelethem.push(t.themid)})),this.recommend.length>=1&&this.allRecomment(1,this.recommend,2),this.detelethem.length>=1&&this.deleteClick(this.detelethem,2),this.cancelrecomend.length>=1&&this.allRecomment(0,this.cancelrecomend,2),this.$message.success("提交成功"),this.radio=[],this.themeOperation=[]}},beforeDestroy:function(){o.default.setLItem("currentPag",1);var e=new Object;for(var t in this.searchData)e[t]="pageSelect"===t?"10":""},created:function(){this.currentPag=Number(o.default.getLItem("currentPag"))||1,this.getThemeList(Number(o.default.getLItem("currentPag"))||1)},components:{Card:s.default,ContArrange:n.default,tableNoList:i.default,ElImageViewer:l.default,Page:r.default}}}}]);