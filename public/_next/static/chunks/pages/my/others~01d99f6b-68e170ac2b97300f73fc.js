_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"91s+":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my/others",function(){return r("SZdU")}])},QL3K:function(e,t,r){"use strict";r("ma9I"),r("E9XD"),r("tkto"),r("B6y2"),r("rB9j"),r("UxlC");var n,a=r("nKUr"),s=r("RIqP"),o=r.n(s),c=r("o0o1"),i=r.n(c),u=(r("ls82"),r("yXPU")),d=r.n(u),h=r("lwsE"),f=r.n(h),l=r("W8MJ"),p=r.n(l),g=r("7W2i"),j=r.n(g),U=r("a1gu"),v=r.n(U),b=r("Nsbk"),m=r.n(b),T=r("q1tI"),x=r.n(T),y=r("QV9d"),O=r("kMSe"),w=r("pN5v"),k=r("WNcC"),I=(r("z/8X"),r("wXCO")),R=r("20a2"),S=r("9XgB"),N=r("7KEy"),D=(r("Iygk"),r("b+pO"),r("B5JU")),P=r.n(D),L=r("Niza");r("VVxn");function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var q=Object(O.c)("site")(n=Object(O.c)("user")(n=Object(O.d)(n=function(e){j()(r,e);var t=C(r);function r(e){var n;return f()(this,r),(n=t.call(this,e)).targetUserId=null,n.componentDidMount=d()(i.a.mark((function e(){var t,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,r.id&&"undefined"!==r.id||P.a.replace({url:"/"}),String(a)!==r.id){e.next=6;break}return P.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!r.id){e.next=11;break}return n.targetUserId=r.id,e.next=10,n.props.user.getTargetUserInfo(r.id);case 10:n.setState({fetchUserInfoLoading:!1});case 11:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=d()(i.a.mark((function e(){var t,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,String(a)!==r.id){e.next=5;break}return P.a.replace({url:"/my"}),e.abrupt("return");case 5:if(String(n.targetUserId)!==String(r.id)){e.next=7;break}return e.abrupt("return");case 7:if(n.targetUserId=r.id,!r.id){e.next=16;break}return n.setState({fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0}),n.props.user.removeTargetUserInfo(),e.next=13,n.props.user.getTargetUserInfo(r.id);case 13:return n.setState({fetchUserInfoLoading:!1}),e.next=16,n.fetchTargetUserThreads();case 16:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.router.query).id){e.next=5;break}return e.next=4,n.props.user.getTargetUserThreads(t.id);case 4:n.setState({fetchUserThreadsLoading:!1});case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(o()(e),o()(t))}))},n.moreFans=function(){n.setState({showFansPopup:!0})},n.moreFollow=function(){n.setState({showFollowPopup:!0})},n.onSearch=function(e){n.props.router.replace("/search?keyword=".concat(e))},n.renderRight=function(){var e=n.props.router.query,t=null===e||void 0===e?void 0:e.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{userId:t}),Object(a.jsx)(N.a,{userId:t}),Object(a.jsx)(I.a,{})]})},n.renderContent=function(){var e,t=n.state.fetchUserThreadsLoading,r=n.props.user,s=r.targetUserThreads,o=r.targetUserThreadsTotalCount;r.targetUserThreadsPage,r.targetUserThreadsTotalPage;return Object(a.jsx)("div",{className:y.a.userContent,children:Object(a.jsx)(k.a,{title:"\u4e3b\u9898",type:"normal",bigSize:!0,isShowMore:!1,isLoading:t,leftNum:"".concat(o,"\u4e2a\u4e3b\u9898"),noData:!(null!==(e=n.formatUserThreadsData(s))&&void 0!==e&&e.length),mold:"plane",children:n.formatUserThreadsData(s)&&n.formatUserThreadsData(s).length>0&&Object(a.jsx)(L.a,{data:n.formatUserThreadsData(s)})})})},n.props.user.cleanTargetUserThreads(),n.state={showFansPopup:!1,showFollowPopup:!1,fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0},n}return p()(r,[{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e,t=this.state.fetchUserInfoLoading,r=this.props.user,n=r.targetUserThreadsPage,s=r.targetUserThreadsTotalPage,o=r.targetUserThreads;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(w.a,{isOtherPerson:!0,allowRefresh:!1,onRefresh:this.fetchTargetUserThreads,noMore:s<n,showRefresh:!1,onSearch:this.onSearch,right:this.renderRight,immediateCheck:!0,showLayoutRefresh:!(null===(e=this.formatUserThreadsData(o))||void 0===e||!e.length)&&!t,showHeaderLoading:t,children:this.renderContent()})})}}]),r}(x.a.Component))||n)||n)||n;t.a=Object(R.withRouter)(q)},SZdU:function(e,t,r){"use strict";r.r(t);var n,a=r("nKUr"),s=r("lwsE"),o=r.n(s),c=r("W8MJ"),i=r.n(c),u=r("7W2i"),d=r.n(u),h=r("a1gu"),f=r.n(h),l=r("Nsbk"),p=r.n(l),g=r("q1tI"),j=r("kMSe"),U=r("zrgt"),v=r("QL3K"),b=r("QcND");function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f()(this,r)}}var T=Object(j.c)("site")(n=Object(j.d)(n=function(e){d()(r,e);var t=m(r);function r(){return o()(this,r),t.apply(this,arguments)}return i()(r,[{key:"render",value:function(){return"h5"===this.props.site.platform?Object(a.jsx)(U.a,{}):Object(a.jsx)(v.a,{})}}]),r}(g.Component))||n)||n;t.default=Object(b.a)(T)},zrgt:function(e,t,r){"use strict";r("ma9I"),r("E9XD"),r("tkto"),r("B6y2"),r("rB9j"),r("UxlC");var n,a=r("nKUr"),s=r("RIqP"),o=r.n(s),c=r("o0o1"),i=r.n(c),u=(r("ls82"),r("yXPU")),d=r.n(u),h=r("lwsE"),f=r.n(h),l=r("W8MJ"),p=r.n(l),g=r("7W2i"),j=r.n(g),U=r("a1gu"),v=r.n(U),b=r("Nsbk"),m=r.n(b),T=r("q1tI"),x=r.n(T),y=r("/YC7"),O=r("x2xJ"),w=r.n(O),k=r("jqTq"),I=r.n(k),R=r("GuWI"),S=r("QLYM"),N=r("kMSe"),D=(r("E+SJ"),r("JhUJ"),r("Niza")),P=r("INMq"),L=(r("HoAE"),r("20a2")),C=r("B5JU"),q=r.n(C);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var M=Object(N.c)("site")(n=Object(N.c)("user")(n=Object(N.d)(n=function(e){j()(r,e);var t=E(r);function r(e){var n;return f()(this,r),(n=t.call(this,e)).componentDidMount=d()(i.a.mark((function e(){var t,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,r.id&&"undefined"!==r.id||q.a.replace({url:"/"}),String(a)!==r.id){e.next=6;break}return q.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!r.id){e.next=10;break}return e.next=9,n.props.user.getTargetUserInfo(r.id);case 9:n.setState({fetchUserInfoLoading:!1});case 10:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.router.query).id){e.next=4;break}return e.next=4,n.props.user.getTargetUserThreads(t.id);case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(o()(e),o()(t))}))},n.props.user.cleanTargetUserThreads(),n.state={fetchUserInfoLoading:!0},n}return p()(r,[{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e=this.props,t=e.site,r=e.user,n=t.platform,s=r.targetUserThreads,o=r.targetUserThreadsTotalCount,c=r.targetUserThreadsPage,i=r.targetUserThreadsTotalPage;return Object(a.jsx)(P.a,{showHeader:!0,showTabBar:!1,immediateCheck:!0,onRefresh:this.fetchTargetUserThreads,noMore:i<c,showRefresh:!this.state.fetchUserInfoLoading,children:Object(a.jsxs)("div",{className:y.a.mobileLayout,children:[this.state.fetchUserInfoLoading&&Object(a.jsx)("div",{className:y.a.loadingSpin,children:Object(a.jsx)(I.a,{type:"spinner",children:"\u52a0\u8f7d\u4e2d..."})}),!this.state.fetchUserInfoLoading&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{isOtherPerson:!0}),Object(a.jsx)(S.a,{platform:n,isOtherPerson:!0})]}),Object(a.jsxs)("div",{className:y.a.unit,children:[Object(a.jsxs)("div",{className:y.a.threadUnit,children:[Object(a.jsx)("div",{className:y.a.threadTitle,children:"\u4e3b\u9898"}),Object(a.jsxs)("div",{className:y.a.threadCount,children:[o,"\u4e2a\u4e3b\u9898"]})]}),Object(a.jsx)("div",{className:y.a.dividerContainer,children:Object(a.jsx)(w.a,{className:y.a.divider})}),Object(a.jsx)("div",{className:y.a.threadItemContainer,children:this.formatUserThreadsData(s)&&this.formatUserThreadsData(s).length>0&&Object(a.jsx)(D.a,{data:this.formatUserThreadsData(s)})})]})]})})}}]),r}(x.a.Component))||n)||n)||n;t.a=Object(L.withRouter)(M)}},[["91s+",1,0,3,5,4,6,2]]]);