_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"91s+":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my/others",function(){return r("SZdU")}])},QL3K:function(e,t,r){"use strict";r("ma9I"),r("E9XD"),r("tkto"),r("B6y2"),r("rB9j"),r("UxlC");var n,a=r("nKUr"),s=r("RIqP"),o=r.n(s),i=r("o0o1"),c=r.n(i),u=(r("ls82"),r("yXPU")),d=r.n(u),f=r("lwsE"),l=r.n(f),h=r("W8MJ"),p=r.n(h),g=r("7W2i"),U=r.n(g),v=r("a1gu"),b=r.n(v),j=r("Nsbk"),m=r.n(j),x=r("q1tI"),T=r.n(x),w=r("QV9d"),I=r("kMSe"),O=r("pN5v"),k=r("WNcC"),y=(r("z/8X"),r("wXCO")),P=r("20a2"),S=r("9XgB"),R=r("7KEy"),N=(r("Iygk"),r("b+pO"),r("B5JU")),D=r.n(N),L=r("Niza");r("VVxn");function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var C=Object(I.c)("site")(n=Object(I.c)("user")(n=Object(I.d)(n=function(e){U()(r,e);var t=B(r);function r(e){var n;return l()(this,r),(n=t.call(this,e)).targetUserId=null,n.fansPopupInstance=null,n.followsPopupInstance=null,n.componentDidMount=d()(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,r.id&&"undefined"!==r.id||D.a.replace({url:"/"}),String(a)!==r.id){e.next=6;break}return D.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!r.id){e.next=11;break}return n.targetUserId=r.id,e.next=10,n.props.user.getTargetUserInfo(r.id);case 10:n.setState({fetchUserInfoLoading:!1});case 11:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=d()(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,String(a)!==r.id){e.next=5;break}return D.a.replace({url:"/my"}),e.abrupt("return");case 5:if(String(n.targetUserId)!==String(r.id)){e.next=7;break}return e.abrupt("return");case 7:if(n.targetUserId=r.id,!r.id){e.next=18;break}return n.fansPopupInstance&&n.fansPopupInstance.closePopup(),n.followsPopupInstance&&n.followsPopupInstance.closePopup(),n.setState({fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0}),n.props.user.removeTargetUserInfo(),e.next=15,n.props.user.getTargetUserInfo(r.id);case 15:return n.setState({fetchUserInfoLoading:!1}),e.next=18,n.fetchTargetUserThreads();case 18:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.router.query).id){e.next=5;break}return e.next=4,n.props.user.getTargetUserThreads(t.id);case 4:n.setState({fetchUserThreadsLoading:!1});case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(o()(e),o()(t))}))},n.moreFans=function(){n.setState({showFansPopup:!0})},n.moreFollow=function(){n.setState({showFollowPopup:!0})},n.onSearch=function(e){n.props.router.replace("/search?keyword=".concat(e))},n.renderRight=function(){var e=n.props.router.query,t=null===e||void 0===e?void 0:e.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{userId:t,getRef:function(e){return n.fansPopupInstance=e}}),Object(a.jsx)(R.a,{userId:t,getRef:function(e){return n.followsPopupInstance=e}}),Object(a.jsx)(y.a,{})]})},n.renderContent=function(){var e,t=n.state.fetchUserThreadsLoading,r=n.props.user,s=r.targetUserThreads,o=r.targetUserThreadsTotalCount;r.targetUserThreadsPage,r.targetUserThreadsTotalPage;return Object(a.jsx)("div",{className:w.a.userContent,children:Object(a.jsx)(k.a,{title:"\u4e3b\u9898",type:"normal",bigSize:!0,isShowMore:!1,isLoading:t,leftNum:"".concat(o,"\u4e2a\u4e3b\u9898"),noData:!(null!==(e=n.formatUserThreadsData(s))&&void 0!==e&&e.length),mold:"plane",children:n.formatUserThreadsData(s)&&n.formatUserThreadsData(s).length>0&&Object(a.jsx)(L.a,{data:n.formatUserThreadsData(s)})})})},n.props.user.cleanTargetUserThreads(),n.state={showFansPopup:!1,showFollowPopup:!1,fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0},n}return p()(r,[{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e,t=this.state.fetchUserInfoLoading,r=this.props.user,n=r.targetUserThreadsPage,s=r.targetUserThreadsTotalPage,o=r.targetUserThreads;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(O.a,{isOtherPerson:!0,allowRefresh:!1,onRefresh:this.fetchTargetUserThreads,noMore:s<n,showRefresh:!1,onSearch:this.onSearch,right:this.renderRight,immediateCheck:!0,showLayoutRefresh:!(null===(e=this.formatUserThreadsData(o))||void 0===e||!e.length)&&!t,showHeaderLoading:t,children:this.renderContent()})})}}]),r}(T.a.Component))||n)||n)||n;t.a=Object(P.withRouter)(C)},SZdU:function(e,t,r){"use strict";r.r(t);var n,a=r("nKUr"),s=r("lwsE"),o=r.n(s),i=r("W8MJ"),c=r.n(i),u=r("7W2i"),d=r.n(u),f=r("a1gu"),l=r.n(f),h=r("Nsbk"),p=r.n(h),g=r("q1tI"),U=r("kMSe"),v=r("zrgt"),b=r("QL3K"),j=r("QcND");function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p()(e);if(t){var a=p()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l()(this,r)}}var x=Object(U.c)("site")(n=Object(U.d)(n=function(e){d()(r,e);var t=m(r);function r(){return o()(this,r),t.apply(this,arguments)}return c()(r,[{key:"render",value:function(){return"h5"===this.props.site.platform?Object(a.jsx)(v.a,{}):Object(a.jsx)(b.a,{})}}]),r}(g.Component))||n)||n;t.default=Object(j.a)(x)},zrgt:function(e,t,r){"use strict";r("ma9I"),r("E9XD"),r("tkto"),r("B6y2"),r("rB9j"),r("UxlC"),r("R5XZ");var n,a=r("nKUr"),s=r("RIqP"),o=r.n(s),i=r("o0o1"),c=r.n(i),u=(r("ls82"),r("yXPU")),d=r.n(u),f=r("lwsE"),l=r.n(f),h=r("W8MJ"),p=r.n(h),g=r("7W2i"),U=r.n(g),v=r("a1gu"),b=r.n(v),j=r("Nsbk"),m=r.n(j),x=r("q1tI"),T=r.n(x),w=r("/YC7"),I=r("x2xJ"),O=r.n(I),k=r("jqTq"),y=r.n(k),P=r("Jw8/"),S=r.n(P),R=r("GuWI"),N=r("QLYM"),D=r("kMSe"),L=(r("E+SJ"),r("JhUJ"),r("Niza")),B=r("INMq"),C=(r("HoAE"),r("20a2")),q=r("B5JU"),E=r.n(q),M=r("Tk/S");function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return b()(this,r)}}var J=Object(D.c)("site")(n=Object(D.c)("user")(n=Object(D.d)(n=function(e){U()(r,e);var t=W(r);function r(e){var n;return l()(this,r),(n=t.call(this,e)).targetUserId=null,n.componentDidMount=d()(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,r.id&&"undefined"!==r.id||E.a.replace({url:"/"}),String(a)!==r.id){e.next=6;break}return E.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!r.id){e.next=12;break}return e.next=9,n.props.user.getTargetUserInfo(r.id);case 9:n.setWeixinShare(),n.targetUserId=r.id,n.setState({fetchUserInfoLoading:!1});case 12:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=d()(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.props.router.query,a=null===(t=n.props.user)||void 0===t?void 0:t.id,r.id&&"undefined"!==r.id||E.a.replace({url:"/"}),String(a)!==r.id){e.next=6;break}return E.a.replace({url:"/my"}),e.abrupt("return");case 6:if(n.targetUserId){e.next=8;break}return e.abrupt("return");case 8:if(String(n.targetUserId)!==String(r.id)){e.next=10;break}return e.abrupt("return");case 10:if(n.targetUserId=r.id,!r.id){e.next=20;break}return n.setState({fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0}),n.props.user.removeTargetUserInfo(),e.next=16,n.props.user.getTargetUserInfo(r.id);case 16:return n.setWeixinShare(),n.setState({fetchUserInfoLoading:!1}),e.next=20,n.fetchTargetUserThreads();case 20:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.props.router.query).id){e.next=4;break}return e.next=4,n.props.user.getTargetUserThreads(t.id);case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(o()(e),o()(t))}))},n.handlePreviewBgImage=function(e){e&&e.stopPropagation(),n.setState({isPreviewBgVisible:!n.state.isPreviewBgVisible})},n.getBackgroundUrl=function(){var e,t,r=null;null!==(e=n.props.user)&&void 0!==e&&e.targetOriginalBackGroundUrl&&(r=null===(t=n.props.user)||void 0===t?void 0:t.targetOriginalBackGroundUrl);return r||!1},n.props.user.cleanTargetUserThreads(),n.state={fetchUserInfoLoading:!0,isPreviewBgVisible:!1},n}return p()(r,[{key:"setWeixinShare",value:function(){var e=this;setTimeout((function(){var t=e.props.user.targetUser;if(t){var r=t.nickname,n=t.avatarUrl,a=t.signature,s=t.id,o="".concat(r,"\u7684\u4e3b\u9875"),i=n,c=a?a.length>35?"".concat(a.substr(0,35),"..."):a:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",u="".concat(window.location.origin,"/user/").concat(s);Object(M.a)(o,c,u,i)}}),500)}},{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e=this.props,t=e.site,r=e.user,n=t.platform,s=r.targetUserThreads,o=r.targetUserThreadsTotalCount,i=r.targetUserThreadsPage,c=r.targetUserThreadsTotalPage;return Object(a.jsxs)(B.a,{showHeader:!0,showTabBar:!1,immediateCheck:!0,onRefresh:this.fetchTargetUserThreads,noMore:c<i,showRefresh:!this.state.fetchUserInfoLoading,children:[Object(a.jsxs)("div",{className:w.a.mobileLayout,children:[this.state.fetchUserInfoLoading&&Object(a.jsx)("div",{className:w.a.loadingSpin,children:Object(a.jsx)(y.a,{type:"spinner",children:"\u52a0\u8f7d\u4e2d..."})}),!this.state.fetchUserInfoLoading&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:this.handlePreviewBgImage,children:Object(a.jsx)(R.a,{isOtherPerson:!0})}),Object(a.jsx)(N.a,{platform:n,isOtherPerson:!0})]}),Object(a.jsxs)("div",{className:w.a.unit,children:[Object(a.jsxs)("div",{className:w.a.threadUnit,children:[Object(a.jsx)("div",{className:w.a.threadTitle,children:"\u4e3b\u9898"}),Object(a.jsxs)("div",{className:w.a.threadCount,children:[o,"\u4e2a\u4e3b\u9898"]})]}),Object(a.jsx)("div",{className:w.a.dividerContainer,children:Object(a.jsx)(O.a,{className:w.a.divider})}),Object(a.jsx)("div",{className:w.a.threadItemContainer,children:this.formatUserThreadsData(s)&&this.formatUserThreadsData(s).length>0&&Object(a.jsx)(L.a,{data:this.formatUserThreadsData(s)})})]})]}),this.getBackgroundUrl()&&this.state.isPreviewBgVisible&&Object(a.jsx)(S.a,{visible:this.state.isPreviewBgVisible,onClose:this.handlePreviewBgImage,imgUrls:[this.getBackgroundUrl()],currentUrl:this.getBackgroundUrl()})]})}}]),r}(T.a.Component))||n)||n)||n;t.a=Object(C.withRouter)(J)}},[["91s+",1,0,3,5,4,6,2]]]);