_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{"91s+":function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my/others",function(){return t("SZdU")}])},QL3K:function(e,r,t){"use strict";t("ma9I"),t("E9XD"),t("tkto"),t("B6y2"),t("rB9j"),t("UxlC");var n,a=t("nKUr"),s=t("RIqP"),o=t.n(s),i=t("o0o1"),c=t.n(i),u=(t("ls82"),t("yXPU")),d=t.n(u),h=t("lwsE"),f=t.n(h),l=t("W8MJ"),p=t.n(l),g=t("7W2i"),U=t.n(g),v=t("a1gu"),b=t.n(v),j=t("Nsbk"),m=t.n(j),T=t("q1tI"),x=t.n(T),w=t("QV9d"),O=t("kMSe"),y=t("pN5v"),k=t("WNcC"),I=(t("z/8X"),t("wXCO")),S=t("20a2"),P=t("9XgB"),R=t("7KEy"),N=(t("Iygk"),t("b+pO"),t("B5JU")),D=t.n(N),L=t("Niza");t("VVxn");function B(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=m()(e);if(r){var a=m()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return b()(this,t)}}var C=Object(O.c)("site")(n=Object(O.c)("user")(n=Object(O.d)(n=function(e){U()(t,e);var r=B(t);function t(e){var n;return f()(this,t),(n=r.call(this,e)).targetUserId=null,n.componentDidMount=d()(c.a.mark((function e(){var r,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.router.query,a=null===(r=n.props.user)||void 0===r?void 0:r.id,t.id&&"undefined"!==t.id||D.a.replace({url:"/"}),String(a)!==t.id){e.next=6;break}return D.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!t.id){e.next=11;break}return n.targetUserId=t.id,e.next=10,n.props.user.getTargetUserInfo(t.id);case 10:n.setState({fetchUserInfoLoading:!1});case 11:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=d()(c.a.mark((function e(){var r,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.router.query,a=null===(r=n.props.user)||void 0===r?void 0:r.id,String(a)!==t.id){e.next=5;break}return D.a.replace({url:"/my"}),e.abrupt("return");case 5:if(String(n.targetUserId)!==String(t.id)){e.next=7;break}return e.abrupt("return");case 7:if(n.targetUserId=t.id,!t.id){e.next=16;break}return n.setState({fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0}),n.props.user.removeTargetUserInfo(),e.next=13,n.props.user.getTargetUserInfo(t.id);case 13:return n.setState({fetchUserInfoLoading:!1}),e.next=16,n.fetchTargetUserThreads();case 16:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.props.router.query).id){e.next=5;break}return e.next=4,n.props.user.getTargetUserThreads(r.id);case 4:n.setState({fetchUserThreadsLoading:!1});case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,r){return[].concat(o()(e),o()(r))}))},n.moreFans=function(){n.setState({showFansPopup:!0})},n.moreFollow=function(){n.setState({showFollowPopup:!0})},n.onSearch=function(e){n.props.router.replace("/search?keyword=".concat(e))},n.renderRight=function(){var e=n.props.router.query,r=null===e||void 0===e?void 0:e.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.a,{userId:r}),Object(a.jsx)(R.a,{userId:r}),Object(a.jsx)(I.a,{})]})},n.renderContent=function(){var e,r=n.state.fetchUserThreadsLoading,t=n.props.user,s=t.targetUserThreads,o=t.targetUserThreadsTotalCount;t.targetUserThreadsPage,t.targetUserThreadsTotalPage;return Object(a.jsx)("div",{className:w.a.userContent,children:Object(a.jsx)(k.a,{title:"\u4e3b\u9898",type:"normal",bigSize:!0,isShowMore:!1,isLoading:r,leftNum:"".concat(o,"\u4e2a\u4e3b\u9898"),noData:!(null!==(e=n.formatUserThreadsData(s))&&void 0!==e&&e.length),mold:"plane",children:n.formatUserThreadsData(s)&&n.formatUserThreadsData(s).length>0&&Object(a.jsx)(L.a,{data:n.formatUserThreadsData(s)})})})},n.props.user.cleanTargetUserThreads(),n.state={showFansPopup:!1,showFollowPopup:!1,fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0},n}return p()(t,[{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e,r=this.state.fetchUserInfoLoading,t=this.props.user,n=t.targetUserThreadsPage,s=t.targetUserThreadsTotalPage,o=t.targetUserThreads;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(y.a,{isOtherPerson:!0,allowRefresh:!1,onRefresh:this.fetchTargetUserThreads,noMore:s<n,showRefresh:!1,onSearch:this.onSearch,right:this.renderRight,immediateCheck:!0,showLayoutRefresh:!(null===(e=this.formatUserThreadsData(o))||void 0===e||!e.length)&&!r,showHeaderLoading:r,children:this.renderContent()})})}}]),t}(x.a.Component))||n)||n)||n;r.a=Object(S.withRouter)(C)},SZdU:function(e,r,t){"use strict";t.r(r);var n,a=t("nKUr"),s=t("lwsE"),o=t.n(s),i=t("W8MJ"),c=t.n(i),u=t("7W2i"),d=t.n(u),h=t("a1gu"),f=t.n(h),l=t("Nsbk"),p=t.n(l),g=t("q1tI"),U=t("kMSe"),v=t("zrgt"),b=t("QL3K"),j=t("QcND");function m(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=p()(e);if(r){var a=p()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return f()(this,t)}}var T=Object(U.c)("site")(n=Object(U.d)(n=function(e){d()(t,e);var r=m(t);function t(){return o()(this,t),r.apply(this,arguments)}return c()(t,[{key:"render",value:function(){return"h5"===this.props.site.platform?Object(a.jsx)(v.a,{}):Object(a.jsx)(b.a,{})}}]),t}(g.Component))||n)||n;r.default=Object(j.a)(T)},zrgt:function(e,r,t){"use strict";t("ma9I"),t("E9XD"),t("tkto"),t("B6y2"),t("rB9j"),t("UxlC");var n,a=t("nKUr"),s=t("RIqP"),o=t.n(s),i=t("o0o1"),c=t.n(i),u=(t("ls82"),t("yXPU")),d=t.n(u),h=t("lwsE"),f=t.n(h),l=t("W8MJ"),p=t.n(l),g=t("7W2i"),U=t.n(g),v=t("a1gu"),b=t.n(v),j=t("Nsbk"),m=t.n(j),T=t("q1tI"),x=t.n(T),w=t("/YC7"),O=t("x2xJ"),y=t.n(O),k=t("jqTq"),I=t.n(k),S=t("Jw8/"),P=t.n(S),R=t("GuWI"),N=t("QLYM"),D=t("kMSe"),L=(t("E+SJ"),t("JhUJ"),t("Niza")),B=t("INMq"),C=(t("HoAE"),t("20a2")),q=t("B5JU"),E=t.n(q);function M(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=m()(e);if(r){var a=m()(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return b()(this,t)}}var J=Object(D.c)("site")(n=Object(D.c)("user")(n=Object(D.d)(n=function(e){U()(t,e);var r=M(t);function t(e){var n;return f()(this,t),(n=r.call(this,e)).targetUserId=null,n.componentDidMount=d()(c.a.mark((function e(){var r,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.router.query,a=null===(r=n.props.user)||void 0===r?void 0:r.id,t.id&&"undefined"!==t.id||E.a.replace({url:"/"}),String(a)!==t.id){e.next=6;break}return E.a.replace({url:"/my"}),e.abrupt("return");case 6:if(!t.id){e.next=11;break}return e.next=9,n.props.user.getTargetUserInfo(t.id);case 9:n.targetUserId=t.id,n.setState({fetchUserInfoLoading:!1});case 11:case"end":return e.stop()}}),e)}))),n.componentDidUpdate=d()(c.a.mark((function e(){var r,t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.router.query,a=null===(r=n.props.user)||void 0===r?void 0:r.id,t.id&&"undefined"!==t.id||E.a.replace({url:"/"}),String(a)!==t.id){e.next=6;break}return E.a.replace({url:"/my"}),e.abrupt("return");case 6:if(String(n.targetUserId)!==String(t.id)){e.next=8;break}return e.abrupt("return");case 8:if(n.targetUserId=t.id,!t.id){e.next=17;break}return n.setState({fetchUserInfoLoading:!0,fetchUserThreadsLoading:!0}),n.props.user.removeTargetUserInfo(),e.next=14,n.props.user.getTargetUserInfo(t.id);case 14:return n.setState({fetchUserInfoLoading:!1}),e.next=17,n.fetchTargetUserThreads();case 17:case"end":return e.stop()}}),e)}))),n.fetchTargetUserThreads=d()(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.props.router.query).id){e.next=4;break}return e.next=4,n.props.user.getTargetUserThreads(r.id);case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)}))),n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,r){return[].concat(o()(e),o()(r))}))},n.handlePreviewBgImage=function(e){e&&e.stopPropagation(),n.setState({isPreviewBgVisible:!n.state.isPreviewBgVisible})},n.getBackgroundUrl=function(){var e,r,t=null;null!==(e=n.props.user)&&void 0!==e&&e.targetOriginalBackGroundUrl&&(t=null===(r=n.props.user)||void 0===r?void 0:r.targetOriginalBackGroundUrl);return t||!1},n.props.user.cleanTargetUserThreads(),n.state={fetchUserInfoLoading:!0,isPreviewBgVisible:!1},n}return p()(t,[{key:"componentWillUnmount",value:function(){this.props.user.removeTargetUserInfo()}},{key:"render",value:function(){var e=this.props,r=e.site,t=e.user,n=r.platform,s=t.targetUserThreads,o=t.targetUserThreadsTotalCount,i=t.targetUserThreadsPage,c=t.targetUserThreadsTotalPage;return Object(a.jsxs)(B.a,{showHeader:!0,showTabBar:!1,immediateCheck:!0,onRefresh:this.fetchTargetUserThreads,noMore:c<i,showRefresh:!this.state.fetchUserInfoLoading,children:[Object(a.jsxs)("div",{className:w.a.mobileLayout,children:[this.state.fetchUserInfoLoading&&Object(a.jsx)("div",{className:w.a.loadingSpin,children:Object(a.jsx)(I.a,{type:"spinner",children:"\u52a0\u8f7d\u4e2d..."})}),!this.state.fetchUserInfoLoading&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{onClick:this.handlePreviewBgImage,children:Object(a.jsx)(R.a,{isOtherPerson:!0})}),Object(a.jsx)(N.a,{platform:n,isOtherPerson:!0})]}),Object(a.jsxs)("div",{className:w.a.unit,children:[Object(a.jsxs)("div",{className:w.a.threadUnit,children:[Object(a.jsx)("div",{className:w.a.threadTitle,children:"\u4e3b\u9898"}),Object(a.jsxs)("div",{className:w.a.threadCount,children:[o,"\u4e2a\u4e3b\u9898"]})]}),Object(a.jsx)("div",{className:w.a.dividerContainer,children:Object(a.jsx)(y.a,{className:w.a.divider})}),Object(a.jsx)("div",{className:w.a.threadItemContainer,children:this.formatUserThreadsData(s)&&this.formatUserThreadsData(s).length>0&&Object(a.jsx)(L.a,{data:this.formatUserThreadsData(s)})})]})]}),this.getBackgroundUrl()&&this.state.isPreviewBgVisible&&Object(a.jsx)(P.a,{visible:this.state.isPreviewBgVisible,onClose:this.handlePreviewBgImage,imgUrls:[this.getBackgroundUrl()],currentUrl:this.getBackgroundUrl()})]})}}]),t}(x.a.Component))||n)||n)||n;r.a=Object(C.withRouter)(J)}},[["91s+",1,0,3,5,4,6,2]]]);