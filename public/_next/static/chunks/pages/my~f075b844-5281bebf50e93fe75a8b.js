_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[39],{"/0+H":function(e,t,r){"use strict";t.__esModule=!0,t.isInAmpMode=o,t.useAmp=function(){return o(s.default.useContext(a.AmpStateContext))};var n,s=(n=r("q1tI"))&&n.__esModule?n:{default:n},a=r("lwAK");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,r=void 0!==t&&t,n=e.hybrid,s=void 0!==n&&n,a=e.hasQuery,o=void 0!==a&&a;return r||s&&o}},"4Brf":function(e,t,r){"use strict";var n=r("I+eb"),s=r("g6v/"),a=r("2oRo"),o=r("UTVS"),c=r("hh1v"),i=r("m/L8").f,u=r("6JNq"),l=a.Symbol;if(s&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(f,l);var p=f.prototype=l.prototype;p.constructor=f;var h=p.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;i(p,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=h.call(e);if(o(d,e))return"";var r=v?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},"4xcg":function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("ma9I");var n,s=r("nKUr"),a=r("lwsE"),o=r.n(a),c=r("W8MJ"),i=r.n(c),u=r("7W2i"),l=r.n(u),d=r("a1gu"),f=r.n(d),p=r("Nsbk"),h=r.n(p),v=r("q1tI"),m=r.n(v),j=r("kMSe"),b=r("+3IH"),y=r("g4pe"),O=r.n(y),g=(r("yXV3"),r("rB9j"),function(e,t,r,n){var s=x(e+t),a=[],o=[];if(r||!C(s,a)){r&&document.getElementById(s)&&document.getElementById(s).parentNode.removeChild(document.getElementById(s)),a.push(s);var c=document.createElement("script");c.type="text/javascript",c.id=s;try{e?(c.src=e,c.onloadDone=!1,c.onload=function(){c.onloadDone=!0,o[e]=1},c.onreadystatechange=function(){"loaded"!==c.readyState&&"complete"!==c.readyState||c.onloadDone||(c.onloadDone=!0,o[e]=1)}):t&&(c.text=t),document.getElementsByTagName("head")[0].appendChild(c)}catch(i){console.log(i)}}}),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=0,n=0,s="",a="";for(a=t-e.length%t,n=0;n<a;n+=1)e+="0";for(;r<e.length;)s=w(s,e.substr(r,t)),r+=t;return s},w=function(e,t){for(var r="",n=Math.max(e.length,t.length),s=0;s<n;s++){var a=e.charCodeAt(s)^t.charCodeAt(s);r+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(a%52)}return r},C=function(e,t){if("string"===typeof e||"number"===typeof e)for(var r in t)if(t[r]===e)return!0;return!1};function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var N=Object(j.c)("site")(n=Object(j.d)(n=function(e){l()(r,e);var t=k(r);function r(e){return o()(this,r),t.call(this,e)}return i()(r,[{key:"componentDidMount",value:function(){var e,t,r;!function(e){if(-1===e.indexOf("<script"))return e;for(var t=/<script[^\>]*?>([^\x00]*?)<\/script>/gi,r=[];r=t.exec(e);){var n=/<script[^\>]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\/script>/i,s=[];(s=n.exec(r[0]))?g(s[1],"",s[2],s[3]):(s=(n=/<script(.*?)>([^\x00]+?)<\/script>/i).exec(r[0]),g("",s[2],-1!==s[1].indexOf("reload=")))}}((null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(r=t.setSite)||void 0===r?void 0:r.siteStat)||"")}},{key:"formatTitle",value:function(){var e=this.props,t=e.site,r=e.title,n=e.showSiteName,s=void 0===n||n,a=Object(b.a)(t,"webConfig.setSite.siteName","\u6b22\u8fce\u60a8");return r&&""!==r&&(a="".concat(r).concat(s?" - ".concat(a):"")),a}},{key:"formatKeywords",value:function(){var e=this.props,t=e.site,r=e.keywords,n=Object(b.a)(t,"webConfig.setSite.siteKeywords","\u6b22\u8fce\u60a8");return r&&""!==r&&(n="".concat(r," - ").concat(n)),n}},{key:"formatDescription",value:function(){var e=this.props,t=e.site,r=e.description,n=Object(b.a)(t,"webConfig.setSite.siteIntroduction","\u6b22\u8fce\u60a8");return r&&""!==r&&(n=r),n}},{key:"render",value:function(){var e,t,r,n=(null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(r=t.setSite)||void 0===r?void 0:r.siteFavicon)||"";return Object(s.jsxs)(O.a,{children:[Object(s.jsx)("meta",{name:"keywords",content:this.formatKeywords()}),Object(s.jsx)("meta",{name:"description",content:this.formatDescription()}),n&&Object(s.jsx)("link",{rel:"icon",href:n}),Object(s.jsx)("title",{children:this.formatTitle()})]})}}]),r}(m.a.Component))||n)||n;t.a=N},"5Tg+":function(e,t,r){var n=r("tiKp");t.f=n},"8Kt/":function(e,t,r){"use strict";r("lSNA");t.__esModule=!0,t.defaultHead=l,t.default=void 0;var n,s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=n?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}r.default=e,t&&t.set(e,r);return r}(r("q1tI")),a=(n=r("Xuae"))&&n.__esModule?n:{default:n},o=r("lwAK"),c=r("FYa8"),i=r("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[s.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(s.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function d(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var f=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var r=s.default.Children.toArray(t.props.children);return e.concat(r)}),[]).reduce(d,[]).reverse().concat(l(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,r=new Set,n={};return function(s){var a=!0,o=!1;if(s.key&&"number"!==typeof s.key&&s.key.indexOf("$")>0){o=!0;var c=s.key.slice(s.key.indexOf("$")+1);e.has(c)?a=!1:e.add(c)}switch(s.type){case"title":case"base":t.has(s.type)?a=!1:t.add(s.type);break;case"meta":for(var i=0,u=f.length;i<u;i++){var l=f[i];if(s.props.hasOwnProperty(l))if("charSet"===l)r.has(l)?a=!1:r.add(l);else{var d=s.props[l],p=n[l]||new Set;"name"===l&&o||!p.has(d)?(p.add(d),n[l]=p):a=!1}}}return a}}()).reverse().map((function(e,t){var r=e.key||t;return s.default.cloneElement(e,{key:r})}))}function h(e){var t=e.children,r=(0,s.useContext)(o.AmpStateContext),n=(0,s.useContext)(c.HeadManagerContext);return s.default.createElement(a.default,{reduceComponentsToState:p,headManager:n,inAmpMode:(0,i.isInAmpMode)(r)},t)}h.rewind=function(){};var v=h;t.default=v},ARGO:function(e,t,r){"use strict";r.r(t);r("ma9I"),r("rB9j"),r("UxlC");var n,s=r("nKUr"),a=r("lwsE"),o=r.n(a),c=r("W8MJ"),i=r.n(c),u=r("7W2i"),l=r.n(u),d=r("a1gu"),f=r.n(d),p=r("Nsbk"),h=r.n(p),v=r("q1tI"),m=r.n(v),j=r("QcND"),b=r("zZWi"),y=r("kMSe"),O=(r("E9XD"),r("tkto"),r("07d7"),r("B6y2"),r("5s+n"),r("RIqP")),g=r.n(O),x=r("o0o1"),w=r.n(x),C=(r("ls82"),r("yXPU")),k=r.n(C),N=r("2rmp"),I=r("x2xJ"),S=r.n(I),P=r("wdT/"),M=r.n(P),A=r("Jw8/"),R=r.n(A),T=r("GuWI"),D=r("QLYM"),U=r("E+SJ"),B=r("JhUJ"),E=r("Niza"),_=r("INMq"),L=r("20a2");function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var z,J=Object(y.c)("site")(n=Object(y.c)("user")(n=Object(y.d)(n=function(e){l()(r,e);var t=W(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).fetchUserThreads=k()(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.user.getUserThreads();case 3:t=e.sent,n.props.user.setUserThreads(t),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),r="\u52a0\u8f7d\u7528\u6237\u5217\u8868\u5931\u8d25",e.t0.Code&&0!==e.t0.Code&&(r=e.t0.Msg),M.a.error({content:r,duration:2e3,hasMask:!1});case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onRefresh=k()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.isLoading){e.next=5;break}return e.next=4,n.fetchUserThreads();case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}}),e)}))),n.fetchUserThreads=k()(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.user.getUserThreads();case 3:t=e.sent,n.unMount||n.props.user.setUserThreads(t),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),r="\u52a0\u8f7d\u7528\u6237\u5217\u8868\u5931\u8d25",e.t0.Code&&0!==e.t0.Code&&(r=e.t0.Msg),M.a.error({content:r,duration:2e3,hasMask:!1});case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.beforeRouterChange=function(e){"/my"!==e&&(/thread\//.test(e)||n.props.user.clearUserThreadsInfo())},n.componentDidMount=k()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.router.events.on("routeChangeStart",n.beforeRouterChange),!n.props.user.id){e.next=18;break}return e.next=4,n.props.user.updateUserInfo(n.props.user.id);case 4:if(e.prev=4,n.props.user.userThreads[1]){e.next=11;break}return n.props.user.userThreadsPage=1,n.props.user.userThreadsTotalCount=0,n.props.user.userThreadsTotalPage=1,e.next=11,n.fetchUserThreads();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0),e.t0.Code&&M.a.error({content:e.t0.Msg||"\u83b7\u53d6\u7528\u6237\u4e3b\u9898\u5217\u8868\u5931\u8d25",duration:2e3});case 17:n.setState({isLoading:!1});case 18:case"end":return e.stop()}}),e,null,[[4,13]])}))),n.componentWillUnmount=function(){n.unMount=!0,n.props.router.events.off("routeChangeStart",n.beforeRouterChange)},n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(g()(e),g()(t))}))},n.handlePreviewBgImage=function(e){e&&e.stopPropagation(),n.setState({isPreviewBgVisible:!n.state.isPreviewBgVisible})},n.getBackgroundUrl=function(){var e,t,r=null;n.props.isOtherPerson?null!==(e=n.props.user)&&void 0!==e&&e.targetOriginalBackGroundUrl&&(r=n.props.user.targetOriginalBackGroundUrl):r=null===(t=n.props.user)||void 0===t?void 0:t.originalBackGroundUrl;return r||!1},n.isUnmount=!1,n.state={isLoading:!0,isPreviewBgVisible:!1},n}return i()(r,[{key:"render",value:function(){var e=this.state.isLoading,t=this.props,r=t.site,n=t.user,a=r.platform,o=n.userThreads,c=n.userThreadsTotalCount,i=n.userThreadsPage,u=n.userThreadsTotalPage,l=this.formatUserThreadsData(o);return Object(s.jsxs)(_.a,{curr:"my",pageName:"my",showHeader:!1,showTabBar:!0,onRefresh:this.onRefresh,noMore:!e&&i>=u,immediateCheck:!0,children:[Object(s.jsxs)("div",{className:N.a.mobileLayout,children:[Object(s.jsx)("div",{onClick:this.handlePreviewBgImage,children:Object(s.jsx)(T.a,{})}),Object(s.jsx)(D.a,{platform:a}),Object(s.jsx)("div",{className:N.a.unit,children:Object(s.jsx)(B.a,{})}),Object(s.jsx)("div",{className:N.a.unit,children:Object(s.jsx)(U.a,{})}),Object(s.jsxs)("div",{className:N.a.unit,children:[Object(s.jsxs)("div",{className:N.a.threadUnit,children:[Object(s.jsx)("div",{className:N.a.threadTitle,children:"\u4e3b\u9898"}),Object(s.jsxs)("div",{className:N.a.threadCount,children:[c,"\u4e2a\u4e3b\u9898"]})]}),Object(s.jsx)("div",{className:N.a.dividerContainer,children:Object(s.jsx)(S.a,{className:N.a.divider})}),Object(s.jsx)("div",{className:N.a.threadItemContainer,children:(null===l||void 0===l?void 0:l.length)>0&&Object(s.jsx)(E.a,{data:l})})]})]}),this.getBackgroundUrl()&&this.state.isPreviewBgVisible&&Object(s.jsx)(R.a,{visible:this.state.isPreviewBgVisible,onClose:this.handlePreviewBgImage,imgUrls:[this.getBackgroundUrl()],currentUrl:this.getBackgroundUrl()})]})}}]),r}(m.a.Component))||n)||n)||n,F=Object(L.withRouter)(J),H=(r("2B1R"),r("RygP")),K=r("bK+J"),V=r("2FFH"),q=r("DetZ"),X=r.n(q),G=r("MCNy"),Q=r.n(G),Y=r("bAjH"),Z=r("uPFr"),$=r("B5JU"),ee=r.n($),te=r("Bvw4");function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var ne=Object(y.c)("user")(z=Object(y.d)(z=function(e){l()(r,e);var t=re(r);function r(){return o()(this,r),t.apply(this,arguments)}return i()(r,[{key:"render",value:function(){var e=this.props.user;return Object(s.jsxs)("div",{className:V.a.userCenterPost,onClick:function(){ee.a.push({url:"/thread/post"})},children:[Object(s.jsx)("div",{className:V.a.userCenterPostTitle,children:"\u53d1\u5e16"}),Object(s.jsxs)("div",{className:V.a.userCenterPostContent,children:[Object(s.jsx)("div",{className:V.a.userCenterPostAvatar,children:Object(s.jsx)(te.a,{image:e.avatarUrl,name:e.nickname,circle:!0})}),Object(s.jsxs)("div",{style:{width:"100%"},children:[Object(s.jsx)("div",{className:V.a.userCenterPostInfo,children:Object(s.jsx)("div",{className:V.a.userCenterPostInput,children:Object(s.jsx)(X.a,{style:{width:"100%",cursor:"pointer"},className:V.a.postInput,disabled:!0,placeholder:"\u5206\u4eab\u65b0\u9c9c\u4e8b"})})}),Object(s.jsxs)("div",{className:V.a.userCenterPostList,children:[this.props.user.threadExtendPermissions[Z.h.image]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"PictureOutlinedBig"})}),this.props.user.threadExtendPermissions[Z.h.video]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"VideoOutlined"})}),this.props.user.threadExtendPermissions[Z.h.voice]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"MicroOutlined"})}),this.props.user.threadExtendPermissions[Z.h.goods]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"ShoppingCartOutlined"})}),this.props.user.threadExtendPermissions[Z.h.reward]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"QuestionOutlined"})}),this.props.user.threadExtendPermissions[Y.c.attach]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"PaperClipOutlined"})}),this.props.user.threadExtendPermissions[Y.c.redpacket]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"RedPacketOutlined"})}),this.props.user.threadExtendPermissions[Y.c.pay]&&Object(s.jsx)("div",{className:V.a.userCenterPostListItem,children:Object(s.jsx)(Q.a,{color:"#8590A6",size:20,name:"GoldCoinOutlined"})})]})]})]})]})}}]),r}(m.a.Component))||z)||z;ne.displayName="UserCenterPost";var se,ae=ne,oe=r("Bqkf"),ce=r("cZ5D");function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var ue,le=Object(y.c)("user")(se=Object(y.c)("message")(se=Object(y.d)(se=function(e){l()(r,e);var t=ie(r);function r(){var e;o()(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleMyMessage=function(){ee.a.push({url:"/message"})},e.handleMyWallet=function(){ee.a.push({url:"/wallet"})},e.handleMySiteInfo=function(){ee.a.push({url:"/forum"})},e.handleMyInvite=function(){ee.a.push({url:"/invite"})},e.handleMyBan=function(){ee.a.push({url:"/my/block"})},e.handleMyBuy=function(){ee.a.push({url:"/my/buy"})},e.handleMyDraft=function(){ee.a.push({url:"/my/draft"})},e.handleMyCollect=function(){ee.a.push({url:"/my/collect"})},e.handleMyLike=function(){ee.a.push({url:"/my/like"})},e}return i()(r,[{key:"render",value:function(){var e=this.props.message.totalUnread;return Object(s.jsxs)("div",{className:"".concat(oe.a.userCenterAction," ").concat(this.props.user.isAdmini&&oe.a.userCenterColumnStyle),children:[Object(s.jsxs)("div",{onClick:this.handleMyMessage,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)("div",{className:oe.a.userMessage,children:Object(s.jsx)(ce.a,{unreadCount:e,children:Object(s.jsx)(Q.a,{name:"MailOutlined",size:20})})})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u6d88\u606f"})]}),Object(s.jsxs)("div",{onClick:this.handleMyWallet,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"PayOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u94b1\u5305"})]}),Object(s.jsxs)("div",{onClick:this.handleMyCollect,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"CollectOutlinedBig",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u6536\u85cf"})]}),Object(s.jsxs)("div",{onClick:this.handleMyLike,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"LikeOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u70b9\u8d5e"})]}),Object(s.jsxs)("div",{onClick:this.handleMyBan,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"ShieldOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u5c4f\u853d"})]}),Object(s.jsxs)("div",{onClick:this.handleMyBuy,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"ShoppingCartOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u8d2d\u4e70"})]}),Object(s.jsxs)("div",{onClick:this.handleMyDraft,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"RetrieveOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u6211\u7684\u8349\u7a3f\u7bb1"})]}),Object(s.jsxs)("div",{onClick:this.handleMySiteInfo,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"NotepadOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u7ad9\u70b9\u4fe1\u606f"})]}),!this.props.user.isAdmini&&Object(s.jsxs)("div",{onClick:this.handleMyInvite,className:oe.a.userCenterActionItem,children:[Object(s.jsx)("div",{className:oe.a.userCenterActionItemIcon,children:Object(s.jsx)(Q.a,{name:"NotbookOutlined",size:20})}),Object(s.jsx)("div",{className:oe.a.userCenterActionItemDesc,children:"\u63a8\u5e7f\u9080\u8bf7"})]})]})}}]),r}(m.a.Component))||se)||se)||se,de=r("pN5v"),fe=r("WNcC"),pe=r("wXCO"),he=(r("VVxn"),r("b+pO"),r("HoAE"),r("9XgB")),ve=r("7KEy"),me=r("z/8X");r("Xc7j");function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var be,ye=Object(y.c)("site")(ue=Object(y.c)("user")(ue=Object(y.d)(ue=function(e){l()(r,e);var t=je(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).fetchUserThreads=k()(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.user.getUserThreads();case 3:t=e.sent,n.unMount||n.props.user.setUserThreads(t),e.next=13;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),r="\u52a0\u8f7d\u7528\u6237\u5217\u8868\u5931\u8d25",e.t0.Code&&0!==e.t0.Code&&(r=e.t0.Msg),M.a.error({content:r,duration:2e3,hasMask:!1});case 13:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.componentWillUnmount=function(){n.unMount=!0,n.props.user.clearUserThreadsInfo()},n.moreFans=function(){n.setState({showFansPopup:!0})},n.moreFollow=function(){n.setState({showFollowPopup:!0})},n.onSearch=function(e){n.props.router.replace("/search?keyword=".concat(e))},n.onContainerClick=function(e){var t=e.id;ee.a.push({url:"/user/".concat(t)})},n.formatUserThreadsData=function(e){return 0===Object.keys(e).length?[]:Object.values(e).reduce((function(e,t){return[].concat(g()(e),g()(t))}))},n.renderRight=function(){var e,t="none"!==n.props.site.wechatEnv&&!!n.props.user.wxNickname;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(fe.a,{platform:"h5",type:"normal",title:"\u4e2a\u4eba\u8d44\u6599",isShowMore:!0,noData:!1,moreText:"\u7f16\u8f91\u8d44\u6599",onShowMore:function(){ee.a.push({url:"/my/edit"})},className:"".concat(H.a.borderRadius),children:[(null===(e=n.props.site)||void 0===e?void 0:e.isSmsOpen)&&Object(s.jsxs)("div",{className:H.a.userInfoWrapper,children:[Object(s.jsx)("div",{className:H.a.userInfoKey,children:"\u624b\u673a\u53f7\u7801"}),Object(s.jsx)("div",{className:H.a.userInfoValue,children:n.props.user.mobile||"\u672a\u7ed1\u5b9a"})]}),t&&Object(s.jsxs)("div",{className:H.a.userInfoWrapper,children:[Object(s.jsx)("div",{className:H.a.userInfoKey,children:"\u5fae\u4fe1"}),Object(s.jsxs)("div",{className:"".concat(H.a.userInfoValue," ").concat(H.a.wxContent),children:[Object(s.jsx)(te.a,{size:"small",image:n.props.user.wxHeadImgUrl,name:n.props.user.wxNickname}),Object(s.jsx)("span",{className:H.a.wecahtNickname,children:n.props.user.wxNickname})]})]}),Object(s.jsxs)("div",{className:H.a.userInfoWrapper,children:[Object(s.jsx)("div",{className:H.a.userInfoKey,children:"\u7b7e\u540d"}),Object(s.jsx)("div",{className:H.a.userInfoValue,children:n.props.user.signature||"\u8fd9\u4e2a\u4eba\u5f88\u61d2\uff0c\u4ec0\u4e48\u4e5f\u6ca1\u7559\u4e0b~"})]})]}),Object(s.jsx)(he.a,{userId:n.props.user.id}),Object(s.jsx)(ve.a,{userId:n.props.user.id}),Object(s.jsx)(pe.a,{})]})},n.renderContent=function(){var e=n.state.isLoading,t=n.props.user,r=t.userThreads,a=t.userThreadsTotalCount,o=n.formatUserThreadsData(r),c=!0;return void 0!==a&&null!==a||(c=!1),Object(s.jsxs)("div",{className:H.a.userContent,children:[Object(s.jsx)("div",{className:H.a.section,children:Object(s.jsx)(ae,{})}),Object(s.jsx)("div",{className:H.a.section,children:Object(s.jsx)(le,{})}),Object(s.jsx)(fe.a,{title:"\u4e3b\u9898",type:"normal",isShowMore:!1,noData:!(null!==o&&void 0!==o&&o.length),isLoading:e,leftNum:c?"".concat(a,"\u4e2a\u4e3b\u9898"):"",mold:"plane",children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(s.jsx)(me.a,{data:e,className:0===t&&H.a.threadStyle},"".concat(e.threadId,"-").concat(e.updatedAt))}))})]})},n.isUnmount=!1,n.state={showFansPopup:!1,showFollowPopup:!1,isLoading:!0},n}return i()(r,[{key:"componentDidMount",value:function(){var e=k()(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.user.updateUserInfo(this.props.user.id);case 2:return e.next=4,this.fetchUserThreads();case 4:this.setState({isLoading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loginOut",value:function(){Object(K.a)(),window.location.replace("/")}},{key:"render",value:function(){var e,t=this.state.isLoading,r=this.props.user,n=r.userThreadsPage,a=r.userThreadsTotalPage,o=(r.getUserThreads,r.userThreads),c=this.formatUserThreadsData(o),i=!(null!==(e=this.props.user)&&void 0!==e&&e.username),u=n;return a>1&&(u-=1),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(de.a,{showRefresh:!1,onSearch:this.onSearch,right:this.renderRight,immediateCheck:!1,noMore:a<=u,onRefresh:this.fetchUserThreads,showLayoutRefresh:!t&&!(null===c||void 0===c||!c.length),showHeaderLoading:i,children:this.renderContent()})})}}]),r}(m.a.Component))||ue)||ue)||ue,Oe=r("J0pL");function ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var xe=Object(y.c)("site")(be=Object(y.d)(be=function(e){l()(r,e);var t=ge(r);function r(){var e;o()(this,r);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).logout=function(){Object(K.a)(),window.location.replace("/")},e}return i()(r,[{key:"render",value:function(){return Object(s.jsx)(Oe.a,{h5:Object(s.jsx)(F,{}),pc:Object(s.jsx)(ye,{}),title:"\u4e2a\u4eba\u4e2d\u5fc3"})}}]),r}(m.a.Component))||be)||be;t.default=Object(j.a)(Object(b.a)(xe))},AT0X:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my",function(){return r("ARGO")}])},"BX/b":function(e,t,r){var n=r("/GqU"),s=r("JBy8").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return s(e)}catch(t){return o.slice()}}(e):s(n(e))}},FYa8:function(e,t,r){"use strict";var n;t.__esModule=!0,t.HeadManagerContext=void 0;var s=((n=r("q1tI"))&&n.__esModule?n:{default:n}).default.createContext({});t.HeadManagerContext=s},J0pL:function(e,t,r){"use strict";r("pNMO"),r("4Brf");var n,s=r("nKUr"),a=r("lwsE"),o=r.n(a),c=r("W8MJ"),i=r.n(c),u=r("7W2i"),l=r.n(u),d=r("a1gu"),f=r.n(d),p=r("Nsbk"),h=r.n(p),v=r("q1tI"),m=r.n(v),j=r("kMSe"),b=r("4xcg");function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h()(e);if(t){var s=h()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return f()(this,r)}}var O=Object(j.c)("site")(n=Object(j.c)("search")(n=Object(j.d)(n=function(e){l()(r,e);var t=y(r);function r(){return o()(this,r),t.apply(this,arguments)}return i()(r,[{key:"renderView",value:function(){var e=this.props,t=e.pc,r=e.h5,n=e.title,a=void 0===n?"":n,o=e.keywords,c=void 0===o?"":o,i=e.description,u=void 0===i?"":i,l=e.showSiteName,d=void 0===l||l,f="pc"===this.props.site.platform?t||null:r||null;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(b.a,{title:a,keywords:c,description:u,showSiteName:d}),f]})}},{key:"render",value:function(){return this.renderView()}}]),r}(m.a.Component))||n)||n)||n;t.a=O},Xuae:function(e,t,r){"use strict";var n=r("RIqP"),s=r("lwsE"),a=r("W8MJ"),o=(r("PJYZ"),r("7W2i")),c=r("a1gu"),i=r("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return c(this,r)}}t.__esModule=!0,t.default=void 0;var l=r("q1tI"),d=function(e){o(r,e);var t=u(r);function r(e){var a;return s(this,r),(a=t.call(this,e))._hasHeadManager=void 0,a.emitChange=function(){a._hasHeadManager&&a.props.headManager.updateHead(a.props.reduceComponentsToState(n(a.props.headManager.mountedInstances),a.props))},a._hasHeadManager=a.props.headManager&&a.props.headManager.mountedInstances,a}return a(r,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),r}(l.Component);t.default=d},"dG/n":function(e,t,r){var n=r("Qo9l"),s=r("UTVS"),a=r("5Tg+"),o=r("m/L8").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});s(t,e)||o(t,e,{value:a.f(e)})}},g4pe:function(e,t,r){e.exports=r("8Kt/")},lwAK:function(e,t,r){"use strict";var n;t.__esModule=!0,t.AmpStateContext=void 0;var s=((n=r("q1tI"))&&n.__esModule?n:{default:n}).default.createContext({});t.AmpStateContext=s},pNMO:function(e,t,r){"use strict";var n=r("I+eb"),s=r("2oRo"),a=r("0GbY"),o=r("xDBR"),c=r("g6v/"),i=r("STAE"),u=r("/b8u"),l=r("0Dky"),d=r("UTVS"),f=r("6LWA"),p=r("hh1v"),h=r("glrk"),v=r("ewvW"),m=r("/GqU"),j=r("wE6v"),b=r("XGwC"),y=r("fHMY"),O=r("33Wh"),g=r("JBy8"),x=r("BX/b"),w=r("dBg+"),C=r("Bs8V"),k=r("m/L8"),N=r("0eef"),I=r("kRJp"),S=r("busE"),P=r("VpIT"),M=r("93I0"),A=r("0BK2"),R=r("kOOl"),T=r("tiKp"),D=r("5Tg+"),U=r("dG/n"),B=r("1E5z"),E=r("afO8"),_=r("tycR").forEach,L=M("hidden"),W="Symbol",z=T("toPrimitive"),J=E.set,F=E.getterFor(W),H=Object.prototype,K=s.Symbol,V=a("JSON","stringify"),q=C.f,X=k.f,G=x.f,Q=N.f,Y=P("symbols"),Z=P("op-symbols"),$=P("string-to-symbol-registry"),ee=P("symbol-to-string-registry"),te=P("wks"),re=s.QObject,ne=!re||!re.prototype||!re.prototype.findChild,se=c&&l((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=q(H,t);n&&delete H[t],X(e,t,r),n&&e!==H&&X(H,t,n)}:X,ae=function(e,t){var r=Y[e]=y(K.prototype);return J(r,{type:W,tag:e,description:t}),c||(r.description=t),r},oe=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},ce=function(e,t,r){e===H&&ce(Z,t,r),h(e);var n=j(t,!0);return h(r),d(Y,n)?(r.enumerable?(d(e,L)&&e[L][n]&&(e[L][n]=!1),r=y(r,{enumerable:b(0,!1)})):(d(e,L)||X(e,L,b(1,{})),e[L][n]=!0),se(e,n,r)):X(e,n,r)},ie=function(e,t){h(e);var r=m(t),n=O(r).concat(fe(r));return _(n,(function(t){c&&!ue.call(r,t)||ce(e,t,r[t])})),e},ue=function(e){var t=j(e,!0),r=Q.call(this,t);return!(this===H&&d(Y,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(Y,t)||d(this,L)&&this[L][t])||r)},le=function(e,t){var r=m(e),n=j(t,!0);if(r!==H||!d(Y,n)||d(Z,n)){var s=q(r,n);return!s||!d(Y,n)||d(r,L)&&r[L][n]||(s.enumerable=!0),s}},de=function(e){var t=G(m(e)),r=[];return _(t,(function(e){d(Y,e)||d(A,e)||r.push(e)})),r},fe=function(e){var t=e===H,r=G(t?Z:m(e)),n=[];return _(r,(function(e){!d(Y,e)||t&&!d(H,e)||n.push(Y[e])})),n};(i||(S((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),r=function(e){this===H&&r.call(Z,e),d(this,L)&&d(this[L],t)&&(this[L][t]=!1),se(this,t,b(1,e))};return c&&ne&&se(H,t,{configurable:!0,set:r}),ae(t,e)}).prototype,"toString",(function(){return F(this).tag})),S(K,"withoutSetter",(function(e){return ae(R(e),e)})),N.f=ue,k.f=ce,C.f=le,g.f=x.f=de,w.f=fe,D.f=function(e){return ae(T(e),e)},c&&(X(K.prototype,"description",{configurable:!0,get:function(){return F(this).description}}),o||S(H,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!i,sham:!i},{Symbol:K}),_(O(te),(function(e){U(e)})),n({target:W,stat:!0,forced:!i},{for:function(e){var t=String(e);if(d($,t))return $[t];var r=K(t);return $[t]=r,ee[r]=t,r},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(d(ee,e))return ee[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!i,sham:!c},{create:function(e,t){return void 0===t?y(e):ie(y(e),t)},defineProperty:ce,defineProperties:ie,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:de,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:l((function(){w.f(1)}))},{getOwnPropertySymbols:function(e){return w.f(v(e))}}),V)&&n({target:"JSON",stat:!0,forced:!i||l((function(){var e=K();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,r){for(var n,s=[e],a=1;arguments.length>a;)s.push(arguments[a++]);if(n=t,(p(t)||void 0!==e)&&!oe(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!oe(t))return t}),s[1]=t,V.apply(null,s)}});K.prototype[z]||I(K.prototype,z,K.prototype.valueOf),B(K,W),A[L]=!0},zZWi:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n=r("nKUr"),s=r("o0o1"),a=r.n(s),o=r("lSNA"),c=r.n(o),i=(r("ls82"),r("yXPU")),u=r.n(i),l=r("lwsE"),d=r.n(l),f=r("W8MJ"),p=r.n(f),h=r("7W2i"),v=r.n(h),m=r("a1gu"),j=r.n(m),b=r("Nsbk"),y=r.n(b),O=r("q1tI"),g=r.n(O),x=r("kMSe"),w=r("n4oF"),C=r("lN2P");function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y()(e);if(t){var s=y()(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return j()(this,r)}}function S(e){var t;return Object(x.c)("user")(t=Object(x.d)(t=function(t){v()(s,t);var r=I(s);function s(e){return d()(this,s),r.call(this,e)}return p()(s,null,[{key:"getInitialProps",value:function(){var t=u()(a.a.mark((function t(r,n){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}throw Error("CheckLoginStatus\u5fc5\u987b\u524d\u7f6e\u4f7f\u7528HOCFetchSiteData");case 2:if(t.prev=2,s={},!Object(w.a)()){t.next=9;break}if(!e.getInitialProps){t.next=9;break}return t.next=8,e.getInitialProps(r);case 8:s=t.sent;case 9:return t.abrupt("return",N({},s));case 12:return t.prev=12,t.t0=t.catch(2),console.log("err",t.t0),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,r){return t.apply(this,arguments)}}()}]),p()(s,[{key:"componentDidMount",value:function(){this.props.user.loginStatus||C.a.saveAndLogin()}},{key:"componentDidUpdate",value:function(){this.props.user.loginStatus||C.a.saveAndLogin()}},{key:"render",value:function(){var t=this.props.user.loginStatus;return"padding"!==t&&t?Object(n.jsx)(e,N({},this.props)):null}}]),s}(g.a.Component))||t)||t}}},[["AT0X",1,0,3,5,4,6,2]]]);