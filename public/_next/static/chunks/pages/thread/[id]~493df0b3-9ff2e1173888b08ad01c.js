_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[48],{"+9CB":function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},i=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=a(e,t),i(e,t))},o=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=i(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},parseId3TagSize:a,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if((n=o(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var a=0;a<r.byteLength;a++)if(0===r[a]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var r,a="";for(r=t;r<n;r++)a+="%"+("00"+e[r].toString(16)).slice(-2);return a}(r,0,a))){var i=r.subarray(a+1),s=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2;return s*=4,s+=3&i[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},"+X0y":function(e,t){var n={"":!0,up:!0};function r(e){return"number"===typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,a=0,i=100,o=0,s=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!==typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");a=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"===typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):c=t}}})}},"+omo":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),i=r(n("q1tI")),o=n("VTYn"),s=r(n("TSYQ")),c=function(e){var t=e.leftChildren,n=e.rightChildren,r=e.isPlay,c=void 0!==r&&r,u=(0,o.useConfig)().clsPrefix;return i.default.createElement("div",{className:"".concat(u,"-audio-bg-view")},i.default.createElement("div",{className:"".concat(u,"-audio-bg-view__left")},t),function(){for(var e=[],t=0;t<20;t++)e.push(i.default.createElement("div",{className:(0,s.default)("".concat(u,"-audio-bg-view__hz-").concat(t+1),(0,a.default)({},"".concat(u,"-audio-bg-view__hz-").concat(t+1,"--animation"),c)),key:t}));return i.default.createElement("div",{className:"".concat(u,"-audio-bg-view__center")},i.default.createElement("div",{className:"".concat(u,"-audio-bg-view__hz")},e))}(),i.default.createElement("div",{className:"".concat(u,"-audio-bg-view__right")},i.default.createElement("div",{className:"".concat(u,"-audio-bg-view__right-text")},n)))};t.default=c},"/Ugf":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("rB9j"),n("UxlC");function r(e){return e.replace(/(<\/?.+?\/?>)|\n/g,"")}},"0CxO":function(e,t,n){var r=n("7zRj"),a=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function i(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=a(null)}function c(e,t,n,r){var a=r?e.split(r):[e];for(var i in a)if("string"===typeof a[i]){var o=a[i].split(n);if(2===o.length)t(o[0],o[1])}}function u(e,t,n){var r=e;function a(){var t=o(e);if(null===t)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=a(),u(),"--\x3e"!==e.substr(0,3))throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=a(),u(),function(e,t){var r=new s;c(e,(function(e,t){switch(e){case"region":for(var a=n.length-1;a>=0;a--)if(n[a].id===t){r.set(e,n[a].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start","center","end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(a){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(a){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(a){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}i.prototype=a(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=r.createElement&&r.createElement("textarea"),d={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},f={v:"title",lang:"lang"},h={rt:"ruby"};function v(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e,t){return!h[t.localName]||h[t.localName]===e.localName}function a(t,n){var r=d[t];if(!r)return null;var a=e.document.createElement(r),i=f[t];return i&&n&&(a[i]=n.trim()),a}for(var i,s,c=e.document.createElement("div"),u=c,v=[];null!==(i=n());)if("<"!==i[0])u.appendChild(e.document.createTextNode((s=i,l.innerHTML=s,s=l.textContent,l.textContent="",s)));else{if("/"===i[1]){v.length&&v[v.length-1]===i.substr(2).replace(">","")&&(v.pop(),u=u.parentNode);continue}var m,b=o(i.substr(1,i.length-2));if(b){m=e.document.createProcessingInstruction("timestamp",b),u.appendChild(m);continue}var y=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=a(y[1],y[3])))continue;if(!r(u,m))continue;if(y[2]){var g=y[2].split(".");g.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(p.hasOwnProperty(n)){var r=t?"background-color":"color",a=p[n];m.style[r]=a}})),m.className=g.join(" ")}v.push(y[1]),u.appendChild(m),u=m}return c}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(e){for(var t=0;t<m.length;t++){var n=m[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function y(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function a(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var i=n.match(/^.*(\n|\r)/);return i?(e.length=0,i[0]):n}return"ruby"===t.tagName?a(e):t.childNodes?(r(e,t),a(e)):void 0}for(r(t,e);n=a(t);)for(var i=0;i<n.length;i++)if(b(n.charCodeAt(i)))return"rtl";return"ltr"}function g(){}function j(e,t,n){g.call(this),this.cue=t,this.cueDiv=v(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var a=0;switch(t.positionAlign){case"start":a=t.position;break;case"center":a=t.position-t.size/2;break;case"end":a=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function x(e){var t,n,r,a;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,a=e.div.offsetTop;var i=(i=e.div.childNodes)&&(i=i[0])&&i.getClientRects&&i.getClientRects();e=e.div.getBoundingClientRect(),t=i?Math.max(i[0]&&i[0].height||0,e.height/i.length):0}this.left=e.left,this.right=e.right,this.top=e.top||a,this.height=e.height||n,this.bottom=e.bottom||a+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function O(e,t,n,r){var a=new x(t),i=t.cue,o=function(e){if("number"===typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,a=0;a<n.length&&n[a]!==t;a++)"showing"===n[a].mode&&r++;return-1*++r}(i),s=[];if(i.snapToLines){var c;switch(i.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var u=a.lineHeight,l=u*Math.round(o),d=n[c]+u,p=s[0];Math.abs(l)>d&&(l=l<0?-1:1,l*=Math.ceil(d/u)*u),o<0&&(l+=""===i.vertical?n.height:n.width,s=s.reverse()),a.move(p,l)}else{var f=a.lineHeight/n.height*100;switch(i.lineAlign){case"center":o-=f/2;break;case"end":o-=f}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],a=new x(t)}var h=function(e,t){for(var a,i=new x(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var c=e.intersectPercentage(n);o>c&&(a=new x(e),o=c),e=new x(i)}return a||i}(a,s);t.move(h.toCSSCompatValues(n))}function w(){}g.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},g.prototype.formatStyle=function(e,t){return 0===e?0:e+t},j.prototype=a(g.prototype),j.prototype.constructor=j,x.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},x.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},x.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},x.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},x.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},x.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},x.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},x.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},w.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},w.convertCueToDOMTree=function(e,t){return e&&t?v(e,t):null};w.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var a=[],i=x.getSimpleBoxPosition(r),o={font:Math.round(.05*i.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<t.length;c++)s=t[c],n=new j(e,s,o),r.appendChild(n.div),O(0,n,i,a),s.displayState=n.div,a.push(x.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},w.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},w.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof i))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function r(e){e.match(/X-TIMESTAMP-MAP/)?c(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new s;c(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",o(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):c(e,(function(e,n){switch(e){case"Region":!function(e){var n=new s;if(c(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var a=new s;if(a.percent("x",r[0]),a.percent("y",r[1]),!a.has("x")||!a.has("y"))break;n.set(e+"X",a.get("x")),n.set(e+"Y",a.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var l=(a=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:a=n(),t.state){case"HEADER":/:/.test(a)?r(a):a||(t.state="ID");continue;case"NOTE":a||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){t.state="NOTE";break}if(!a)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(f){t.cue.align="middle"}if(t.state="CUE",-1===a.indexOf("--\x3e")){t.cue.id=a;continue}case"CUE":try{u(a,t.cue,t.regionList)}catch(f){t.reportOrThrowError(f),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var p=-1!==a.indexOf("--\x3e");if(!a||p&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=a.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":a||(t.state="ID");continue}}}catch(f){t.reportOrThrowError(f),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new i(i.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=w},"0ERz":function(e,t,n){var r;e.exports=function(){function e(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var a=[],i=this.data.charCodeAt(t);i>65536?(a[0]=240|(1835008&i)>>>18,a[1]=128|(258048&i)>>>12,a[2]=128|(4032&i)>>>6,a[3]=128|63&i):i>2048?(a[0]=224|(61440&i)>>>12,a[1]=128|(4032&i)>>>6,a[2]=128|63&i):i>128?(a[0]=192|(1984&i)>>>6,a[1]=128|63&i):a[0]=i,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[r][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=o.getLostPoint(this);(0==n||e>r)&&(e=r,t=n)}return t},createMovieClip:function(e,t,n){var r=e.createEmptyMovieClip(t,n),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*a,s=0;s<this.modules[i].length;s++){var c=s*a;this.modules[i][s]&&(r.beginFill(0,100),r.moveTo(c,o),r.lineTo(c+a,o),r.lineTo(c+a,o+a),r.lineTo(c,o+a),r.endFill())}return r},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=o.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],a=e[n];if(null==this.modules[r][a])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[r+i][a+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(e){for(var t=o.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++)r=!e&&1==(t>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=o.getBCHTypeInfo(n),a=0;a<15;a++){var i=!e&&1==(r>>a&1);a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(a=0;a<15;a++)i=!e&&1==(r>>a&1),a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i;this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,r=this.moduleCount-1,a=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[r][s-c]){var u=!1;i<e.length&&(u=1==(e[i]>>>a&1)),o.getMask(t,r,s-c)&&(u=!u),this.modules[r][s-c]=u,-1==--a&&(i++,a=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,r){for(var a=l.getRSBlocks(e,n),i=new d,s=0;s<r.length;s++){var c=r[s];i.put(c.mode,4),i.put(c.getLength(),o.getLengthInBits(c.mode,e)),c.write(i)}var u=0;for(s=0;s<a.length;s++)u+=a[s].dataCount;if(i.getLengthInBits()>8*u)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*u+")");for(i.getLengthInBits()+4<=8*u&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*u)&&(i.put(t.PAD0,8),!(i.getLengthInBits()>=8*u));)i.put(t.PAD1,8);return t.createBytes(i,a)},t.createBytes=function(e,t){for(var n=0,r=0,a=0,i=new Array(t.length),s=new Array(t.length),c=0;c<t.length;c++){var l=t[c].dataCount,d=t[c].totalCount-l;r=Math.max(r,l),a=Math.max(a,d),i[c]=new Array(l);for(var p=0;p<i[c].length;p++)i[c][p]=255&e.buffer[p+n];n+=l;var f=o.getErrorCorrectPolynomial(d),h=new u(i[c],f.getLength()-1).mod(f);for(s[c]=new Array(f.getLength()-1),p=0;p<s[c].length;p++){var v=p+h.getLength()-s[c].length;s[c][p]=v>=0?h.get(v):0}}var m=0;for(p=0;p<t.length;p++)m+=t[p].totalCount;var b=new Array(m),y=0;for(p=0;p<r;p++)for(c=0;c<t.length;c++)p<i[c].length&&(b[y++]=i[c][p]);for(p=0;p<a;p++)for(c=0;c<t.length;c++)p<s[c].length&&(b[y++]=s[c][p]);return b};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},i={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;o.getBCHDigit(t)-o.getBCHDigit(o.G15)>=0;)t^=o.G15<<o.getBCHDigit(t)-o.getBCHDigit(o.G15);return(e<<10|t)^o.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;o.getBCHDigit(t)-o.getBCHDigit(o.G18)>=0;)t^=o.G18<<o.getBCHDigit(t)-o.getBCHDigit(o.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return o.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case i.PATTERN000:return(t+n)%2==0;case i.PATTERN001:return t%2==0;case i.PATTERN010:return n%3==0;case i.PATTERN011:return(t+n)%3==0;case i.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case i.PATTERN101:return t*n%2+t*n%3==0;case i.PATTERN110:return(t*n%2+t*n%3)%2==0;case i.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new u([1],0),n=0;n<e;n++)t=t.multiply(new u([1,s.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var a=0;a<t;a++){for(var i=0,o=e.isDark(r,a),s=-1;s<=1;s++)if(!(r+s<0||t<=r+s))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||0==s&&0==c||o==e.isDark(r+s,a+c)&&i++;i>5&&(n+=3+i-5)}for(r=0;r<t-1;r++)for(a=0;a<t-1;a++){var u=0;e.isDark(r,a)&&u++,e.isDark(r+1,a)&&u++,e.isDark(r,a+1)&&u++,e.isDark(r+1,a+1)&&u++,0!=u&&4!=u||(n+=3)}for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(r,a)&&!e.isDark(r,a+1)&&e.isDark(r,a+2)&&e.isDark(r,a+3)&&e.isDark(r,a+4)&&!e.isDark(r,a+5)&&e.isDark(r,a+6)&&(n+=40);for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(r,a)&&!e.isDark(r+1,a)&&e.isDark(r+2,a)&&e.isDark(r+3,a)&&e.isDark(r+4,a)&&!e.isDark(r+5,a)&&e.isDark(r+6,a)&&(n+=40);var l=0;for(a=0;a<t;a++)for(r=0;r<t;r++)e.isDark(r,a)&&l++;return n+=Math.abs(100*l/t/t-50)/5*10}},s={glog:function(e){if(e<1)throw new Error("glog("+e+")");return s.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return s.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)s.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)s.EXP_TABLE[c]=s.EXP_TABLE[c-4]^s.EXP_TABLE[c-5]^s.EXP_TABLE[c-6]^s.EXP_TABLE[c-8];for(c=0;c<255;c++)s.LOG_TABLE[s.EXP_TABLE[c]]=c;function u(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}function l(e,t){this.totalCount=e,this.dataCount=t}function d(){this.buffer=[],this.length=0}u.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=s.gexp(s.glog(this.get(n))+s.glog(e.get(r)));return new u(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=s.glog(this.get(0))-s.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<e.getLength();r++)n[r]^=s.gexp(s.glog(e.get(r))+t);return new u(n,0).mod(e)}},l.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l.getRSBlocks=function(e,t){var n=l.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,a=[],i=0;i<r;i++)for(var o=n[3*i+0],s=n[3*i+1],c=n[3*i+2],u=0;u<o;u++)a.push(new l(s,c));return a},l.getRsBlockTable=function(e,t){switch(t){case a.L:return l.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return l.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return l.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return l.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},d.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function f(){return"undefined"!=typeof CanvasRenderingContext2D}function h(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}var v=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,n=this._el,r=e.getModuleCount();function a(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var r in t)t.hasOwnProperty(r)&&n.setAttribute(r,t[r]);return n}Math.floor(t.width/r),Math.floor(t.height/r),this.clear();var i=a("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:t.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),n.appendChild(i),i.appendChild(a("rect",{fill:t.colorLight,width:"100%",height:"100%"})),i.appendChild(a("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var o=0;o<r;o++)for(var s=0;s<r;s++)if(e.isDark(o,s)){var c=a("use",{x:String(s),y:String(o)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(c)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),m="svg"===document.documentElement.tagName.toLowerCase()?v:f()?function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,r,a,i,o,s,c,u,l){if("nodeName"in e&&/img/i.test(e.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*t;else"undefined"==typeof u&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}function r(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var r=document.createElement("img"),a=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)},i=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)};return r.onabort=a,r.onerror=a,r.onload=i,void(r.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}var a=function(e,t){this._bIsPainted=!1,this._android=h(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return a.prototype.draw=function(e){var t=this._elImage,n=this._oContext,r=this._htOption,a=e.getModuleCount(),i=r.width/a,o=r.height/a,s=Math.round(i),c=Math.round(o);t.style.display="none",this.clear();for(var u=0;u<a;u++)for(var l=0;l<a;l++){var d=e.isDark(u,l),p=l*i,f=u*o;n.strokeStyle=d?r.colorDark:r.colorLight,n.lineWidth=1,n.fillStyle=d?r.colorDark:r.colorLight,n.fillRect(p,f,i,o),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,s,c),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,s,c)}this._bIsPainted=!0},a.prototype.makeImage=function(){this._bIsPainted&&r.call(this,e)},a.prototype.isPainted=function(){return this._bIsPainted},a.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},a.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},a}():function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,r=e.getModuleCount(),a=Math.floor(t.width/r),i=Math.floor(t.height/r),o=['<table style="border:0;border-collapse:collapse;">'],s=0;s<r;s++){o.push("<tr>");for(var c=0;c<r;c++)o.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+i+"px;background-color:"+(e.isDark(s,c)?t.colorDark:t.colorLight)+';"></td>');o.push("</tr>")}o.push("</table>"),n.innerHTML=o.join("");var u=n.childNodes[0],l=(t.width-u.offsetWidth)/2,d=(t.height-u.offsetHeight)/2;l>0&&d>0&&(u.style.margin=d+"px "+l+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}();function b(e,t){for(var n=1,r=y(e),i=0,o=p.length;i<=o;i++){var s=0;switch(t){case a.L:s=p[i][0];break;case a.M:s=p[i][1];break;case a.Q:s=p[i][2];break;case a.H:s=p[i][3]}if(r<=s)break;n++}if(n>p.length)throw new Error("Too long data");return n}function y(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}return(r=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H},"string"===typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(m=v),this._android=h(),this._el=e,this._oQRCode=null,this._oDrawing=new m(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(b(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},r.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},r.prototype.clear=function(){this._oDrawing.clear()},r.CorrectLevel=a,r}()},"0Tbm":function(e,t,n){!function(t){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,r=/^([^\/?#]*)([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");return a.path=o.normalizePath(a.path),o.buildURLFromParts(a)}var i=o.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return n.alwaysNormalize?(i.path=o.normalizePath(i.path),o.buildURLFromParts(i)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var c=r.exec(s.path);s.netLoc=c[1],s.path=c[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};if(!i.netLoc&&(u.netLoc=s.netLoc,"/"!==i.path[0]))if(i.path){var l=s.path,d=l.substring(0,l.lastIndexOf("/")+1)+i.path;u.path=o.normalizePath(d)}else u.path=s.path,i.params||(u.params=s.params,i.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(i.path):i.path),o.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},1:function(e,t){},"10ky":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("VbXa"),a=n.n(r),i=n("CCF8"),o=n.n(i),s=n("pVnL"),c=n.n(s),u=n("PJYZ"),l=n.n(u),d=n("hQev"),p=n.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return a()(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(o.a),h=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},a=n.length;a--;)""!==n[a]&&((t=/([^=]*)=(.*)/.exec(n[a]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},v=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}a()(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var a=0;a<r.customParsers.length;a++)if(r.customParsers[a].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var i=h(t[1]);if(i.URI&&(n.uri=i.URI),i.BYTERANGE){var o=i.BYTERANGE.split("@"),s=o[0],c=o[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),c&&(n.byterange.offset=parseInt(c,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=h(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=h(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=h(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=h(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,a=e.dataParser,i=e.segment;"function"!==typeof a&&(a=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:a(e),customType:r,segment:i}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(o.a),m=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new f,t.parseStream=new v,t.lineStream.pipe(t.parseStream);var n,r,a=l()(t),i=[],o={},s=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var h=0;return t.parseStream.on("data",(function(e){var t,l;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(e.offset=h)),"offset"in e&&(o.byterange=t,t.offset=e.offset),h=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:p()(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},"undefined"!==typeof e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,d=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(o.attributes||(o.attributes={}),c()(o.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(l={default:/yes/i.test(e.attributes.DEFAULT)}).default?l.autoselect=!0:l.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(l.language=e.attributes.LANGUAGE),e.attributes.URI&&(l.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(l.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(l.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(l.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=l}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){d+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time":function(){"undefined"===typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),o.dateTimeString=e.dateTimeString,o.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}}[e.tagType]||s).call(a)},uri:function(){o.uri=e.uri,i.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),r&&(o.key=r),o.timeline=d,n&&(o.map=n),o={}},comment:function(){},custom:function(){e.segment?(o.custom=o.custom||{},o.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(a)})),t}a()(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(o.a)},"1h1e":function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function i(){}function o(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,a,i){for(var o,s=++t,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)o=e.slice(t,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(i.warning('attribute value must after "="'),o=e.slice(t,s)),t=s+1,!((s=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,a),n.add(o,l,t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,a),n.add(o,l,t),i.warning('attribute "'+o+'" missed start quot('+u+")!!"),t=s+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,s)),s;case">":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(t,s)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=o),4==c?(i.warning('attribute "'+l+'" missed quot(")!!'),n.add(o,l.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"\x80":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,s)),c=6;break;case 1:o=e.slice(t,s),c=2;break;case 4:var l=e.slice(t,s).replace(/&#?\w+;/g,a);i.warning('attribute "'+l+'" missed quot(")!!'),n.add(o,l,t);case 5:c=6}else switch(c){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&o.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),n.add(o,o,t),t=s,c=1;break;case 5:i.warning('attribute space is required"'+o+'"!!');case 6:c=1,t=s;break;case 3:c=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function c(e,t,n){for(var r=e.tagName,a=null,i=e.length;i--;){var o=e[i],s=o.qName,c=o.value;if((f=s.indexOf(":"))>0)var u=o.prefix=s.slice(0,f),l=s.slice(f+1),p="xmlns"===u&&l;else l=s,u=null,p="xmlns"===s&&"";o.localName=l,!1!==p&&(null==a&&(a={},d(n,n={})),n[p]=a[p]=c,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,c))}for(i=e.length;i--;){(u=(o=e[i]).prefix)&&("xml"===u&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(o.uri=n[u||""]))}var f;(f=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,f),l=e.localName=r.slice(f+1)):(u=null,l=e.localName=r);var h=e.uri=n[u||""];if(t.startElement(h,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(h,l,r),a)for(u in a)t.endPrefixMapping(u)}function u(e,t,n,r,a){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),o=e.substring(t+1,i);if(/[&<]/.test(o))return/^script$/i.test(n)?(a.characters(o,0,o.length),i):(o=o.replace(/&#?\w+;/g,r),a.characters(o,0,o.length),i)}return t+1}function l(e,t,n,r){var a=r[n];return null==a&&((a=e.lastIndexOf("</"+n+">"))<t&&(a=e.lastIndexOf("</"+n)),r[n]=a),a<t}function d(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(a=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,a-t-4),a+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var a=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,a-t-9),n.endCDATA(),a+3}var i=function(e,t){var n,r=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;a.lastIndex=t,a.exec(e);for(;n=a.exec(e);)if(r.push(n),n[1])return r}(e,t),o=i.length;if(o>1&&/!doctype/i.test(i[0][0])){var s=i[1][0],c=o>3&&/^public$/i.test(i[2][0])&&i[3][0],u=o>4&&i[4][0],l=i[o-1];return n.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function f(e,t,n){var r=e.indexOf("?>",t);if(r){var a=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return n.processingInstruction(a[1],a[2]),r+2}return-1}return-1}function h(e){}function v(e,t){return e.__proto__=t,e}i.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),d(t,t={}),function(e,t,n,r,a){function i(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function d(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?i(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function v(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,d);j&&m(w),r.characters(n,0,t-w),w=t}}function m(t,n){for(;t>=y&&(n=g.exec(e));)b=n.index,y=b+n[0].length,j.lineNumber++;j.columnNumber=t-b+1}var b=0,y=0,g=/.*(?:\r\n?|\n)|.*$/g,j=r.locator,x=[{currentNSMap:t}],O={},w=0;for(;;){try{var C=e.indexOf("<",w);if(C<0){if(!e.substr(w).match(/^\s*$/)){var k=r.doc,N=k.createTextNode(e.substr(w));k.appendChild(N),r.currentElement=N}return}switch(C>w&&v(C),e.charAt(C+1)){case"/":var T=e.indexOf(">",C+3),D=e.substring(C+2,T),E=x.pop();T<0?(D=e.substring(C+2).replace(/[\s<].*/,""),a.error("end tag name: "+D+" is not complete:"+E.tagName),T=C+1+D.length):D.match(/\s</)&&(D=D.replace(/[\s<].*/,""),a.error("end tag name: "+D+" maybe not complete"),T=C+1+D.length);var S=E.localNSMap,P=E.tagName==D;if(P||E.tagName&&E.tagName.toLowerCase()==D.toLowerCase()){if(r.endElement(E.uri,E.localName,D),S)for(var A in S)r.endPrefixMapping(A);P||a.fatalError("end tag name: "+D+" is not match the current start tagName:"+E.tagName)}else x.push(E);T++;break;case"?":j&&m(C),T=f(e,C,r);break;case"!":j&&m(C),T=p(e,C,r,a);break;default:j&&m(C);var R=new h,I=x[x.length-1].currentNSMap,_=(T=s(e,C,R,I,d,a),R.length);if(!R.closed&&l(e,T,R.tagName,O)&&(R.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),j&&_){for(var L=o(j,{}),M=0;M<_;M++){var B=R[M];m(B.offset),B.locator=o(j,{})}r.locator=L,c(R,r,I)&&x.push(R),r.locator=j}else c(R,r,I)&&x.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?T++:T=u(e,T,R.tagName,d,r)}}catch(U){a.error("element parse error: "+U),T=-1}T>w?w=T:v(Math.max(C,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},h.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},v({},v.prototype)instanceof v||(v=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=i},"29xw":function(e,t,n){var r=n("f+Ey").toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:r(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=r(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},"3D7k":function(e,t,n){"use strict";var r=n("rnXk"),a=n("JW/Y").handleRollover,i={};i.ts=n("Qj6V"),i.aac=n("+9CB");var o=n("NsZL").ONE_SECOND_IN_TS,s=188,c=71,u=function(e,t,n){for(var r,a,o,u,l=0,d=s,p=!1;d<=e.byteLength;)if(e[l]!==c||e[d]!==c&&d!==e.byteLength)l++,d++;else{switch(r=e.subarray(l,d),i.ts.parseType(r,t.pid)){case"pes":a=i.ts.parsePesType(r,t.table),o=i.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&o&&(u=i.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),p=!0)}if(p)break;l+=s,d+=s}for(l=(d=e.byteLength)-s,p=!1;l>=0;)if(e[l]!==c||e[d]!==c&&d!==e.byteLength)l--,d--;else{switch(r=e.subarray(l,d),i.ts.parseType(r,t.pid)){case"pes":a=i.ts.parsePesType(r,t.table),o=i.ts.parsePayloadUnitStartIndicator(r),"audio"===a&&o&&(u=i.ts.parsePesTime(r))&&(u.type="audio",n.audio.push(u),p=!0)}if(p)break;l-=s,d-=s}},l=function(e,t,n){for(var r,a,o,u,l,d,p,f=0,h=s,v=!1,m={data:[],size:0};h<e.byteLength;)if(e[f]!==c||e[h]!==c)f++,h++;else{switch(r=e.subarray(f,h),i.ts.parseType(r,t.pid)){case"pes":if(a=i.ts.parsePesType(r,t.table),o=i.ts.parsePayloadUnitStartIndicator(r),"video"===a&&(o&&!v&&(u=i.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),v=!0),!n.firstKeyFrame)){if(o&&0!==m.size){for(l=new Uint8Array(m.size),d=0;m.data.length;)p=m.data.shift(),l.set(p,d),d+=p.byteLength;if(i.ts.videoPacketContainsKeyFrame(l)){var b=i.ts.parsePesTime(l);b?(n.firstKeyFrame=b,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}m.size=0}m.data.push(r),m.size+=r.byteLength}}if(v&&n.firstKeyFrame)break;f+=s,h+=s}for(f=(h=e.byteLength)-s,v=!1;f>=0;)if(e[f]!==c||e[h]!==c)f--,h--;else{switch(r=e.subarray(f,h),i.ts.parseType(r,t.pid)){case"pes":a=i.ts.parsePesType(r,t.table),o=i.ts.parsePayloadUnitStartIndicator(r),"video"===a&&o&&(u=i.ts.parsePesTime(r))&&(u.type="video",n.video.push(u),v=!0)}if(v)break;f-=s,h-=s}},d=function(e){var t={pid:null,table:null},n={};for(var a in function(e,t){for(var n,r=0,a=s;a<e.byteLength;)if(e[r]!==c||e[a]!==c)r++,a++;else{switch(n=e.subarray(r,a),i.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=i.ts.parsePat(n));break;case"pmt":t.table||(t.table=i.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=s,a+=s}}(e,t),t.table){if(t.table.hasOwnProperty(a))switch(t.table[a]){case r.H264_STREAM_TYPE:n.video=[],l(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],u(e,t,n),0===n.audio.length&&delete n.audio}}return n};e.exports={inspect:function(e,t){var n;return(n=i.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,a=null,s=null,c=0,u=0;e.length-u>=3;){switch(i.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){n=!0;break}if((c=i.aac.parseId3TagSize(e,u))>e.length){n=!0;break}null===s&&(t=e.subarray(u,u+c),s=i.aac.parseAacTimestamp(t)),u+=c;break;case"audio":if(e.length-u<7){n=!0;break}if((c=i.aac.parseAdtsSize(e,u))>e.length){n=!0;break}null===a&&(t=e.subarray(u,u+c),a=i.aac.parseSampleRate(t)),r++,u+=c;break;default:u++}if(n)return null}if(null===a||null===s)return null;var l=o/a;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*l,pts:s+1024*r*l}]}}(e):d(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=a(e.dts,n),e.pts=a(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}))}if(e.video&&e.video.length){var r=t;if("undefined"===typeof r&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=a(e.dts,r),e.pts=a(e.pts,r),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=a(i.dts,r),i.pts=a(i.pts,r),i.dtsTime=i.dts/o,i.ptsTime=i.dts/o}}}(n,t),n):null},parseAudioPes_:u}},"3zPy":function(e,t){function n(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return o[e];var n,i=String(e);return(n=r[i.toLowerCase()])?n:(n=a[i.toLowerCase()])||(1===i.length?i.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"===typeof e){var n=e.which||e.keyCode||e.charCode;if(null===n||void 0===n)return!1;if("string"===typeof t){var i;if(i=r[t.toLowerCase()])return i===n;if(i=a[t.toLowerCase()])return i===n}else if("number"===typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)r[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)r[i-48]=i;for(i=1;i<13;i++)r["f"+i]=i+111;for(i=0;i<10;i++)r["numpad "+i]=i+96;var o=t.names=t.title={};for(i in r)o[r[i]]=i;for(var s in a)r[s]=a[s]},"40Bt":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),i=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("q1fC"),f=n("isGe"),h=n("AItd");function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,o.default)(n,e);var t=v(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.SliderViewAdapter,logicalAdapter:f.SliderLogicalAdapter}));t.default=m,(0,u.default)(m,"defaultProps",{onChange:h.noop,min:0,max:100,step:1,disabled:!1,formatter:function(e){return e}})},"4Vs1":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("FZtP"),Object.defineProperty(t,"__esModule",{value:!0}),t.createInnerAudioContext=void 0;var a=r(n("J4zp")),i=n("TGR9");t.createInnerAudioContext=function(){var e=new Audio,t={},n={error:(0,i.createCallbackManager)(),stop:(0,i.createCallbackManager)()};t.play=function(){return e.play()},t.pause=function(){return e.pause()},t.stop=function(){t.pause(),t.seek(0),n.stop.trigger()},t.seek=function(t){e.currentTime=t},t.destroy=function(){t.stop(),e=null};["src","autoplay","loop","volume","duration","currentTime","buffered","paused"].forEach((function(n){Object.defineProperty(t,n,{get:function(){return e?e[n]:""},set:function(t){e[n]=t}})})),Object.defineProperty(t,"startTime",{value:0}),Object.defineProperty(t,"obeyMuteSwitch",{value:!0});var r=[["on",e.addEventListener],["off",e.removeEventListener]];return["Canplay","Ended","Pause","Play","Seeked","Seeking","TimeUpdate","Waiting","Error","Loadedmetadata"].forEach((function(n){r.forEach((function(r){var i=(0,a.default)(r,2),o=i[0],s=i[1];Object.defineProperty(t,"".concat(o).concat(n),{get:function(){return function(t){return s.call(e,n.toLowerCase(),t)}}})}))})),t}},"5MUC":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("QWBl"),n("T63A"),n("tkto"),n("FZtP");var r=n("J4zp"),a=n.n(r),i={101:"IMAGE",102:"VOICE",103:"VIDEO",104:"GOODS",105:"QA",106:"RED_PACKET",107:"REWARD",108:"VOTE",109:"QUEUE",110:"FILE",111:"QA_IMAGE"};function o(e){var t={};return e&&Object.keys(e)&&Object.entries(e).forEach((function(e){var n=a()(e,2)[1];if(n){var r=n.tomId,o=n.body;t[i[r]]=o}})),t}},"5h7R":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.AudioWebLayout=void 0;var i=r(n("W8MJ")),o=r(n("PJYZ")),s=r(n("lSNA")),c=r(n("lwsE")),u=r(n("7W2i")),l=r(n("a1gu")),d=r(n("Nsbk")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=r(n("TSYQ")),h=n("4Vs1"),v=n("VTYn"),m=r(n("uhBA")),b=r(n("MCNy")),y=r(n("9p2j")),g=r(n("jqTq")),j=r(n("+omo"));function x(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var w=new(function(e){(0,u.default)(n,e);var t=O(n);function n(){return(0,c.default)(this,n),t.apply(this,arguments)}return n}(m.default)),C=function(e){(0,u.default)(n,e);var t=O(n);function n(e){var r;return(0,c.default)(this,n),r=t.call(this,e),(0,s.default)((0,o.default)(r),"eventListenerPlayImpl",(function(e){if(e!==(0,o.default)(r)&&r.props.singleton){var t=r.state.audioCtx;t&&t.pause&&(t.pause(),r.setState({audioCtx:t}))}})),(0,s.default)((0,o.default)(r),"playOrStopAudio",(function(){var e=r.state.audioCtx;e.paused&&!r.props.disabled?(w.emit("play",(0,o.default)(r)),e.play()):e.pause()})),(0,s.default)((0,o.default)(r),"audioMount",(function(e){var t=r.state.audioImg;e.src=r.props.src,e.loop=!!r.props.loop,e.onTimeUpdate((function(){e.currentTime>0&&e.currentTime<=1?r.setState({currentTime:0}):e.currentTime!==Math.floor(e.currentTime)&&r.setState({currentTime:Math.floor(e.currentTime)});var t=Math.floor(e.duration);r.state.duration!==t&&r.setState({duration:t})})),e.onLoadedmetadata((function(){"iconLoading"===t&&(r.setAudioImg("PlayOutlined"),setTimeout((function(){r.setState({duration:e.duration})}),10))})),e.onWaiting((function(){"iconLoading"!==t&&r.setAudioImg("iconLoading")})),e.onPlay((function(){r.setAudioImg("PauseOutlined"),r.props.onPlay()})),e.onPause((function(){r.setAudioImg("PlayOutlined");var e=r.props.onPause;(void 0===e?function(){}:e)()})),e.onEnded((function(){"iconPaused"!==t&&r.setAudioImg("PlayOutlined"),r.setState({currentTime:0});var e=r.props.onEnded;(void 0===e?function(){}:e)()})),e.onError((function(e){"CloseOutlined"!==t&&r.setAudioImg("CloseOutlined");var n=r.props.onError;(void 0===n?function(){}:n)(),console.error(e.errMsg)}))})),(0,s.default)((0,o.default)(r),"audioTime",(function(){var e=r.state,t=e.audioImg,n=e.duration,a=void 0===n?0:n;return r.props.disabled?"\u52a0\u8f7d\u5931\u8d25":"iconLoading"===t?"\u52a0\u8f7d\u4e2d":"CloseOutlined"===t?"\u52a0\u8f7d\u5931\u8d25":0===a||a===1/0?"\u672a\u77e5\u957f\u5ea6":a>60?"\u7ea6".concat(Math.floor(a/60),"\u5206\u949f"):"\u7ea6".concat(Math.floor(a),"\u79d2")})),(0,s.default)((0,o.default)(r),"renderAudioIcon",(function(){var e=r.context.clsPrefix,t=r.props.disabled,n=r.state.audioImg,a=(0,f.default)("".concat(e,"-audio__wrapper-inner-btn"),{"is-disabled":t||"CloseOutlined"===n});return t?p.default.createElement(b.default,{name:"CloseOutlined",className:a}):"iconLoading"===n?p.default.createElement(g.default,{className:a,type:"spinner"}):p.default.createElement(b.default,{onClick:r.playOrStopAudio,name:n,className:a})})),(0,s.default)((0,o.default)(r),"renderContent",(function(){var e=r.context.clsPrefix,t=r.state,n=100*t.currentTime/t.duration||0;return p.default.createElement("div",{className:"".concat(e,"-audio__wrapper")},p.default.createElement(y.default,{type:"circle",percent:n,lineWidth:3,isShowText:!1}),p.default.createElement("div",{className:"".concat(e,"-audio__wrapper-inner")},r.renderAudioIcon()))})),(0,s.default)((0,o.default)(r),"renderText",(function(){var e=r.context.clsPrefix,t=r.props.onDelete;return p.default.createElement("div",{className:"".concat(e,"-audio__right")},p.default.createElement("span",{className:"".concat(e,"-audio__tip")},r.audioTime()),t&&p.default.createElement(b.default,{name:"DeleteOutlined",className:"".concat(e,"-audio__delete"),onClick:function(){t()}}))})),r.state={audioCtx:null,audioImg:"iconLoading",currentTime:0,duration:0,childrenRef:null},r}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=(0,h.createInnerAudioContext)();this.audioMount(e),this.setState({audioCtx:e}),w.on("play",this.eventListenerPlayImpl)}},{key:"componentWillReceiveProps",value:function(e){var t=e.src||"";if(this.props.src!==t&&""!==t){var n=this.state.audioCtx;n.paused||n.stop(),n.src=e.src,this.setState({currentTime:0,duration:0})}}},{key:"componentWillUnmount",value:function(){var e=this.state.audioCtx;w.removeListener("play",this.eventListenerPlayImpl),e?(e.stop(),e.destroy()):this.setState=function(){}}},{key:"setAudioImg",value:function(e){this.setState({audioImg:e})}},{key:"render",value:function(){var e=this.context.clsPrefix,t=this.state.audioImg;return p.default.createElement("div",{className:(0,f.default)("".concat(e,"-audio"))},p.default.createElement(j.default,{leftChildren:this.renderContent(),rightChildren:this.renderText(),isPlay:"PauseOutlined"===t}))}}]),n}(p.Component);t.AudioWebLayout=C,(0,s.default)(C,"contextType",v.ConfigContext)},"64aw":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("pVnL")),i=r(n("lwsE")),o=r(n("W8MJ")),s=r(n("PJYZ")),c=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("lSNA")),p=r(n("q1tI")),f=n("GDuN"),h=n("kGPg"),v=n("kPfF");function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=m(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,s.default)(e),"setChildrenRef",(function(t){e.setState({childrenRef:t})})),(0,d.default)((0,s.default)(e),"getState",(function(){return e.state.childrenRef.state})),e}return(0,o.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return p.default.createElement(e,(0,a.default)({ref:this.setChildrenRef},this.props),this.props.children)}}]),n}((0,f.baseComponentFactory)({viewAdapter:h.ViewAdapter,logicalAdapter:v.LogicalAdapter}));t.default=b,(0,d.default)(b,"defaultProps",{onError:function(){},onPlay:function(){},onPause:function(){},onEnded:function(){},onRef:function(){},loop:!1,singleton:!0})},"7BN5":function(e,t,n){"use strict";var r,a=n("nKUr"),i=n("lwsE"),o=n.n(i),s=n("W8MJ"),c=n.n(s),u=n("7W2i"),l=n.n(u),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),v=n("q1tI"),m=n.n(v),b=n("l1O3"),y=n("kMSe"),g=n("TSYQ"),j=n.n(g);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var O=Object(y.c)("site")(r=Object(y.d)(r=function(e){l()(r,e);var t=x(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).qrCode=m.a.createRef(null),n.state={siteName:""},n}return c()(r,[{key:"componentDidMount",value:function(){var e,t,r;if(this.qrCode.current){var a,i,o,s=null===(a=this.props.site)||void 0===a||null===(i=a.webConfig)||void 0===i||null===(o=i.setSite)||void 0===o?void 0:o.siteUrl;new(n("0ERz"))(this.qrCode.current,{text:s,width:83,height:83})}var c=null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(r=t.setSite)||void 0===r?void 0:r.siteName;this.setState({siteName:c||"Discuz! Q"})}},{key:"render",value:function(){var e=this.props.subTitle,t=void 0===e?"\u626b\u4e00\u626b\u8bbf\u95ee\u79fb\u52a8\u7aef":e,n=this.state.siteName;return Object(a.jsxs)("div",{className:j()(b.a.code,"qrcode"),children:[Object(a.jsx)("div",{className:b.a.codeBox,ref:this.qrCode}),Object(a.jsxs)("div",{className:b.a.codeText,children:[Object(a.jsx)("p",{className:b.a.codeTextVisit,children:t}),Object(a.jsx)("p",{className:b.a.codeTextLogo,children:n})]})]})}}]),r}(m.a.Component))||r)||r;t.a=O},"7zRj":function(e,t,n){(function(t){var r,a="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},i=n(1);"undefined"!==typeof document?r=document:(r=a["__GLOBAL_DOCUMENT_CACHE@4"])||(r=a["__GLOBAL_DOCUMENT_CACHE@4"]=i),e.exports=r}).call(this,n("ntbh"))},"8/jF":function(e,t,n){"use strict";function r(e){e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0}),t.stopPropagation=r,t.preventDefault=function(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault();t&&r(e)}},"9p2j":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),i=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("gzjk"),f=n("CObF");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.ProgressViewAdapter,logicalAdapter:f.ProgressLogicalAdapter}));t.default=v,(0,u.default)(v,"defaultProps",{style:{},percent:0,theme:"default",lineWidth:2,width:160,className:"",text:"",isShowText:!0})},AwrB:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("o0o1"));n("ls82");var o=r(n("yXPU")),s=r(n("J4zp")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),u=n("VTYn"),l=n("TJTF"),d=n("vNgL");function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var f=function(e){var t=e.style,n=void 0===t?{}:t,r=e.percent,a=void 0===r?0:r,p=e.theme,f=void 0===p?"default":p,h=e.lineWidth,v=void 0===h?2:h,m=(e.width,e.className),b=void 0===m?"":m,y=e.text,g=void 0===y?"":y,j=e.isShowText,x=void 0===j||j,O=e.tips,w=void 0===O?"":O,C=e.children,k=e.lineCap,N=void 0===k?"butt":k,T=(0,u.useConfig)().clsPrefix,D=(0,c.useState)({canvas:null,ctx:null,width:0,height:0}),E=(0,s.default)(D,2),S=E[0],P=E[1],A=(0,c.useRef)(null),R=(0,c.useRef)(null);(0,c.useEffect)((function(){I()}),[]),(0,c.useEffect)((function(){S.ctx&&_()}),[a,S]);var I=function(){var e=(0,o.default)(i.default.mark((function e(){var t,n,r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A.current,n=A.current.getContext("2d"),r=R.current.getBoundingClientRect(),a=r.width,o=r.height,3,t.width=3*a,t.height=3*o,n.scale(3,3),P({canvas:t,ctx:n,width:a,height:o});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=S.ctx,t=S.height,n=S.width,r=function(){var e=S.width,t=S.height,n=(0,l.toFixed)(.5*Math.min(e,t));return n>v&&(n-=v),{radius:n,range:a/100*2*Math.PI,offsetRadian:-.5*Math.PI}}(),i=r.radius,o=r.range,s=r.offsetRadian;e.clearRect(0,0,n,t),e.lineWidth=v,e.lineCap=N,e.beginPath(),e.strokeStyle="#F6F7F9",e.arc((0,l.toFixed)(n/2),(0,l.toFixed)(t/2),i,0,2*Math.PI),e.stroke(),0!==o&&(e.beginPath(),e.strokeStyle=L(),e.arc((0,l.toFixed)(n/2),(0,l.toFixed)(t/2),i,s,o+s),e.stroke())},L=function(){return"default"===f?"#FEC32D":"success"===f?"#57BD6A":"danger"===f?"#E54545":"#FEC32D"};return c.default.createElement("div",{className:"".concat(T,"-progress-circle")},c.default.createElement("div",{ref:R,className:"".concat(T,"-progress-circle__area ").concat(b),style:n},c.default.createElement("canvas",{ref:A,className:"".concat(T,"-progress-circle__canvas")}),!C&&x&&c.default.createElement("div",{className:"".concat(T,"-progress-circle__current-text"),id:"progress-num"},g?c.default.createElement("span",{className:"text--chinese"},(0,d.injectValue)(g)(a)):c.default.createElement(c.default.Fragment,null,a,c.default.createElement("span",{className:"text--symbol"},"%"))),C&&c.default.createElement("div",{className:"".concat(T,"-progress-circle__children")},C)),c.default.createElement("div",{className:"".concat(T,"-progress-circle__tips")},w))};t.default=f},BF8C:function(e,t,n){"use strict";var r=n("vgmO"),a=n("pVnL"),i=n("g2LC");function o(e,t,n){var r=e;return i(t)?(n=t,"string"===typeof e&&(r={uri:e})):r=a({},t,{uri:e}),r.callback=n,r}function s(e,t,n){return c(t=o(e,t,n))}function c(e){if("undefined"===typeof e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,a){t||(t=!0,e.callback(n,r,a))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(n){}return null}(u),m)try{e=JSON.parse(e)}catch(t){}return e}function a(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,b)}function i(){if(!c){var t;clearTimeout(l),t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var a=b,i=null;return 0!==t?(a={body:r(),statusCode:t,method:p,headers:{},url:d,rawRequest:u},u.getAllResponseHeaders&&(a.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),a=e.slice(n+1).trim();"undefined"===typeof t[r]?t[r]=a:Array.isArray(t[r])?t[r].push(a):t[r]=[t[r],a]})),t):t}(u.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),n(i,a,a.body)}}var o,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var l,d=u.url=e.uri||e.url,p=u.method=e.method||"GET",f=e.body||e.data,h=u.headers=e.headers||{},v=!!e.sync,m=!1,b={body:void 0,headers:{},statusCode:0,method:p,url:d,rawRequest:u};if("json"in e&&!1!==e.json&&(m=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(i,0)},u.onload=i,u.onerror=a,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=a,u.open(p,d,!v,e.username,e.password),v||(u.withCredentials=!!e.withCredentials),!v&&e.timeout>0&&(l=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",a(e)}}),e.timeout)),u.setRequestHeader)for(o in h)h.hasOwnProperty(o)&&u.setRequestHeader(o,h[o]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"===typeof e.beforeSend&&e.beforeSend(u),u.send(f||null),u}e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,r){return(n=o(t,n,r)).method=e.toUpperCase(),c(n)}}))},BoBF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullDownRefreshViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("SMZ2").PullDownRefreshWebLayout}});t.PullDownRefreshViewAdapter=r},CCF8:function(e,t,n){"use strict";var r=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),i=t.length,o=0;o<i;++o)t[o].apply(this,a)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();e.exports=r},CObF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("LveU").ProgressWebAdapter}});t.ProgressLogicalAdapter=r},Dhw7:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=function(){function e(t){var n=t.storageType;a()(this,e),this.storage=null;var r="undefined"!==typeof window;this.storage="local"===n?r?window.localStorage:{}:r?window.sessionStorage:{}}return o()(e,[{key:"set",value:function(e,t){try{this.storage.setItem(e,t)}catch(n){console.error(n)}}},{key:"get",value:function(e){try{return this.storage.getItem(e)}catch(t){console.error(t)}}}]),e}()},FflX:function(e,t,n){var r=n("f+Ey").toUnsigned,a=n("jv9p"),i=function(e,t){var n,o,s,c,u,l=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=r(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=a(e.subarray(n+4,n+8)),c=o>1?n+o:e.byteLength,s===t[0]&&(1===t.length?l.push(e.subarray(n+8,c)):(u=i(e.subarray(n+8,c),t.slice(1))).length&&(l=l.concat(u))),n=c;return l};e.exports=i},GJo4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("l6bL").WebAdapter}});t.LogicalAdapter=r},"Hg/G":function(e,t,n){"use strict";n("ma9I");var r=n("nKUr"),a=n("q1tI"),i=n.n(a),o="_3IFAU6p9vAJN0K9CTjt-l5",s="_2H76qs2yaHbSHUnYncOiDQ",c="_7CXM_MFWPBVfYNwawi4ef",u="_2t-A6vGCRDm7Aczzz3Xkzk",l="_1KwL1oXFwLQxAr_vKBbpAv",d="YnaXyJLW9H8ZiqKc2Kre9",p=function(e){var t=e.image,n=e.title,a=e.amount,i=void 0===a?0:a,p=e.loading,f=e.className,h=void 0===f?"":f,v=e.onClick,m=p?"\u5185\u5bb9\u52a0\u8f7d\u4e2d":n||"\u6682\u65e0\u5185\u5bb9";return Object(r.jsxs)("div",{className:"".concat(o," ").concat(h),onClick:v,children:[Object(r.jsx)("img",{className:"".concat(s," ").concat(t?"":c),src:t}),Object(r.jsxs)("div",{className:u,children:[Object(r.jsx)("div",{className:l,children:m}),Object(r.jsxs)("div",{className:d,children:["\xa5",i]})]})]})};t.a=i.a.memo(p)},HkP4:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("ma9I");var r=n("nKUr"),a=(n("q1tI"),n("AbWG"));function i(e){var t=e.className,n=void 0===t?"":t,i=e.onClick,o=void 0===i?function(){}:i,s=e.h5,c=e.showTabBar,u=void 0!==c&&c,l=s?a.a.h5:a.a.pc;return u&&s&&(l="".concat(l," ").concat(a.a.tabbar)),Object(r.jsx)("div",{className:"".concat(a.a.backtotop," ").concat(l," ").concat(n),onClick:o,children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:Object(r.jsxs)("g",{id:"backtotop","data-name":"\u7f6e\u9876 (8)",transform:"translate(0.037 -6.4)",children:[Object(r.jsx)("path",{id:"\u8def\u5f84_348","data-name":"\u8def\u5f84 348",d:"M19.129,6.4a.859.859,0,0,1,.049,1.715H.8A.859.859,0,0,1,.748,6.4H19.129Z",transform:"translate(0)",fill:"#8590a6"}),Object(r.jsx)("path",{id:"\u8def\u5f84_349","data-name":"\u8def\u5f84 349",d:"M97.154,134.607a.84.84,0,0,1,1.13.036l7.169,7.017.037.039a.8.8,0,0,1-.037,1.106l-.04.036a.84.84,0,0,1-1.13-.036l-5.757-5.635v13.612a.828.828,0,0,1-1.653-.048V137.171l-5.757,5.635-.04.036a.84.84,0,0,1-1.147-.058.8.8,0,0,1,.017-1.124l7.169-7.017Z",transform:"translate(-87.736 -125.146)",fill:"#8590a6"})]})})})}},INMq:function(e,t,n){"use strict";var r=n("lSNA"),a=n.n(r),i=n("nKUr"),o=n("q1tI"),s=(n("yXV3"),n("R5XZ"),n("QILm")),c=n.n(s),u=n("kMSe"),l=n("z6Ap"),d=n("TibX"),p=n("z8Av"),f=n("VVxn"),h=n("R8I6"),v=n("pxy6"),m=n.n(v),b=n("HkP4"),y="_2Nw2Ng7ayXq1kkT4te2fEI",g="_3Pz43dWrwRdXJ8WPlfAfqe",j="_5t4m3qR4eI5aKAQxb7BqJ";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=Object(o.forwardRef)((function(e,t){var n=e.showHeader,r=void 0===n||n,a=e.showTabBar,s=void 0!==a&&a,c=e.showPullDown,u=void 0!==c&&c,d=e.children,v=void 0===d?null:d,x=e.onPullDown,w=e.isFinished,C=void 0===w||w,k=e.curr,N=e.onScroll,T=void 0===N?l.e:N,D=e.onClickTabBar,E=void 0===D?l.e:D,S=e.immediateCheck,P=void 0!==S&&S,A=e.platform,R=void 0===A?"h5":A,I=e.footer,_=e.disabledList,L=void 0!==_&&_,M=window.innerHeight,B=Object(o.useState)(600),U=B[0],W=(B[1],Object(o.useRef)(null)),F=Object(o.useRef)(null),V=Object(o.useState)(0),z=V[0],X=V[1];Object(o.useImperativeHandle)(t,(function(){return{listRef:F}}));var q=u?Object(i.jsx)("div",{className:g,ref:W,children:Object(i.jsx)(m.a,{onRefresh:x,isFinished:C,height:U,children:Object(i.jsx)(f.a,O(O({},e),{},{className:j,ref:F,onScroll:function(e){var t=e.scrollTop;X(t),T({scrollTop:t})},platform:R,children:"function"===typeof v?v(O({},e)):v}))})}):Object(i.jsx)(f.a,O(O({},e),{},{immediateCheck:P,className:g,ref:F,onScroll:function(e){var t=e.scrollTop;X(t),T({scrollTop:t})},platform:R,children:"function"===typeof v?v(O({},e)):v}));return L&&(q="function"===typeof v?v(O({},e)):v),Object(i.jsxs)("div",{className:y,children:[r&&Object(i.jsx)(p.a,{}),q,I,z>2*M&&!L&&Object(i.jsx)(b.a,{showTabBar:s,h5:!0,onClick:function(){F&&F.current.onBackTop()}}),s&&Object(i.jsx)(h.a,{onClick:E,placeholder:!0,curr:k})]})})),C=(n("ma9I"),n("ni5c")),k="_37gMAHOTVY0KM6pYSH7AZW",N="_1AABQTkjs60yLerksyv0Lm",T="eH0LaByedmslM_lHlsOl7",D="_2slMkz65RUSN8ZdAoICKUd",E="_2Ma7oHEHm1xrBV92mrcdqI",S="_1Wk2VUhDC-Seh26V6CTg4M",P="_3ZZfB0N5_Sh035AFamfsrk",A="_2YpGuc7WXRSJq5sn9qmc-0",R="_3dOwcjyTIhEiapk1UNpb5i",I="_1glUnzYMBWCzX7k9-Um6zn",_="_1AYG6JXTnEyN0CByL_DMZU";function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=Object(o.forwardRef)((function(e,t){var n=e.noHeader,r=void 0!==n&&n,a=e.header,s=void 0===a?null:a,c=e.left,u=void 0===c?null:c,d=e.children,h=void 0===d?null:d,v=e.right,m=void 0===v?null:v,y=e.footer,g=void 0===y?null:y,j=e.rightClassName,x=void 0===j?"":j,O=e.disabledList,w=void 0!==O&&O,L=e.onRefreshPlaceholder,B=void 0===L?null:L,U=e.noMore,W=void 0!==U&&U,F=e.onRefresh,V=e.onScroll,z=void 0===V?l.e:V,X=e.immediateCheck,q=void 0!==X&&X,H=e.onSearch,Y=e.requestError,G=void 0!==Y&&Y,K=e.errorText,J=void 0===K?"":K,Q=e.isShowLayoutRefresh,Z=void 0===Q||Q,$=e.pageName,ee=void 0===$?"":$,te=Object(o.useRef)(null),ne=Object(o.useState)(!1),re=ne[0],ae=ne[1],ie=Object(o.useState)("\u52a0\u8f7d\u5931\u8d25"),oe=ie[0],se=ie[1],ce=Object(o.useState)(0),ue=ce[0],le=ce[1];Object(o.useImperativeHandle)(t,(function(){return{listRef:te}})),Object(o.useEffect)((function(){ae(G),se(J)}),[G,J]);var de=T;(u||m)&&(de=E),u&&m&&(de=S);var pe=Object(i.jsxs)(f.a,M(M({},e),{},{immediateCheck:q,className:_,wrapperClass:D,ref:te,onError:function(e){ae(!0),se(e)},onScroll:function(e){var t=e.scrollTop;le(t),z({scrollTop:t})},children:[("home"===ee||u)&&Object(i.jsx)("div",{className:"baselayout-left ".concat(R),children:"function"===typeof u?u(M({},e)):u}),Object(i.jsxs)("div",{className:P,children:["function"===typeof h?h(M({},e)):h,Z&&F&&Object(i.jsx)(C.a,{onRefreshPlaceholder:B,isError:re,errorText:oe,noMore:W})]}),("home"===ee||m)&&Object(i.jsx)("div",{className:"baselayout-right ".concat(A," ").concat(x," ").concat("home"===ee?I:""),children:"function"===typeof m?m(M({},e)):m})]}));return w&&(pe=h),Object(i.jsxs)("div",{className:"".concat(k),children:[r?null:s&&s(M({},e))||Object(i.jsx)(p.a,{onSearch:H}),Object(i.jsxs)("div",{className:"".concat(N," ").concat(de," ").concat(e.className),children:[pe,ue>100&&Object(i.jsx)(b.a,{onClick:function(){te&&te.current.onBackTop()}})]}),"function"===typeof g?g(M({},e)):g]})}));function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=Object(o.forwardRef)((function(e,t){var n=e.site,r=e.baselayout,a=void 0===r?{}:r,s=e.onScroll,u=void 0===s?l.e:s,p=e.quickScroll,f=void 0!==p&&p,h=e.hasListChild,v=void 0===h||h,m=e.jumpTo,b=void 0===m?-1:m,y=e.pageName,g=void 0===y?"":y,j=e.ready,x=void 0===j?l.e:j,O=c()(e,["site","baselayout","onScroll","quickScroll","hasListChild","jumpTo","pageName","ready"]),C=Object(o.useState)(null),k=C[0],N=C[1],T=Object(o.useState)(["home","search","my","like","collect","buy"]),D=T[0],E=(T[1],Object(o.useRef)(null));Object(o.useImperativeHandle)(t,(function(){return{listRef:k}})),Object(o.useEffect)((function(){x()}),[]),Object(o.useEffect)((function(){v&&N(null===E||void 0===E?void 0:E.current.listRef)}),[E]),Object(o.useEffect)((function(){v&&null!==k&&void 0!==k&&k.current&&g&&-1!==D.indexOf(g)&&(b>0?(a[g]=b,k.current.jumpToScrollTop(b)):a[g]>0?("search"!==g||"search"===g&&"h5"===n.platform)&&setTimeout((function(){k.current.jumpToScrollTop(a[g])})):a.isJumpingToTop&&(a.removeJumpingToTop(),k.current.onBackTop()))}),[b,v,null===k||void 0===k?void 0:k.current,g]);var S=function(e){var t;if(e&&e.scrollTop&&v&&null!==k&&void 0!==k&&null!==(t=k.current)&&void 0!==t&&t.currentScrollTop){var n=e.scrollTop;n&&g&&(a[g]=n);var r=a.playingVideoDom;if(r){var i=a.playingVideoPos,o=r.offsetHeight+i;i>0&&(o<n||i>window.innerHeight+n)&&a.pauseWebPlayingVideo()}if(a.playingAudioDom){var s=a.playingAudioPos;s>0&&(56+s<n||s>window.innerHeight+n)&&a.pauseWebPlayingAudio()}u({scrollTop:n})}else u()},P=f?S:Object(d.b)(S,50);return"pc"===n.platform?Object(i.jsx)(B,W(W({onScroll:P,pageName:g,platform:n.platform},O),{},{ref:E})):Object(i.jsx)(w,W(W({onScroll:P,pageName:g,platform:n.platform},O),{},{ref:E}))})),V=Object(u.c)("site","baselayout")(Object(u.d)(F));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=Object(o.forwardRef)((function(e,t){return Object(i.jsx)(V,X(X({},e),{},{ref:t}))}));t.a=q},JMBi:function(e,t,n){"use strict";n("ma9I");var r=n("nKUr"),a=n("q1tI"),i=n("kMSe"),o="_Kqf4g26Ypi8Zx05VQ0ZV",s="_2xwRE-IGzpXfzZVwvuUVQb",c="q1fgK4CCkj2J4ORcn_jys",u="_2Jh-11UjQ6TJ03tOrZIlWp",l="_2L9tEHgnzGA_7RmP80pzaq",d="_3ra7hwAuLM_1WyJI_eWe5Q",p="_270FUYd3HmFgn-yMMKDvQN",f="_29-UzTzVGT2_U3khUCaqrN",h=n("h29V"),v=n.n(h),m=n("MCNy"),b=n.n(m),y=n("z6Ap");n("toAj");t.a=Object(i.c)("baselayout")(Object(i.d)((function(e){var t,n=e.isPay,i=void 0!==n&&n,h=e.coverUrl,m=e.url,g=e.time,j=(e.money,e.status),x=void 0===j?0:j,O=e.onPay,w=void 0===O?y.e:O,C=e.baselayout,k=void 0===C?{}:C,N=e.v_width,T=void 0===N?null:N,D=e.v_height,E=void 0===D?null:D,S=e.onVideoReady,P=void 0===S?y.e:S,A=e.updateViewCount,R=void 0===A?y.e:A,I=null,_=Object(a.useRef)(),L=Object(a.useState)(null),M=L[0],B=L[1],U=Object(a.useState)(null),W=U[0],F=U[1];return Object(a.useEffect)((function(){var e=_.current.getBoundingClientRect(),t=function(e){var t,n,r=e.parentWidth,a=void 0===r?343:r,i=e.v_width,o=void 0===i?null:i,s=e.v_height,c=void 0===s?null:s,u=e.viewHeight;if(o&&c&&o<c){var l=c,d=o;if(u/c>.7)t=l=(.7*u).toFixed(2),(n=d=(o*(l/c).toFixed(2)).toFixed(2))>a&&(n=a,t=(t*(a/d).toFixed(2)).toFixed(2));else{var p=(d/l).toFixed(2),f=(.75*f).toFixed(2);n=(l/d).toFixed(2),t=(f*p).toFixed(2)}}else n=a,t=o&&c?(a/(o/c).toFixed(2)).toFixed(2):(9*a/16).toFixed(2)||"224";return{width:n,height:t}}({parentWidth:(null===e||void 0===e?void 0:e.width)||343,v_width:T,v_height:E,viewHeight:window.innerHeight}),n=t.width,r=t.height,a="NaN"!==r&&r?r:0;B(n),F(a)}),[]),Object(a.useEffect)((function(){var e;null!==_&&void 0!==_&&null!==(e=_.current)&&void 0!==e&&e.clientHeight&&P&&P()}),[null===_||void 0===_||null===(t=_.current)||void 0===t?void 0:t.clientHeight]),Object(r.jsxs)("div",{id:"common-video-play",className:o,style:{width:"".concat(M,"px"),height:"".concat(W,"px")},ref:_,children:[M&&Object(r.jsx)(v.a,{className:s,onReady:function(e){I=e},onPlay:function(e){var t,n,r,a;(R(),I&&e&&k)&&(k.playingVideoDom&&k.pauseWebPlayingVideo(e.target),k.playingAudioDom&&k.pauseWebPlayingAudio(),k.playingVideoDom=e.target,k.playingVideoPos=(null===(t=e.target)||void 0===t||null===(n=t.parentNode)||void 0===n||null===(r=n.parentNode)||void 0===r||null===(a=r.parentNode)||void 0===a?void 0:a.offsetTop)||-1)},src:m,width:M,height:W,poster:h,duration:g,playsinline:!0}),i&&Object(r.jsx)("div",{className:c,onClick:w}),!i&&1!==x&&Object(r.jsx)("div",{className:c,children:Object(r.jsxs)("div",{className:"".concat(u," ").concat(0===x?d:f),children:[Object(r.jsx)(b.a,{className:p,size:20,name:0===x?"TipsOutlined":"WrongOutlined"}),Object(r.jsx)("span",{className:l,children:0===x?"\u89c6\u9891\u6b63\u5728\u8f6c\u7801\u4e2d\uff0c\u8f6c\u7801\u6210\u529f\u540e\u624d\u80fd\u6b63\u5e38\u663e\u793a\uff01":"\u9519\u8bef"})]})})]})})))},"JW/Y":function(e,t,n){"use strict";var r=n("QykG"),a="shared",i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function(e){var t,n;o.prototype.init.call(this),this.type_=e||a,this.push=function(e){this.type_!==a&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=i(e.dts,n),e.pts=i(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:i}},JuNc:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n("ma9I"),n("sMBO");var r=n("nKUr"),a=n("MCNy"),i=n.n(a),o=n("882Z"),s=n.n(o),c="_9CP_2JKlikZkZvITJFYNg",u="_1BJ0TPX7seax_EdN-avJCk",l="_3Vk0XhP1N5lSGCWHWsh8KE",d="lOm7rnefV9cdI87SKMOer",p="Cwr9pOdtOeakmG_0ORtSe",f="ZQjf60lWuoIjrsKuPA_YT",h="_1XdurWzOcqjdd7Gv9DwjHL",v="_1g0ZsYOwC04hrkWtVAXEsU",m="_1QaOoxlDBpmY8kByE9QDuh",b="_2OX-DTr-u0mLKSpG88nZHf",y="_2UqSCL8HJU6odhVRWfNFgU",g="_1Oc8X2lJCMfkV1Hb3Krjvc",j="_12WZblT-1SFYqjVKjDYU6g",x="_2vsbkrDUDWQUXF4hpAypMF",O="UYp9v1sM0C-YCOhdS8B9W",w="zWyx9JvbNqKamrxPiVsdc",C=n("Bvw4"),k=(n("q1tI"),n("+Lwc"),n("TSYQ")),N=n.n(k);function T(e){var t=0;e.isEssence&&(t+=1),e.isPay&&(t+=1),e.isReward&&(t+=1),e.isRed&&(t+=1);var n="pc"===e.platform;return Object(r.jsxs)("div",{className:c,children:[Object(r.jsx)(C.a,{isShowUserInfo:!e.hideInfoPopip&&"pc"===e.platform,userId:e.userId,className:N()(l,u),circle:!0,image:e.avatar,name:e.name||"",onClick:function(t){return e.onClick&&e.onClick(t)},unifyOnClick:e.unifyOnClick}),Object(r.jsxs)("div",{className:d,children:[Object(r.jsxs)("div",{className:p,children:[Object(r.jsx)("div",{className:N()(f,"pc"===e.platform&&h,u),onClick:function(t){return e.onClick(t)},children:e.name}),!e.isAnonymous&&e.groupName&&Object(r.jsx)("div",{className:"".concat(v," ").concat(t>3?m:""),children:e.groupName})]}),Object(r.jsxs)("div",{className:b,children:[e.time&&Object(r.jsx)("span",{className:y,children:e.time.substr(0,10)}),e.location&&Object(r.jsxs)("div",{className:g,children:[Object(r.jsx)(i.a,{name:"PositionOutlined",size:14}),Object(r.jsx)("span",{children:e.location})]}),e.view&&Object(r.jsxs)("div",{className:j,children:[Object(r.jsx)(i.a,{name:"EyeOutlined",className:x,size:14}),Object(r.jsx)("span",{children:e.view})]})]})]}),Object(r.jsxs)("div",{className:O,children:[e.isEssence&&Object(r.jsx)(s.a,{type:"orange",children:t>2&&!n?"\u7cbe":"\u7cbe\u534e"}),e.isReward&&Object(r.jsx)(s.a,{type:"warning",children:t>2&&!n?"\u60ac":"\u60ac\u8d4f"}),e.isRed&&Object(r.jsx)(s.a,{type:"danger",children:t>2&&!n?"\u7ea2":"\u7ea2\u5305"}),e.isPay&&Object(r.jsx)(s.a,{type:"success",children:t>2&&!n?"\u4ed8":"\u4ed8\u8d39"}),"collect"===e.collect&&Object(r.jsx)(i.a,{className:w,name:"CollectOutlined",size:20})]})]})}},K4wu:function(e,t,n){var r=n("vgmO"),a=e.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};r.vttjs=a,r.WebVTT=a.WebVTT;var i=a.VTTCue,o=a.VTTRegion,s=r.VTTCue,c=r.VTTRegion;a.shim=function(){r.VTTCue=i,r.VTTRegion=o},a.restore=function(){r.VTTCue=s,r.VTTRegion=c},r.VTTCue||a.shim()},KAYj:function(e,t,n){"use strict";var r,a,i,o,s,c,u=n("f+Ey").toUnsigned,l=n("f+Ey").toHexString,d=n("FflX"),p=n("jv9p"),f=n("yqws"),h=n("ii1t"),v=n("29xw");r=function(e){return d(e,["moov","trak"]).reduce((function(e,t){var n,r,a,i,o;return(n=d(t,["tkhd"])[0])?(r=n[0],i=u(n[a=0===r?12:20]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]),(o=d(t,["mdia","mdhd"])[0])?(a=0===(r=o[0])?12:20,e[i]=u(o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3]),e):null):null}),{})},a=function(e,t){var n,r,a;return n=d(t,["moof","traf"]),r=[].concat.apply([],n.map((function(t){return d(t,["tfhd"]).map((function(n){var r,a,i;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),a=e[r]||9e4,(i="number"!==typeof(i=d(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0])||isNaN(i)?1/0:i)/a}))}))),a=Math.min.apply(null,r),isFinite(a)?a:0},i=function(e,t){var n,r=d(t,["moof","traf"]),a=0,i=0;if(r&&r.length){var o=d(r[0],["tfhd"])[0],s=d(r[0],["trun"])[0],c=d(r[0],["tfdt"])[0];if(o)n=f(o).trackId;if(c)a=v(c).baseMediaDecodeTime;if(s){var u=h(s);u.samples&&u.samples.length&&(i=u.samples[0].compositionTimeOffset||0)}}return(a+i)/(e[n]||9e4)},o=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=d(e,["mdia","hdlr"]),r=d(e,["tkhd"]);t.forEach((function(e,t){var a,i,o=p(e.subarray(8,12)),s=r[t];"vide"===o&&(i=0===(a=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?a.getUint32(12):a.getUint32(20),n.push(i))}))})),n},c=function(e){var t=0===e[0]?12:20;return u(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},s=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,a={},i=d(e,["tkhd"])[0];i&&(r=(t=new DataView(i.buffer,i.byteOffset,i.byteLength)).getUint8(0),a.id=0===r?t.getUint32(12):t.getUint32(20));var o=d(e,["mdia","hdlr"])[0];if(o){var s=p(o.subarray(8,12));a.type="vide"===s?"video":"soun"===s?"audio":s}var u=d(e,["mdia","minf","stbl","stsd"])[0];if(u){var f=u.subarray(8);a.codec=p(f.subarray(4,8));var h,v=d(f,[a.codec])[0];v&&(/^[a-z]vc[1-9]$/i.test(a.codec)?(h=v.subarray(78),"avcC"===p(h.subarray(4,8))&&h.length>11?(a.codec+=".",a.codec+=l(h[9]),a.codec+=l(h[10]),a.codec+=l(h[11])):a.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(a.codec)?(h=v.subarray(28),"esds"===p(h.subarray(4,8))&&h.length>20&&0!==h[19]?(a.codec+="."+l(h[19]),a.codec+="."+l(h[20]>>>2&63).replace(/^0/,"")):a.codec="mp4a.40.2"):a.codec=a.codec.toLowerCase())}var m=d(e,["mdia","mdhd"])[0];m&&(a.timescale=c(m)),n.push(a)})),n},e.exports={findBox:d,parseType:p,timescale:r,startTime:a,compositionStartTime:i,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:c}},KN4Y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=(r=n("vgmO"))&&"object"===typeof r&&"default"in r?r.default:r,i={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},o=["video","audio","text"],s=["Video","Audio","Text"],c=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},u=function(e){return e.map(c)},l=function(e){void 0===e&&(e="");var t=e.split(","),n={},r=[];return t.forEach((function(e){var t;e=e.trim(),o.forEach((function(r){var a=i[r].exec(e.toLowerCase());if(a&&!(a.length<=1)){t=r;var o=e.substring(0,a[1].length),s=e.replace(o,"");n[r]={type:o,details:s}}})),t||r.push(e)})),r.length&&(n.unknown=r),n},d=function(e){return void 0===e&&(e=""),i.audio.test(e.trim().toLowerCase())},p=function(e){return void 0===e&&(e=""),i.text.test(e.trim().toLowerCase())},f=function(e){if(e&&"string"===typeof e){var t=e.toLowerCase().split(",").map((function(e){return c(e.trim())})),n="video";1===t.length&&d(t[0])?n="audio":1===t.length&&p(t[0])&&(n="application");var r="mp4";return t.every((function(e){return i.mp4.test(e)}))?r="mp4":t.every((function(e){return i.webm.test(e)}))?r="webm":t.every((function(e){return i.ogg.test(e)}))&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}};t.DEFAULT_AUDIO_CODEC="mp4a.40.2",t.DEFAULT_VIDEO_CODEC="avc1.4d400d",t.browserSupportsCodec=function(e){return void 0===e&&(e=""),a.MediaSource&&a.MediaSource.isTypeSupported&&a.MediaSource.isTypeSupported(f(e))||!1},t.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var a=n[r];if(a.default&&a.playlists)return l(a.playlists[0].attributes.CODECS)}return null},t.getMimeForCodec=f,t.isAudioCodec=d,t.isTextCodec=p,t.isVideoCodec=function(e){return void 0===e&&(e=""),i.video.test(e.trim().toLowerCase())},t.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return u([e])[0]}))},t.muxerSupportsCodec=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<s.length;t++){if(i["muxer"+s[t]].test(e))return!0}return!1}))},t.parseCodecs=l,t.translateLegacyCodec=c,t.translateLegacyCodecs=u},KdhP:function(e,t,n){function r(e){this.options=e||{locator:{}}}function a(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,i=n.domBuilder||new a,s=n.errorHandler,c=n.locator,l=n.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&i.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof a)return t;e=t}var r={},i=e instanceof Function;function s(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,i,c),r.domBuilder=n.domBuilder||i,/\/x?html?$/.test(t)&&(d.nbsp="\xa0",d.copy="\xa9",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,d):r.errorHandler.error("invalid doc source"),i.doc},a.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var a=this.doc,o=a.createElementNS(e,n||t),s=r.length;c(this,o),this.currentElement=o,this.locator&&i(this.locator,o);for(var u=0;u<s;u++){e=r.getURI(u);var l=r.getValue(u),d=(n=r.getQName(u),a.createAttributeNS(e,n));this.locator&&i(r.getLocator(u),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var a=r.createDocumentType(e,t,n);this.locator&&i(this.locator,a),c(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,o(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){a.prototype[e]=function(){return null}}));var u=n("1h1e").XMLReader,l=t.DOMImplementation=n("dJxt").DOMImplementation;t.XMLSerializer=n("dJxt").XMLSerializer,t.DOMParser=r},LveU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressWebAdapter=void 0;t.ProgressWebAdapter={}},MVII:function(e,t,n){"use strict";n("pjDv"),n("2B1R"),n("07d7"),n("5s+n"),n("PKPk"),Object.defineProperty(t,"__esModule",{value:!0}),t.getRect=function(e,t){return new Promise((function(n,r){e.current?n(t?Array.from(e.current.querySelectorAll(t)).map((function(e){return e.getBoundingClientRect()})):[e.current.getBoundingClientRect()]):r()}))}},NDL1:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("8OJ3"));var i=function(e,t){var n=t.src,r=t.poster,i=t.initialTime,o=(0,a.default)(e,t);return n&&o.src(n),r&&o.poster(r),i&&o.currentTime(i),o};t.default=i},NOng:function(e,t,n){"use strict";var r=n("nKUr"),a=n("q1tI"),i=n("kMSe"),o="_3-Nkbgdq1VVUHgcGhbazWx",s="_3W079lABRO8drxfAg_CI5c",c="_3PglodLzP-ZUBcrzGx_mnB",u=n("64aw"),l=n.n(u),d=n("z6Ap");t.a=Object(i.c)("baselayout")(Object(i.d)((function(e){var t=e.isPay,n=void 0!==t&&t,i=e.url,u=e.onPay,p=void 0===u?d.e:u,f=e.baselayout,h=e.updateViewCount,v=void 0===h?d.e:h,m=Object(a.useRef)(),b=Object(a.useRef)();return Object(r.jsx)("div",{className:o,children:n?Object(r.jsx)("div",{className:s,children:Object(r.jsx)("img",{src:"/dzq-img/pay-audio.png",className:c,onClick:p})}):Object(r.jsx)("div",{ref:b,children:Object(r.jsx)(l.a,{src:i,onPlay:function(){var e,t,n=null===m||void 0===m||null===(e=m.current)||void 0===e||null===(t=e.getState())||void 0===t?void 0:t.audioCtx;if(v(),n&&f&&m&&b){var r,a,o,s,c,u,l,d,p,h,y,g=(null===b||void 0===b||null===(r=b.current)||void 0===r||null===(a=r.parentNode)||void 0===a||null===(o=a.previousElementSibling)||void 0===o?void 0:o.offsetHeight)||0,j=(null===b||void 0===b||null===(s=b.current)||void 0===s||null===(c=s.parentNode)||void 0===c||null===(u=c.parentNode)||void 0===u||null===(l=u.previousElementSibling)||void 0===l?void 0:l.offsetHeight)||0,x=g+((null===b||void 0===b||null===(d=b.current)||void 0===d||null===(p=d.parentNode)||void 0===p||null===(h=p.parentNode)||void 0===h||null===(y=h.parentNode)||void 0===y?void 0:y.offsetTop)||0)+j;f.playingVideoDom&&f.pauseWebPlayingVideo(),f.playingAudioDom&&f.pauseWebPlayingAudio(i),f.playingAudioPos=x>0?x:-1,f.playingAudioDom=n,f.playingAudioWrapperId=i}},disabled:!i,ref:m})})})})))},NsZL:function(e,t){var n,r,a,i,o,s,c,u=9e4;n=function(e){return e*u},r=function(e,t){return e*t},a=function(e){return e/u},i=function(e,t){return e/t},o=function(e,t){return n(i(e,t))},s=function(e,t){return r(a(e),t)},c=function(e,t,n){return a(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:u,secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:a,audioTsToSeconds:i,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:c}},OEh5:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");n("ma9I"),n("zKZe"),Object.defineProperty(t,"__esModule",{value:!0}),t.SliderWebLayout=void 0;var i=r(n("pVnL")),o=r(n("lSNA")),s=r(n("o0o1"));n("ls82");var c=r(n("yXPU")),u=r(n("J4zp")),l=r(n("QILm")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=r(n("TSYQ")),f=n("VTYn"),h=n("0UJW"),v=n("a20H");function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}t.SliderWebLayout=function(e){var t=Object.assign({},e),n=(0,f.useConfig)().clsPrefix,r=(0,h.useDefaultValue)(t,0),a=r.className,m=r.value,b=r.onChange,y=r.min,g=r.max,j=r.step,x=r.disabled,O=r.formatter,w=(0,l.default)(r,["className","value","onChange","min","max","step","disabled","formatter"]),C=Math.max(100,g),k=(0,d.useState)(null),N=(0,u.default)(k,2),T=N[0],D=N[1],E=(0,d.useState)(null),S=(0,u.default)(E,2),P=S[0],A=S[1],R=(0,d.useState)(null),I=(0,u.default)(R,2),_=I[0],L=I[1],M=(0,d.useRef)(!1),B=(0,d.useRef)(null),U=function(e){return Math.round(Math.max(y,Math.min(g,e))/j)*j},W=function(e){return"targetTouches"in e?e.targetTouches[0]:e},F=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),H(e)},V=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),Y()},z=function(e){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault()};function X(){document.removeEventListener("mousemove",H),document.removeEventListener("touchstart",z),document.removeEventListener("touchmove",F),document.removeEventListener("mouseup",Y),document.removeEventListener("touchend",V)}var q=function(e){if(("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),!x){M.current=!0;var t=W(e).pageX;D(t),A(U(m)),X(),document.addEventListener("mousemove",H),document.addEventListener("touchstart",z),document.addEventListener("touchmove",F,{passive:!1}),document.addEventListener("mouseup",Y),document.addEventListener("touchend",V,{passive:!1})}},H=function(e){if(!x&&M.current){var t=W(e).pageX,n=U(P+(t-T)/_.width*C);b(n,{event:e})}},Y=function(){X(),M.current=!1};(0,d.useEffect)((function(){return G(),function(){X()}}),[]);var G=function(){var e=(0,c.default)(s.default.mark((function e(){var t,n,r;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.getRect)(B);case 2:t=e.sent,n=(0,u.default)(t,1),r=n[0],L(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=O(m);return d.default.createElement("div",(0,i.default)({className:(0,p.default)("".concat(n,"-slider"),a)},w),d.default.createElement("div",{className:"".concat(n,"-slider__progress"),onTouchEnd:function(e){if(!x){var t="undefined"!==typeof e.changedTouches[0].x?e.changedTouches[0].x:e.changedTouches[0].clientX,n=U((t-_.left)/_.width*C);b(n,{event:e})}},ref:B},d.default.createElement("div",{className:"".concat(n,"-slider__progress--stick ").concat(n,"-slider__feature")}),d.default.createElement("div",{className:"".concat(n,"-slider__progress__button"),style:{left:"".concat(m/C*100,"%")},onTouchStart:q,onTouchMove:H,onTouchEnd:Y,onMouseDown:q,onMouseMove:H,onDragStart:function(e){return e.preventDefault()},onMouseUp:Y}),d.default.createElement("div",{className:(0,p.default)("".concat(n,"-slider__progress--active"),(0,o.default)({},"".concat(n,"-slider__progress--disabled"),x)),style:{width:"".concat(m/C*100,"%")}})),d.default.createElement("div",{className:"".concat(n,"-slider__feature")}),K&&d.default.createElement("div",{className:"".concat(n,"-slider__value")},K))}},PEFd:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");n("ma9I"),n("x0AG"),n("2B1R"),n("+2oP"),Object.defineProperty(t,"__esModule",{value:!0}),t.useIsReady=b,t.WebLayout=t.useReady=void 0;var i=r(n("lSNA")),o=r(n("o0o1"));n("ls82");var s=r(n("yXPU")),c=r(n("J4zp")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),l=r(n("TSYQ")),d=n("0UJW"),p=n("MVII"),f=n("nmBk"),h=n("VTYn");function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var m=function(e){(0,u.useEffect)((function(){e()}),[])};function b(){var e=(0,u.useState)(!1),t=(0,c.default)(e,2),n=t[0],r=t[1];return m((function(){return r(!0)})),n}t.useReady=m;var y=function(e){var t=e.children,n=e.placement,r=void 0===n?"top":n,a=e.scrollable,v=void 0===a?"true":a,m=e.tabBarExtraContent,y=e.className,g=e.style,j=e.type,x=void 0===j?"card":j,O=(0,h.useConfig)().clsPrefix,w=(0,u.useMemo)((function(){return Array.isArray(t)?t:[t]}),[t]),C=(0,d.useDefault)(e.activeId,e.defaultActiveId||(w[0]?w[0].props.id:void 0),e.onActive),k=(0,c.default)(C,2),N=k[0],T=k[1],D=w.findIndex((function(e){return e.props.id===N})),E=(0,u.useRef)(0),S=b(),P=(0,u.useState)([0,0]),A=(0,c.default)(P,2),R=(0,c.default)(A[0],2),I=R[0],_=(R[1],A[1]),L=(0,u.useRef)(null);(0,u.useEffect)((function(){L.current&&L.current.addEventListener("touchmove",(function(e){e.preventDefault()}))}),[]);var M=(0,u.useCallback)((0,s.default)(o.default.mark((function e(){var t,n,r,a,i,s,u,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:if(v){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,p.getRect)(L,".dzq-tabs__scroll");case 6:return t=e.sent,n=(0,c.default)(t,1),r=n[0],e.next=11,(0,p.getRect)(L,".dzq-tabs__item");case 11:if(a=e.sent,-1!==D&&r&&a[D]){e.next=14;break}return e.abrupt("return");case 14:if(i=a[D],"width",s=a.slice(0,D).reduce((function(e,t){return e+t.width}),0),u=s-(r.width-i.width)/2,l=a.reduce((function(e,t){return e+t.width}),0),!(u<=0)){e.next=22;break}return _([0,0]),e.abrupt("return");case 22:if(!(u>=l-r.width)){e.next=25;break}return _([l-r.width,0]),e.abrupt("return");case 25:_([u,0]);case 26:case"end":return e.stop()}}),e)}))),[D,S,v]);(0,u.useEffect)((function(){S&&M()}),[S,M]);var B=function(){var e=(0,s.default)(o.default.mark((function e(t){var n,r,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.persist(),e.next=3,(0,p.getRect)(L,".dzq-tabs__scroll");case 3:return n=e.sent,r=(0,c.default)(n,1),a=r[0],e.next=8,(0,p.getRect)(L,".dzq-tabs__item");case 8:i=e.sent,_((function(e){var n=(0,c.default)(e,1)[0],r=(0,f.get)(t,"touches[0].clientX")-E.current;E.current=(0,f.get)(t,"touches[0].clientX");var o=n-3*r,s=i.reduce((function(e,t){return e+t.width}),0);return o<=0?[0,0]:o>=s-a.width?[s-a.width,0]:[o,0]}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U="".concat(O,"-tabs__placement--").concat(r);return u.default.createElement("div",{className:(0,l.default)("".concat(O,"-tabs"),U,y),style:g},u.default.createElement("div",{className:(0,l.default)("".concat(O,"-tabs__bar"),{"is-card":"card"===x}),ref:L},u.default.createElement("div",{className:(0,l.default)("".concat(O,"-tabs__scroll"),(0,i.default)({},"".concat(O,"-tabs__scroll--external"),m)),onTouchStart:function(e){e.persist(),E.current=(0,f.get)(e,"touches[0].clientX")},onTouchMove:B},u.default.createElement("div",{className:"".concat(O,"-tabs__list"),style:{transform:"translateX(".concat(-I,"px)")}},w.map((function(e){var t=e.props,n=t.id===N?"is-active":"is-inactive";return u.default.createElement("div",{key:t.id,className:(0,l.default)("".concat(O,"-tabs__item"),n,"".concat(O,"-tabs__direction--top"),t.className),style:t.style,onClick:function(){T(t.id)}},u.default.createElement("div",{className:"".concat(O,"-tabs__label")},t.label))})))),m&&u.default.createElement("div",{className:"".concat(O,"-tabs__external")},m)),u.default.createElement("div",{className:"".concat(O,"-tabs__panel")},w.map((function(e){var t=e.props;return u.default.createElement("div",{key:t.id,className:(0,l.default)("".concat(O,"-tabs__content"),t.id===N?"is-active":"is-inactive")},t.id===N?t.children:null)}))))};t.WebLayout=y,y.TabPanel=function(e){return u.default.createElement("div",null)}},Qj6V:function(e,t,n){"use strict";var r=n("rnXk"),a=function(e){var t=31&e[1];return t<<=8,t|=e[2]},i=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=a(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=i(e),n=4+o(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=i(e),r=4+o(e);if(n&&(r+=e[r]+1),1&e[r+5]){var a;a=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<a;){var c=r+s;t[(31&e[c+1])<<8|e[c+2]]=e[c],s+=5+((15&e[c+3])<<8|e[c+4])}return t}},parsePayloadUnitStartIndicator:i,parsePesType:function(e,t){switch(t[a(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!i(e))return null;var t=4+o(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+o(e),n=e.subarray(t),r=0,a=0,i=!1;a<n.byteLength-3;a++)if(1===n[a+2]){r=a+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}a+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[a+3])&&(i=!0);do{r++}while(1!==n[r]&&r<n.length);a=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[a+3])&&(i=!0),a=r-2,r+=3;break;default:r+=3}return n=n.subarray(a),r-=a,a=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[a+3])&&(i=!0),i}}},QykG:function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,a,i;if(n=e[t])if(2===arguments.length)for(a=n.length,r=0;r<a;++r)n[r].call(this,arguments[1]);else{for(i=[],r=arguments.length,r=1;r<arguments.length;++r)i.push(arguments[r]);for(a=n.length,r=0;r<a;++r)n[r].apply(this,i)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},r.prototype.partialFlush=function(e){this.trigger("partialdone",e)},r.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},r.prototype.reset=function(e){this.trigger("reset",e)},e.exports=r},R8I6:function(e,t,n){"use strict";n("fbCW"),n("2B1R"),n("x83w"),n("R5XZ");var r=n("nKUr"),a=n("RIqP"),i=n.n(a),o=n("q1tI"),s=n("kMSe"),c="_3nARpw3gxKerBFQjopL2Pj",u="f4aPr5K1oT7132R35ZEVB",l="_28Hnx-OnzFUE7YVc2uBd1T",d="dYshj79vg2W1kIndYO6vR",p="_1UzsEyrG9AMTodryL1TBHD",f="_3kuCzFaffCRLYok-2AaUc4",h=n("MCNy"),v=n.n(h),m=n("wdT/"),b=n.n(m),y=n("z6Ap"),g=n("20a2"),j=n("cZ5D"),x=n("uRAQ");t.a=Object(g.withRouter)(Object(s.c)("user","message")(Object(s.d)((function(e){var t=e.router,n=e.user,a=e.fixed,s=void 0===a||a,h=e.placeholder,m=void 0!==h&&h,g=e.curr,O=void 0===g?"home":g,w=e.onClick,C=void 0===w?y.e:w,k=e.message,N=k.totalUnread,T=k.readUnreadCount,D=Object(o.useCallback)((function(e,t){return e===t}),[O]),E=Object(o.useState)([{icon:"HomeOutlined",text:"\u9996\u9875",active:D(O,"home"),router:"/"},{icon:"FindOutlined",text:"\u53d1\u73b0",active:D(O,"search"),router:"/search"},{icon:"PlusOutlined",router:"/thread/post"},{icon:"MailOutlined",text:"\u6d88\u606f",active:D(O,"message"),router:"/message"},{icon:"ProfessionOutlined",text:"\u6211\u7684",active:D(O,"my"),router:"/my"}]),S=E[0],P=E[1],A=Object(o.useRef)(),R=function e(){n.id&&(T(),A.current=setTimeout((function(){e()}),x.b))};Object(o.useEffect)((function(){return R(),function(){return clearTimeout(A.current)}}),[]);var I=function(e,r){if("/thread/post"===e.router){var a=n.permissions;if(a&&a.createThread&&!a.createThread.enable)return void b.a.info({content:"\u60a8\u6682\u65e0\u53d1\u5e16\u6743\u9650"})}C(e,r);var o=i()(S);e.text&&(o.find((function(e){return e.active})).active=!1,o[r].active=!0,P(o)),t.push(e.router)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:c,style:{position:s?"fixed":""},children:S.map((function(e,t){return e.text?Object(r.jsxs)("div",{className:u+(e.active?" ".concat(l):""),onClick:function(){return I(e,t)},children:["MailOutlined"===e.icon?Object(r.jsx)(j.a,{dotStyle:{top:"-6px"},unreadCount:N,children:Object(r.jsx)(v.a,{name:e.icon,size:22})}):Object(r.jsx)(v.a,{name:e.icon,size:20}),Object(r.jsx)("div",{className:d,children:e.text})]},t):Object(r.jsx)("div",{style:{flex:1,textAlign:"center"},onClick:function(){return I(e,t)},children:Object(r.jsx)("div",{className:p,children:Object(r.jsx)(v.a,{name:e.icon,size:28,color:"#fff"})})},t)}))}),s&&m&&Object(r.jsx)("div",{className:f})]})}))))},RiCf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderWebAdapter=void 0;t.SliderWebAdapter={}},RiVy:function(e,t,n){"use strict";function r(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent.toLowerCase();return/micromessenger/.test(e)}n.d(t,"a",(function(){return r}))},S1Q7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.WebLayout=void 0;var a=r(n("W8MJ")),i=r(n("PJYZ")),o=r(n("lSNA")),s=r(n("lwsE")),c=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("q1tI")),p=n("VTYn"),f=r(n("TSYQ")),h=r(n("NDL1")),v=r(n("nrUO")),m=r(n("uhBA")),b=r(n("Vhm6"));function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=new(function(e){(0,c.default)(n,e);var t=y(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return n}(m.default)),j=function(e){(0,c.default)(n,e);var t=y(n);function n(e){var r;return(0,s.default)(this,n),r=t.call(this,e),(0,o.default)((0,i.default)(r),"player",void 0),(0,o.default)((0,i.default)(r),"videoNode",void 0),r}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.player=(0,h.default)(this.videoNode,this.props),(0,v.default)(this.player,this.props),this.props.onReady&&this.props.onReady(this.player),(0,b.default)(this.player,g,this.props)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,r=t.className,a=this.context.clsPrefix;return d.default.createElement("div",{style:n,className:(0,f.default)("".concat(a,"-video"),r)},d.default.createElement("div",{"data-vjs-player":!0},d.default.createElement("video",{ref:function(t){return e.videoNode=t},"x5-video-player-type":"h5-page","t7-video-player-type":"inline","webkit-playsinline":"isiPhoneShowPlaysinline",className:"video-js"})))}}]),n}(d.default.Component);t.WebLayout=j,(0,o.default)(j,"contextType",p.ConfigContext)},SIfR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useWebAdapter=void 0;var r=n("q1tI");t.useWebAdapter=function(){return{abc:(0,r.useCallback)((function(){console.log("test")}),[])}}},SMZ2:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.PullDownRefreshWebLayout=void 0;var i=r(n("lSNA")),o=r(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),c=r(n("TSYQ")),u=n("VTYn"),l=n("8/jF");function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.PullDownRefreshWebLayout=function(e){var t=e.damping,n=void 0===t?80:t,r=e.onRefresh,a=void 0===r?function(){}:r,i=e.isFinished,d=e.children,p=e.height,h=e.status,v=(0,u.useConfig)().clsPrefix,m=(0,s.useState)(""),b=(0,o.default)(m,2),y=b[0],g=b[1],j=(0,s.useState)({height:"0",overflowY:"auto",overflowX:"hidden"}),x=(0,o.default)(j,2),O=x[0],w=x[1],C=(0,s.useRef)(),k=(0,s.useRef)(),N=(0,s.useRef)(0),T=(0,s.useRef)(0);(0,s.useEffect)((function(){C.current&&(C.current.style.height="".concat(parseInt(p),"px"),w(f(f({},O),{},{height:"".concat(parseInt(p),"px"),overflowY:"auto",overflowX:"hidden"})))}),[p,C]),(0,s.useEffect)((function(){i&&(g(""),T.current=0,w(f(f({},O),{},{marginTop:0,transition:"all 0.3s"})))}),[i]);var D=function(e){var t=N.current-T.current,r=O.marginTop;t<=-40&&C.current.scrollTop<=0?(r=Math.abs(t)<n?"".concat(Math.abs(t)/2,"px"):"".concat(n/2,"px"),g("\u6b63\u5728\u5237\u65b0"),a()):0>t&&t>-40?(r=0,g("")):g(""),w(f(f({},O),{},{marginTop:r}))};return s.default.createElement("div",{className:(0,c.default)("".concat(v,"-pull-refresh"))},h||s.default.createElement("div",{className:(0,c.default)("".concat(v,"-pull-refresh__loading")),ref:k},y),s.default.createElement("div",{id:"list",ref:C,style:O,className:(0,c.default)("".concat(v,"-pull-refresh__list")),onTouchStart:function(e){var t=e.touches;t=void 0===t?[]:t;var n=(0,o.default)(t,2),r=n[0],a=void 0===r?{}:r;n[1];N.current=a.pageY},onTouchEnd:D,onTouchMove:function(e){var t=e.touches;t=void 0===t?[]:t;var r=(0,o.default)(t,2),a=r[0],i=void 0===a?{}:a;r[1];T.current=i.pageY;var s=N.current-i.pageY;if(s<0&&C.current.scrollTop<=0){(0,l.preventDefault)(e),Math.abs(s)>40?g("\u677e\u624b\u7acb\u5373\u5237\u65b0"):g("\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0");var c=Math.abs(s)>n?"".concat(n/2,"px"):"".concat(Math.abs(s)/2,"px");w(f(f({},O),{},{marginTop:c,transition:"all 0.3s"}))}},onTouchCancel:D},d))}},STnV:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u}));var r={SURE:"sure",PAYWAY:"payway",PAY:"pay",WALLET_PASSWORD:"walletPassword",RESULT:"result",SET_PASSWORD:"setPassword"},a={WX:"weixin",WALLET:"wallet"},i={WX_PAY_OK:"get_brand_wcpay_request:ok",WX_PAY_CANCEL:"get_brand_wcpay_request:cancel",WX_PAY_FAIL:"get_brand_wcpay_request:fail"},o={WX_QRCODE:10,WX_H5:11,WX_OFFICAL:12,WX_MINI_PROGRAM:13,WALLET:20},s={PENDING_PAY:0,PAID:1,CANCEL_PAY:2,FAIL_PAY:3,OUT_DATE_PAY:4},c={REGEISTER_SITE:1,REWARD:2,THEME:3,AUTHORITY_GROUP:4,PUT_PROBLEM:5,ATTACHMEMENT:7,RED_PACKET:9,POST_REWARD:10,COMBIE_PAYMENT:11},u={NOT_IN_WEIXIN_PAY:{Code:"pbx_0001",Message:"\u5fae\u4fe1\u5916\u6d4f\u89c8\u5668\u65e0\u6cd5\u62c9\u8d77\u4ed8\u6b3e"},IN_IOS:{Code:"pbx_0002",Message:"\u7531\u4e8e\u76f8\u5173\u89c4\u8303\uff0cIOS\u7cfb\u7edf\u4e14\u5fae\u4fe1\u5185\uff0c\u7981\u6b62\u8fdb\u884c\u6b64\u64cd\u4f5c\uff0c\u8bf7\u66f4\u6362\u5176\u5b83\u9014\u5f84\u64cd\u4f5c"},WX_PAY_CANCEL:{Code:"pbx_0003",Message:"\u5fae\u4fe1\u652f\u4ed8\u53d6\u6d88"},WX_PAY_FAIL:{Code:"pbx_0004",Message:"\u5fae\u4fe1\u652f\u4ed8\u62c9\u8d77\u5931\u8d25"},NETWORK_ERROR:{Code:"pbx_9999",Message:"\u7f51\u7edc\u9519\u8bef"},WX_MINI_PAY_CREATE_FAILED:{Code:"pbx_0005",Message:"\u62c9\u8d77\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u652f\u4ed8\u5931\u8d25"}}},TGR9:function(e,t,n){"use strict";n("ma9I"),n("pDQq"),Object.defineProperty(t,"__esModule",{value:!0}),t.createCallbackManager=void 0;t.createCallbackManager=function(){var e=[];return{add:function(t){e.push(t)},remove:function(t){var n=-1;e.forEach((function(e,r){e===t&&(n=r)})),n>-1&&e.splice(n,1)},count:function(){return e.length},trigger:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(e){if("function"===typeof e)e.apply(void 0,n);else{var t=e.callback,r=e.ctx;t.call.apply(t,[r].concat(n))}}))}}}},TJTF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStr=t.toFixed=void 0;t.toFixed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return.01*Math.floor(100*e)};t.randomStr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t.length,r="",a=0;a<e;a++){var i=Math.floor(100*Math.random()*n%n);r+=t[i]}return r}},"TP+V":function(e,t,n){"use strict";n.r(t);n("ma9I"),n("yXV3"),n("oVuX"),n("qePV"),n("rB9j"),n("Rm1S"),n("UxlC");var r=n("nKUr"),a=n("o0o1"),i=n.n(a),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("lwsE"),u=n.n(c),l=n("W8MJ"),d=n.n(l),p=n("7W2i"),f=n.n(p),h=n("a1gu"),v=n.n(h),m=n("Nsbk"),b=n.n(m),y=n("q1tI"),g=n.n(y),j=n("20a2"),x=n("kMSe"),O=n("sho3"),w=(n("TeQF"),n("2B1R"),n("hByQ"),n("R5XZ"),n("B5JU")),C=n.n(w),k=n("B5zU"),N=n("HgT0"),T=(n("ACYA"),n("TSYQ")),D=n.n(T);var E,S=n("wrmh"),P=n("n/mO"),A=n("MCNy"),R=n.n(A),I=n("DetZ"),_=n.n(I),L=n("wdT/"),M=n.n(L),B=n("z8Av"),U=n("IvHc"),W=n("woGs"),F=n("33mu"),V=function(e){var t=e.showContent,n=e.setTop;return Object(r.jsxs)("div",{className:"".concat(F.a.setTop," ").concat(n?F.a.inTop:F.a.outTop),children:[Object(r.jsx)("span",{className:F.a.setTopIcon,children:Object(r.jsx)(R.a,{className:F.a.icon,name:"CheckOutlined"})}),t?"\u7f6e\u9876\u6210\u529f":"\u5df2\u53d6\u6d88\u7f6e\u9876"]})},z=n("aIz1"),X=n("c7hV"),q=n("iVyX"),H=n("dQ0f"),Y=n("TibX"),G=n("z6Ap"),K=n("rOX+"),J=n.n(K),Q=n("fkjL"),Z=n("k8W2"),$=n.n(Z),ee=n("5f2u"),te=n.n(ee),ne=n("x2xJ"),re=n.n(ne),ae=n("/G68"),ie=function(e){var t=e.visible,n=e.onOkClick,a=Object(y.useState)(""),o=a[0],c=a[1],u=function(){"function"===typeof(null===e||void 0===e?void 0:e.onCancel)&&e.onCancel(),"function"===typeof(null===e||void 0===e?void 0:e.onCancel)&&c("")},l=function(){var e=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""===o||Number(o)<=0||Number(o)>1e6)){e.next=4;break}return(""===o||Number(o)<=0)&&M.a.error({content:"\u91d1\u989d\u4e0d\u80fd\u4e3a0"}),Number(o)>1e6&&M.a.error({content:"\u91d1\u989d\u4e0d\u80fd\u8d85\u8fc7100\u4e07"}),e.abrupt("return");case 4:if("function"!==typeof n){e.next=16;break}return e.prev=6,e.next=9,n(o);case 9:e.sent&&c(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($.a,{position:"bottom",visible:t,onClose:u,children:Object(r.jsxs)("div",{className:ae.a.container,children:[Object(r.jsx)("div",{className:ae.a.header,children:"\u652f\u4ed8\u4f5c\u8005\u7ee7\u7eed\u521b\u4f5c"}),Object(r.jsxs)("div",{className:ae.a.rewardInput,children:[Object(r.jsx)("span",{className:ae.a.prepend,children:"\u652f\u4ed8\u91d1\u989d"}),Object(r.jsx)(_.a,{mode:"number",placeholder:"\u91d1\u989d",className:ae.a.input,value:o,onChange:function(e){return function(e){var t=e.match(/([1-9]\d{0,6}|0)(\.\d{0,2})?/);c(t?t[0]:"")}(e.target.value)}}),Object(r.jsx)("span",{className:ae.a.append,children:"\u5143"})]}),Object(r.jsx)("div",{className:ae.a.rewardList,children:[1,2,5,10,20,50,88,128].map((function(e){return Object(r.jsxs)("div",{onClick:function(){return function(e){c(e)}(e)},className:D()(ae.a.reward,Number(o)===e&&ae.a.actived),children:["\uffe5",e]},e)}))}),Object(r.jsx)(re.a,{className:ae.a.divider}),Object(r.jsxs)("div",{className:ae.a.button,children:[Object(r.jsx)(te.a,{onClick:u,className:ae.a.cancel,type:"default",children:"\u53d6\u6d88"}),Object(r.jsx)(te.a,{onClick:l,className:ae.a.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})},oe=n("kjBj"),se=n("RiVy"),ce=n("5MUC"),ue=n("RGe9"),le=n("NOng"),de=n("HLiX"),pe=n("Hg/G"),fe=n("JMBi"),he=(n("pNMO"),n("4Brf"),n("07d7"),n("9p2j")),ve=n.n(he),me=n("zzKd"),be=function(e){var t=e.type,n=void 0===t?ye.RED_PACK:t,a=e.remaining,i=void 0===a?0:a,o=e.received,s=void 0===o?0:o,c=e.condition,u=void 0===c?0:c,l=Object(y.useMemo)((function(){return Number(s)>0?Number(s)/(Number(s)+Number(i))*100:0}),[i,s]),d={},p="",f="";return n===ye.RED_PACK?(d={remaining:Object(r.jsxs)(r.Fragment,{children:["\u5269\u4f59",Object(r.jsx)("span",{className:me.a.count,children:i}),"\u4e2a"]}),received:"\u5df2\u9886\u53d6".concat(s,"\u4e2a"),receive:u?"\u96c6\u8d5e\u9886\u7ea2\u5305":"\u8bc4\u8bba\u9886\u7ea2\u5305"},p=me.a.redPack,f="danger"):n===ye.BOUNTY&&(d={remaining:Object(r.jsxs)(r.Fragment,{children:["\u5269\u4f59",Object(r.jsx)("span",{className:me.a.count,children:i}),"\u5143"]}),received:"\u5df2\u53d1\u653e".concat(s,"\u5143")},p=me.a.bounty,f="default"),Object(r.jsx)("div",{className:"".concat(me.a.container," ").concat(p),children:Object(r.jsx)(ve.a,{type:"circle",percent:l,theme:f,lineWidth:12,className:me.a.progress,isShowText:!1,lineCap:"round",children:Object(r.jsxs)("div",{className:me.a.content,children:[n===ye.RED_PACK?Object(r.jsx)("img",{className:me.a.icon,src:"/dzq-img/redpacket-mini.png"}):Object(r.jsx)("img",{className:me.a.icon,src:"/dzq-img/coin.png"}),Object(r.jsx)("div",{className:me.a.remaining,children:d.remaining}),Object(r.jsx)("div",{className:me.a.received,children:d.received}),d.receive&&Object(r.jsx)("div",{className:me.a.receive,children:d.receive})]})})})},ye={RED_PACK:Symbol("\u7ea2\u5305"),BOUNTY:Symbol("\u8d4f\u91d1")},ge=g.a.memo(be),je=n("fEx9"),xe=n("W7Eq"),Oe=n("lW1z"),we=n("JuNc"),Ce=n("zBpv"),ke=Object(x.c)("user")(Object(x.d)((function(e){var t,n,a,o,c,u,l,d,p,f,h,v,m,b,y,g,j,x,O,w,C,k,N,T,E,S,P,A,I,_,L,M,B,U,W,F,V,z,X,q,H,G,K,J,Q,Z,$,ee,ne,re,ae,ie,oe,se,he,ve=e.store,me=(null===ve||void 0===ve||null===(t=ve.threadData)||void 0===t?void 0:t.content)||{},be=me.text,ke=me.indexes,Ne=null===ve||void 0===ve?void 0:ve.threadData,Te=Ne.parentCategoryName,De=Ne.categoryName,Ee={postId:null===ve||void 0===ve||null===(n=ve.threadData)||void 0===n?void 0:n.postId,threadId:null===ve||void 0===ve||null===(a=ve.threadData)||void 0===a?void 0:a.threadId,platform:"h5",payType:null===ve||void 0===ve||null===(o=ve.threadData)||void 0===o?void 0:o.payType},Se=1===((null===ve||void 0===ve||null===(c=ve.threadData)||void 0===c?void 0:c.isApproved)||0),Pe=(null===ve||void 0===ve||null===(u=ve.threadData)||void 0===u||null===(l=u.displayTag)||void 0===l?void 0:l.isEssence)||!1,Ae=0===(null===ve||void 0===ve||null===(d=ve.threadData)||void 0===d?void 0:d.payType),Re=2===(null===ve||void 0===ve||null===(p=ve.threadData)||void 0===p?void 0:p.payType)&&!1===(null===ve||void 0===ve||null===(f=ve.threadData)||void 0===f?void 0:f.paid),Ie=(null===ve||void 0===ve||null===(h=ve.threadData)||void 0===h?void 0:h.attachmentPrice)||0,_e=!qe&&Re&&!Ue&&!Be,Le=1===(null===ve||void 0===ve||null===(v=ve.threadData)||void 0===v?void 0:v.payType),Me=(null===ve||void 0===ve||null===(m=ve.threadData)||void 0===m?void 0:m.price)||0,Be=!0===(null===ve||void 0===ve||null===(b=ve.threadData)||void 0===b?void 0:b.paid),Ue=(1===(null===ve||void 0===ve||null===(y=ve.threadData)||void 0===y?void 0:y.payType)&&(null===ve||void 0===ve||null===(g=ve.threadData)||void 0===g||g.paid),(null===(j=e.user)||void 0===j||null===(x=j.userInfo)||void 0===x?void 0:x.id)&&(null===(O=e.user)||void 0===O||null===(w=O.userInfo)||void 0===w?void 0:w.id)===(null===ve||void 0===ve||null===(C=ve.threadData)||void 0===C?void 0:C.userId)),We=null===ve||void 0===ve||null===(k=ve.threadData)||void 0===k||null===(N=k.displayTag)||void 0===N?void 0:N.isRedPack,Fe=null===ve||void 0===ve||null===(T=ve.threadData)||void 0===T||null===(E=T.displayTag)||void 0===E?void 0:E.isReward,Ve=Ae&&(null===ve||void 0===ve||null===(S=ve.threadData)||void 0===S?void 0:S.ability.canBeReward)&&!We&&!Fe,ze=Ae&&(null===ve||void 0===ve||null===(P=ve.threadData)||void 0===P?void 0:P.ability.canBeReward)&&!We&&!Fe,Xe=null===ve||void 0===ve||null===(A=ve.threadData)||void 0===A?void 0:A.isReward,qe=null===ve||void 0===ve||null===(I=ve.threadData)||void 0===I?void 0:I.ability.canFreeViewPost,He=Object(ce.a)(ke),Ye=function(){var t=s()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"function"===typeof e.onPayClick&&e.onPayClick();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ge=function(){"function"===typeof e.onRewardClick&&e.onRewardClick()};return Object(r.jsxs)("div",{className:"".concat(Ce.a.container),children:[Object(r.jsxs)("div",{className:Ce.a.header,children:[Object(r.jsx)("div",{className:Ce.a.userInfo,children:Object(r.jsx)(we.a,{name:(null===ve||void 0===ve||null===(_=ve.threadData)||void 0===_||null===(L=_.user)||void 0===L?void 0:L.nickname)||"",avatar:(null===ve||void 0===ve||null===(M=ve.threadData)||void 0===M||null===(B=M.user)||void 0===B?void 0:B.avatar)||"",location:(null===ve||void 0===ve||null===(U=ve.threadData)||void 0===U?void 0:U.position.location)||"",groupName:(null===ve||void 0===ve||null===(W=ve.threadData)||void 0===W||null===(F=W.group)||void 0===F?void 0:F.groupName)||"",view:"".concat(null===ve||void 0===ve||null===(V=ve.threadData)||void 0===V?void 0:V.viewCount)||"",time:"".concat(null===ve||void 0===ve||null===(z=ve.threadData)||void 0===z?void 0:z.diffTime)||"",isEssence:Pe,isPay:!Ae,isReward:Fe,isRed:We,userId:null===ve||void 0===ve||null===(X=ve.threadData)||void 0===X||null===(q=X.user)||void 0===q?void 0:q.userId,onClick:function(t){"function"===typeof e.onUserClick&&e.onUserClick(t)}})}),(null===e||void 0===e||null===(H=e.user)||void 0===H?void 0:H.isLogin())&&Se&&Object(r.jsx)("div",{className:Ce.a.more,onClick:function(){e.fun.moreClick()},children:Object(r.jsx)(R.a,{size:20,color:"#8590A6",name:"MoreVOutlined"})})]}),Object(r.jsxs)("div",{className:Ce.a.body,children:[(null===ve||void 0===ve||null===(G=ve.threadData)||void 0===G?void 0:G.title)&&Object(r.jsx)("div",{className:Ce.a.title,children:null===ve||void 0===ve||null===(K=ve.threadData)||void 0===K?void 0:K.title}),be&&Object(r.jsx)(de.a,{useShowMore:!1,content:be||""}),He.VIDEO&&Object(r.jsx)(fe.a,{url:He.VIDEO.mediaUrl,coverUrl:He.VIDEO.coverUrl,v_height:He.VIDEO.height||null,v_width:He.VIDEO.width||null,status:He.VIDEO.status}),He.IMAGE&&Object(r.jsx)(ue.a,{flat:!0,platform:"h5",imgData:He.IMAGE,isPay:_e,onPay:Ye}),He.REWARD&&Object(r.jsx)("div",{className:Ce.a.rewardText,children:He.REWARD&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:Ce.a.rewardMoney,children:["\u672c\u5e16\u5411\u6240\u6709\u4eba\u60ac\u8d4f",Object(r.jsx)("span",{className:Ce.a.rewardNumber,children:He.REWARD.money||0}),"\u5143"]}),Object(r.jsxs)("div",{className:Ce.a.rewardTime,children:[He.REWARD.expiredAt,"\u622a\u6b62\u60ac\u8d4f"]})]})}),(He.RED_PACKET||He.REWARD)&&Object(r.jsxs)("div",{className:Ce.a.reward,children:[He.REWARD&&Object(r.jsx)("div",{className:Ce.a.rewardBody,children:Object(r.jsx)(ge,{type:ye.BOUNTY,remaining:Number(He.REWARD.remainMoney||0),received:Object(Oe.a)(Number(He.REWARD.money||0),Number(He.REWARD.remainMoney||0))})}),He.RED_PACKET&&Object(r.jsxs)("div",{children:[Object(r.jsx)(ge,{remaining:Number(He.RED_PACKET.remainNumber||0),received:Number(He.RED_PACKET.number||0)-Number(He.RED_PACKET.remainNumber||0),condition:He.RED_PACKET.condition}),!!He.RED_PACKET.condition&&Object(r.jsxs)("div",{className:Ce.a.redPacketLikeNum,children:["\u8bc4\u8bba\u96c6",He.RED_PACKET.likenum,"\u8d5e\u9886\u7ea2\u5305"]})]})]}),He.GOODS&&Object(r.jsxs)("div",{children:[Object(r.jsx)(pe.a,{image:He.GOODS.imagePath,amount:He.GOODS.price,title:He.GOODS.title,className:Ce.a.product}),Object(r.jsxs)(te.a,{className:Ce.a.buyBtn,type:"danger",onClick:function(){var e;(e=He.GOODS.detailContent)&&window.open(e)},children:[Object(r.jsx)(R.a,{className:Ce.a.payIcon,name:"ShoppingCartOutlined",size:20}),Object(r.jsx)("span",{className:Ce.a.buyText,children:"\u8d2d\u4e70\u5546\u54c1"})]})]}),He.VOICE&&Object(r.jsx)(le.a,{url:He.VOICE.mediaUrl}),He.VOTE&&Object(r.jsx)(xe.a,{attachments:He.VOTE,threadId:null===ve||void 0===ve||null===(J=ve.threadData)||void 0===J?void 0:J.threadId}),_e&&Object(r.jsx)("div",{style:{textAlign:"center"},onClick:Ye,children:Object(r.jsxs)(te.a,{className:Ce.a.payButton,type:"primary",children:[Object(r.jsx)(R.a,{className:Ce.a.payIcon,name:"GoldCoinOutlined",size:16}),Object(r.jsxs)("p",{children:["\u652f\u4ed8",Ie,"\u5143\u67e5\u770b\u9644\u4ef6\u5185\u5bb9"]})]})}),(Te||De)&&Object(r.jsx)("div",{className:Ce.a.tag,onClick:function(){"function"===typeof e.onTagClick&&e.onTagClick()},children:Te?"".concat(Te,"/").concat(De):De}),!qe&&Le&&!Ue&&!Be&&Object(r.jsx)("div",{style:{textAlign:"center"},onClick:Ye,children:Object(r.jsxs)(te.a,{className:Ce.a.payButton,type:"primary",children:[Object(r.jsx)(R.a,{className:Ce.a.payIcon,name:"GoldCoinOutlined",size:16}),"\u652f\u4ed8",Me,"\u5143\u67e5\u770b\u5269\u4f59\u5185\u5bb9"]})}),ze&&Se&&!Ue&&Object(r.jsx)("div",{className:Ce.a.rewardContianer,children:Object(r.jsxs)(te.a,{onClick:Ge,className:Ce.a.rewardButton,type:"primary",children:[Object(r.jsx)(R.a,{className:Ce.a.payIcon,name:"HeartOutlined",size:20}),Object(r.jsx)("span",{className:Ce.a.rewardext,children:"\u6253\u8d4f"})]})})]}),Se&&Object(r.jsxs)("div",{className:Ce.a.footer,children:[Object(r.jsxs)("div",{className:Ce.a.thumbs,children:[Le&&Object(r.jsx)(R.a,{className:D()(Ce.a.payIcon,Be&&Ce.a.actived),name:"GoldCoinOutlined",size:20}),Ve&&Object(r.jsx)(R.a,{onClick:function(){return!Ue&&Ge()},className:D()(Ce.a.payIcon,Xe&&Ce.a.actived),name:"HeartOutlined",size:20}),Object(r.jsxs)("div",{className:D()(Ce.a.liked,(null===ve||void 0===ve||null===(Q=ve.threadData)||void 0===Q?void 0:Q.isLike)&&Ce.a.actived),onClick:Object(Y.a)((function(){"function"===typeof e.onLikeClick&&e.onLikeClick()}),500),children:[Object(r.jsx)(R.a,{name:"LikeOutlined",size:20}),(null===ve||void 0===ve||null===(Z=ve.threadData)||void 0===Z||null===($=Z.likeReward)||void 0===$?void 0:$.likePayCount)>0&&Object(r.jsx)("span",{className:Ce.a.likedNumber,children:(null===ve||void 0===ve||null===(ee=ve.threadData)||void 0===ee||null===(ne=ee.likeReward)||void 0===ne?void 0:ne.likePayCount)||""})]}),Object(r.jsx)("div",{className:Ce.a.likeReward,children:Object(r.jsx)(je.a,{tipData:Ee,imgs:(null===ve||void 0===ve||null===(re=ve.threadData)||void 0===re||null===(ae=re.likeReward)||void 0===ae?void 0:ae.users)||[],showMore:!0,showCount:5,platform:"h5"})})]}),(null===ve||void 0===ve||null===(ie=ve.threadData)||void 0===ie||null===(oe=ie.likeReward)||void 0===oe?void 0:oe.shareCount)>0&&Object(r.jsxs)("div",{className:Ce.a.shareCount,children:[null===ve||void 0===ve||null===(se=ve.threadData)||void 0===se||null===(he=se.likeReward)||void 0===he?void 0:he.shareCount,"\u6b21\u5206\u4eab"]})]})]})}))),Ne=(n("ToJy"),n("7mQc")),Te=(n("toAj"),n("40Bt")),De=n.n(Te),Ee=n("gOng"),Se=function(e){var t=e.visible,n=e.onOkClick,a=e.onCancel,o=e.rewardAmount,c=Object(y.useState)(0),u=c[0],l=c[1],d=Object(y.useState)(0),p=d[0],f=d[1],h=function(){var e=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=11;break}return e.prev=1,e.next=4,n(p);case 4:e.sent&&(l(0),f(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($.a,{position:"bottom",visible:t,onClose:a,children:Object(r.jsxs)("div",{className:Ee.a.container,children:[Object(r.jsxs)("div",{className:Ee.a.main,children:[Object(r.jsx)("div",{className:Ee.a.header,children:"\u91c7\u7eb3\u56de\u590d\u60ac\u8d4f"}),Object(r.jsxs)("div",{className:Ee.a.body,children:[Object(r.jsxs)("div",{className:Ee.a.percentage,children:[Object(r.jsx)("div",{className:Ee.a.text,children:"\u60ac\u8d4f\u767e\u5206\u6bd4"}),Object(r.jsxs)("div",{className:Ee.a.slider,children:[Object(r.jsx)(De.a,{value:u,defaultValue:u,max:100,min:0,step:1,onChange:Object(Y.b)((function(e){return function(e){l(Number(e)),f((.01*Number(e)*o).toFixed(2))}(e)}),100)}),Object(r.jsx)("div",{className:Ee.a.perCent,children:"%"})]})]}),Object(r.jsxs)("div",{className:Ee.a.rewardMoney,children:[Object(r.jsx)("div",{className:Ee.a.text,children:"\u60ac\u8d4f\u91d1\u989d"}),Object(r.jsxs)("div",{className:Ee.a.moneyNum,children:[p,"\u5143"]})]})]})]}),Object(r.jsxs)("div",{className:Ee.a.button,children:[Object(r.jsx)(te.a,{full:!0,onClick:a,className:Ee.a.cancel,type:"text",size:"medium",children:"\u53d6\u6d88"}),Object(r.jsx)(te.a,{full:!0,onClick:h,className:Ee.a.ok,type:"primary",size:"medium",children:"\u786e\u5b9a"})]})]})})},Pe=n("iJKD");function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var Re,Ie=Object(x.c)("thread")(E=Object(x.c)("comment")(E=Object(x.c)("user")(E=Object(x.c)("site")(E=Object(x.d)(E=function(e){f()(n,e);var t=Ae(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).onSortClick=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof r.props.sort){e.next=11;break}return e.prev=1,e.next=4,r.props.sort(!r.state.commentSort);case 4:e.sent&&r.setState({commentSort:!r.state.commentSort}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),r.state={showAboptPopup:!1,showCommentInput:!1,commentSort:!0,showDeletePopup:!1,showReplyDeletePopup:!1,inputText:"\u8bf7\u8f93\u5165\u5185\u5bb9"},r.commentData=null,r.replyData=null,r.recordCommentLike={id:null,status:null},r.recordReplyLike={id:null,status:null},r}return d()(n,[{key:"likeClick",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:if(this.recordCommentLike.id!==t.id&&(this.recordCommentLike.status=null),this.recordCommentLike.status===t.isLiked){e.next=12;break}this.recordCommentLike.status=t.isLiked,this.recordCommentLike.id=t.id,e.next=13;break;case 12:return e.abrupt("return");case 13:return n={id:t.id,isLiked:!t.isLiked},e.next=16,this.props.comment.updateLiked(n,this.props.thread);case 16:r=e.sent,a=r.success,o=r.msg,a&&(this.props.thread.setCommentListDetailField(t.id,"isLiked",n.isLiked),s=n.isLiked?t.likeCount+1:t.likeCount-1,this.props.thread.setCommentListDetailField(t.id,"likeCount",s)),a||M.a.error({content:o});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replyLikeClick",value:function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return");case 2:if(this.props.user.isLogin()){e.next=6;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 6:if(this.recordReplyLike.id!==t.id&&(this.recordReplyLike.status=null),this.recordReplyLike.status===t.isLiked){e.next=12;break}this.recordReplyLike.status=t.isLiked,this.recordReplyLike.id=t.id,e.next=13;break;case 12:return e.abrupt("return");case 13:return r={id:t.id,isLiked:!t.isLiked},e.next=16,this.props.comment.updateLiked(r);case 16:a=e.sent,o=a.success,s=a.msg,o&&(this.props.thread.setReplyListDetailField(n.id,t.id,"isLiked",r.isLiked),c=r.isLiked?t.likeCount+1:t.likeCount-1,this.props.thread.setReplyListDetailField(n.id,t.id,"likeCount",c)),o||M.a.error({content:s});case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteClick",value:function(){var e=s()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=t,this.setState({showDeletePopup:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=s()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.commentData.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.props.comment.delete(this.commentData.id,this.props.thread);case 4:if(t=e.sent,n=t.success,r=t.msg,this.setState({showDeletePopup:!1}),!n){e.next=11;break}return M.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 11:M.a.error({content:r});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyDeleteClick",value:function(){var e=s()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=n,this.replyData=t,this.setState({showReplyDeletePopup:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"replyDeleteComment",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.replyData.id){e.next=2;break}return e.abrupt("return");case 2:return t={},this.replyData&&this.commentData&&(t.replyData=this.replyData,t.commentData=this.commentData),e.next=6,this.props.comment.deleteReplyComment(t,this.props.thread);case 6:if(n=e.sent,r=n.success,a=n.msg,this.setState({showReplyDeletePopup:!1}),!r){e.next=13;break}return M.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 13:M.a.error({content:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyClick",value:function(e){var t,n;if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=e,this.replyData=null;var r=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nickname)||(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userName);this.setState({showCommentInput:!0,inputText:r?"\u56de\u590d".concat(r):"\u8bf7\u8f93\u5165\u5185\u5bb9"})}},{key:"replyReplyClick",value:function(e,t){var n,r;if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=null,this.replyData=e,this.replyData.commentId=t.id;var a=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.nickname)||(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.userName);this.setState({showCommentInput:!0,inputText:a?"\u56de\u590d".concat(a):"\u8bf7\u8f93\u5165\u5185\u5bb9"})}},{key:"createReply",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:"",a=p.length>1&&void 0!==p[1]?p[1]:[],r.replace(/\s/g,"")||0!==a.length){e.next=6;break}return M.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 6:if(o=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id){e.next=9;break}return e.abrupt("return");case 9:return s={id:o,content:r},this.replyData&&(s.replyId=this.replyData.id,s.isComment=!0,s.commentId=this.replyData.commentId,s.commentPostId=this.replyData.id),this.commentData&&(s.replyId=this.commentData.id,s.isComment=!0,s.commentId=this.commentData.id),null!==a&&void 0!==a&&a.length&&(s.attachments=a.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),e.next=15,this.props.comment.createReply(s,this.props.thread);case 15:if(c=e.sent,u=c.success,l=c.msg,d=c.isApproved,!u){e.next=23;break}return this.setState({showCommentInput:!1,inputValue:""}),d?M.a.success({content:l}):M.a.warning({content:l}),e.abrupt("return",!0);case 23:M.a.error({content:l});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editClick",value:function(e){"function"===typeof this.props.onEditClick&&this.props.onEditClick(e)}},{key:"onCommentClick",value:function(e){var t,n,r,a;e.id&&null!==(t=this.props.thread)&&void 0!==t&&null!==(n=t.threadData)&&void 0!==n&&n.id&&this.props.router.push("/thread/comment/".concat(e.id,"?threadId=").concat(null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id))}},{key:"onAboptClick",value:function(e){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=e,this.setState({showAboptPopup:!0})}},{key:"onAboptOk",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=15;break}return o={postId:null===(n=this.commentData)||void 0===n?void 0:n.id,rewards:t,threadId:null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.threadId},e.next=4,this.props.thread.reward(o);case 4:if(s=e.sent,c=s.success,u=s.msg,!c){e.next=12;break}return this.setState({showAboptPopup:!1}),this.props.thread.fetchThreadDetail(o.threadId),M.a.success({content:"\u60ac\u8d4f".concat(t,"\u5143")}),e.abrupt("return",!0);case 12:M.a.error({content:u}),e.next=16;break;case 15:M.a.info({content:"\u60ac\u8d4f\u91d1\u989d\u4e0d\u80fd\u4e3a0"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAboptCancel",value:function(){this.commentData=null,this.setState({showAboptPopup:!1})}},{key:"avatarClick",value:function(e){var t=e.userId;t&&this.props.router.push("/user/".concat(t))}},{key:"replyAvatarClick",value:function(e,t,n){"function"===typeof this.props.replyAvatarClick&&this.props.replyAvatarClick(e,t,n)}},{key:"render",value:function(){var e,t,n,a,i,o,s,c,u,l,d,p,f=this,h=this.props.thread,v=h.totalCount,m=h.commentList,b=(null===(e=this.props.user)||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.id)&&(null===(n=this.props.user)||void 0===n||null===(a=n.userInfo)||void 0===a?void 0:a.id)===(null===(i=this.props.thread)||void 0===i||null===(o=i.threadData)||void 0===o?void 0:o.userId),g=null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c||null===(u=c.displayTag)||void 0===u?void 0:u.isReward,j=((null===(l=this.props.thread)||void 0===l||null===(d=l.threadData)||void 0===d?void 0:d.content)||{}).indexes,x=Object(ce.a)(j);return Object(r.jsxs)(y.Fragment,{children:[Object(r.jsxs)("div",{className:Pe.a.header,children:[Object(r.jsxs)("div",{className:Pe.a.number,children:["\u5171",v,"\u6761\u8bc4\u8bba"]}),Object(r.jsxs)("div",{className:Pe.a.sort,onClick:function(){return f.onSortClick()},children:[Object(r.jsx)(R.a,{className:Pe.a.sortIcon,name:"SortOutlined"}),Object(r.jsx)("span",{className:Pe.a.sortText,children:this.state.commentSort?"\u8bc4\u8bba\u4ece\u65b0\u5230\u65e7":"\u8bc4\u8bba\u4ece\u65e7\u5230\u65b0"})]})]}),Object(r.jsx)("div",{className:Pe.a.body,children:m.map((function(e,t){var n,a;return Object(r.jsx)("div",{className:Pe.a.commentItems,children:Object(r.jsx)(Ne.a,{data:e,likeClick:Object(Y.a)((function(){return f.likeClick(e)}),500),avatarClick:function(){return f.avatarClick(e)},replyClick:function(){return f.replyClick(e)},deleteClick:function(){return f.deleteClick(e)},editClick:function(){return f.editClick(e)},replyAvatarClick:function(t,n){return f.replyAvatarClick(t,e,n)},replyLikeClick:Object(Y.a)((function(t){return f.replyLikeClick(t,e)}),500),replyReplyClick:function(t){return f.replyReplyClick(t,e)},replyDeleteClick:function(t){return f.replyDeleteClick(t,e)},onCommentClick:function(){return f.onCommentClick(e)},onAboptClick:function(){return f.onAboptClick(e)},isShowOne:!0,isShowAdopt:b&&g&&(null===(n=f.props.thread)||void 0===n||null===(a=n.threadData)||void 0===a?void 0:a.userId)!==e.userId},e.id)},e.id||t)}))}),Object(r.jsx)(q.a,{visible:this.state.showCommentInput,inputText:this.state.inputText,onClose:function(){return f.setState({showCommentInput:!1})},onSubmit:function(e,t){return f.createReply(e,t)},site:this.props.site}),Object(r.jsx)(z.a,{visible:this.state.showDeletePopup,onClose:function(){return f.setState({showDeletePopup:!1})},onBtnClick:function(){return f.deleteComment()}}),Object(r.jsx)(z.a,{visible:this.state.showReplyDeletePopup,onClose:function(){return f.setState({showReplyDeletePopup:!1})},onBtnClick:function(){return f.replyDeleteComment()}}),(null===x||void 0===x||null===(p=x.REWARD)||void 0===p?void 0:p.money)&&Object(r.jsx)(Se,{rewardAmount:x.REWARD.money,visible:this.state.showAboptPopup,onCancel:function(){return f.onAboptCancel()},onOkClick:function(e){return f.onAboptOk(e)}})]})}}]),n}(g.a.Component))||E)||E)||E)||E)||E,_e=n("ni5c");function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var Me,Be=Object(x.c)("site")(Re=Object(x.c)("user")(Re=Object(x.c)("thread")(Re=Object(x.c)("comment")(Re=Object(x.c)("index")(Re=Object(x.c)("topic")(Re=Object(x.c)("search")(Re=Object(x.c)("vlist")(Re=Object(x.d)(Re=function(e){f()(n,e);var t=Le(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).onMoreClick=function(){r.setState({showMorePopup:!0})},r.onOperClick=function(e){if(!r.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});if(r.setState({showMorePopup:!1}),"stick"===e&&r.updateStick(),"essence"===e&&r.updateEssence(),"delete"===e&&r.setState({showDeletePopup:!0}),"edit"===e){var t,n,a,i;if(null===(t=r.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n||!n.id)return;r.props.router.push("/thread/post?id=".concat(null===(a=r.props.thread)||void 0===a||null===(i=a.threadData)||void 0===i?void 0:i.id))}"report"===e&&r.setState({showReportPopup:!0}),"collect"===e&&r.onCollectionClick(),"share"===e&&r.onShareClick()},r.state={loadWeiXin:!1,isShowWeiXinShare:!1,showReportPopup:!1,showDeletePopup:!1,showCommentInput:!1,showMorePopup:!1,showRewardPopup:!1,isCommentLoading:!1,setTop:!1,showContent:""},r.perPage=20,r.page=1,r.commentDataSort=!0,r.threadBodyRef=g.a.createRef(),r.commentDataRef=g.a.createRef(),r.position=0,r.nextPosition=0,r.flag=!0,r.comment=null,r.reportContent=["\u5e7f\u544a\u5783\u573e","\u8fdd\u89c4\u5185\u5bb9","\u6076\u610f\u704c\u6c34","\u91cd\u590d\u53d1\u5e16"],r.inputText="\u5176\u4ed6\u7406\u7531...",r}return d()(n,[{key:"handleOnScroll",value:function(){var e,t,n,r,a,i,o,s,c=null===(e=this.threadBodyRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollTop,u=null===(n=this.threadBodyRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.offsetHeight,l=null===(a=this.threadBodyRef)||void 0===a||null===(i=a.current)||void 0===i?void 0:i.scrollHeight,d=this.props.thread,p=d.isCommentReady,f=d.isNoMore;(this.props.thread.setScrollDistance(c),c+u>=l&&!this.state.isCommentLoading&&p&&!f&&(this.page=this.page+1,this.loadCommentList()),this.flag)&&(this.nextPosition=(null===(o=this.threadBodyRef)||void 0===o||null===(s=o.current)||void 0===s?void 0:s.scrollTop)||0)}},{key:"componentDidMount",value:function(){var e,t,n,r,a=this;this.position=(null===(e=this.commentDataRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetTop)-50,null!==(n=this.props)&&void 0!==n&&null!==(r=n.thread)&&void 0!==r&&r.isPositionToComment?setTimeout((function(){a.threadBodyRef.current.scrollTo(0,a.position)}),1e3):(this.threadBodyRef.current.scrollTo(0,this.props.thread.scrollDistance),this.setState({loadWeiXin:Object(se.a)()}))}},{key:"componentDidUpdate",value:function(){var e,t;this.props.thread.isReady&&(this.position=(null===(e=this.commentDataRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.offsetTop)-50)}},{key:"componentWillUnmount",value:function(){}},{key:"onMessageClick",value:function(){var e=this.flag?this.position:this.nextPosition;this.flag=!this.flag,this.threadBodyRef.current.scrollTo(0,e)}},{key:"onCollectionClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:return a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,o={id:a,isFavorite:!(null!==(r=this.props.thread)&&void 0!==r&&r.isFavorite)},e.next=8,this.props.thread.updateFavorite(o);case 8:if(s=e.sent,c=s.success,u=s.msg,!c){e.next=14;break}return M.a.success({content:o.isFavorite?"\u6536\u85cf\u6210\u529f":"\u53d6\u6d88\u6536\u85cf"}),e.abrupt("return");case 14:M.a.error({content:u});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCommentList",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.thread.isCommentReady,!this.state.isCommentLoading&&r){e.next=3;break}return e.abrupt("return");case 3:return this.setState({isCommentLoading:!0}),a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,o={id:a,page:this.page,perPage:this.perPage,sort:this.commentDataSort?"createdAt":"-createdAt"},e.next=8,this.props.thread.loadCommentList(o);case 8:if(s=e.sent,c=s.success,u=s.msg,this.setState({isCommentLoading:!1}),!c){e.next=14;break}return e.abrupt("return",!0);case 14:M.a.error({content:u});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSortChange",value:function(e){return this.commentDataSort=e,this.page=1,this.loadCommentList()}},{key:"onInputClick",value:function(){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.setState({showCommentInput:!0})}},{key:"onReportOk",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n={threadId:this.props.thread.threadData.threadId,type:1,reason:t,userId:this.props.user.userInfo.id},e.next=5,this.props.thread.createReports(n);case 5:if(r=e.sent,a=r.success,o=r.msg,!a){e.next=12;break}return M.a.success({content:"\u64cd\u4f5c\u6210\u529f"}),this.setState({showReportPopup:!1}),e.abrupt("return",!0);case 12:M.a.error({content:o});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setTopState",value:function(e){var t=this;this.setState({showContent:e,setTop:!this.state.setTop}),setTimeout((function(){t.setState({setTop:!t.state.setTop})}),2e3)}},{key:"updateStick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,s={id:o,isStick:!(null!==(r=this.props.thread)&&void 0!==r&&null!==(a=r.threadData)&&void 0!==a&&a.isStick)},e.next=4,this.props.thread.updateStick(s);case 4:if(c=e.sent,u=c.success,l=c.msg,!u){e.next=11;break}return this.setTopState(s.isStick),(null===(d=this.props)||void 0===d||null===(p=d.index)||void 0===p?void 0:p.refreshHomeData)&&this.props.index.refreshHomeData(),e.abrupt("return");case 11:M.a.error({content:l});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateEssence",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,c={id:s,isEssence:!(null!==(r=this.props.thread)&&void 0!==r&&null!==(a=r.threadData)&&void 0!==a&&null!==(o=a.displayTag)&&void 0!==o&&o.isEssence)},e.next=4,this.props.thread.updateEssence(c);case 4:if(u=e.sent,l=u.success,d=u.msg,this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic),!l){e.next=11;break}return M.a.success({content:"\u64cd\u4f5c\u6210\u529f"}),e.abrupt("return");case 11:M.a.error({content:d});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showDeletePopup:!1}),r=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,e.next=4,this.props.thread.delete(r,this.props.index,this.props.search,this.props.topic);case 4:if(a=e.sent,o=a.success,s=a.msg,!o){e.next=11;break}return M.a.success({content:"\u5220\u9664\u6210\u529f\uff0c\u5373\u5c06\u8df3\u8f6c\u81f3\u9996\u9875"}),setTimeout((function(){c.props.router.push("/")}),1e3),e.abrupt("return");case 11:M.a.error({content:s});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBtnClick",value:function(){this.delete(),this.setState({showDeletePopup:!1})}},{key:"onPublishClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:[],t.replace(/\s/g,"")||0!==n.length){e.next=6;break}return M.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 6:if(!this.comment){e.next=12;break}return e.next=9,this.updateComment(t,n);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,this.createComment(t,n);case 14:e.t0=e.sent;case 15:return e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createComment",value:function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,s,c,u,l,d,p,f,h,v,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id,u={id:c,content:t,sort:this.commentDataSort,isNoMore:null===(o=this.props)||void 0===o||null===(s=o.thread)||void 0===s?void 0:s.isNoMore,attachments:[]},null!==n&&void 0!==n&&n.length&&(u.attachments=n.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),e.next=5,this.props.comment.createComment(u,this.props.thread);case 5:if(l=e.sent,d=l.success,p=l.msg,f=l.isApproved,!d){e.next=17;break}return this.props.thread.updatePostCount(this.props.thread.totalCount),this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic),(null===(h=this.props.thread)||void 0===h||null===(v=h.threadData)||void 0===v||null===(m=v.displayTag)||void 0===m?void 0:m.isRedPack)&&this.props.thread.fetchThreadDetail(c),f?M.a.success({content:p}):M.a.warning({content:p}),this.setState({showCommentInput:!1}),e.abrupt("return",!0);case 17:M.a.error({content:p});case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.comment){e.next=2;break}return e.abrupt("return");case 2:return a=null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.id,o={id:a,pid:this.comment.id,content:t,attachments:[]},e.next=6,this.props.comment.updateComment(o,this.props.thread);case 6:if(s=e.sent,c=s.success,u=s.msg,l=s.isApproved,!c){e.next=14;break}return l?M.a.success({content:u}):M.a.warning({content:u}),this.setState({showCommentInput:!1}),e.abrupt("return",!0);case 14:M.a.error({content:u});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEditClick",value:function(e){this.comment=e,this.setState({inputValue:e.content,showCommentInput:!0})}},{key:"onClose",value:function(){this.setState({showCommentInput:!1}),this.comment=null}},{key:"onLikeClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:return c=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,u={id:c,pid:null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.postId,isLiked:!(null!==(o=this.props.thread)&&void 0!==o&&null!==(s=o.threadData)&&void 0!==s&&s.isLike)},e.next=8,this.props.thread.updateLiked(u,this.props.index,this.props.user,this.props.search,this.props.topic);case 8:l=e.sent,d=l.success,p=l.msg,d||M.a.error({content:p});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onShareClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(se.a)()){e.next=4;break}this.setState({isShowWeiXinShare:!0}),e.next=14;break;case 4:return M.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),s=(null===(t=this.props.thread)||void 0===t?void 0:t.threadData)||{},c=s.title,u=void 0===c?"":c,J()({title:u,path:"thread/".concat(null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.threadId)}),l=null===(a=this.props.thread)||void 0===a||null===(o=a.threadData)||void 0===o?void 0:o.id,e.next=10,this.props.thread.shareThread(l);case 10:d=e.sent,p=d.success,f=d.msg,p||M.a.error({content:f});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onPayClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:return a=this.props.thread.threadData,e.next=7,Object(Q.a)(a,null===(t=this.props.user)||void 0===t?void 0:t.userInfo);case 7:if(o=e.sent,!o.success||null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r||!r.threadId){e.next=13;break}return e.next=12,this.props.thread.fetchThreadDetail(null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c?void 0:c.threadId);case 12:this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRewardClick",value:function(){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.setState({showRewardPopup:!0})}},{key:"onRewardSubmit",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(Number(t))||null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r||!r.threadId||null===(a=this.props.thread)||void 0===a||null===(o=a.threadData)||void 0===o||!o.userId){e.next=9;break}return this.setState({showRewardPopup:!1}),u={amount:Number(t),threadId:this.props.thread.threadData.threadId,payeeId:this.props.thread.threadData.userId,title:(null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c?void 0:c.title)||"\u4e3b\u9898\u6253\u8d4f"},e.next=5,this.props.thread.rewardPay(u,this.props.user,this.props.index,this.props.search,this.props.topic);case 5:l=e.sent,d=l.success,p=l.msg,d||M.a.error({content:p});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTagClick",value:function(){var e,t,n=null===(e=this.props.thread)||void 0===e||null===(t=e.threadData)||void 0===t?void 0:t.categoryId;(n||"number"===typeof n)&&this.props.index.refreshHomeData({categoryIds:[n]}),this.props.vlist.resetPosition(),this.props.router.push("/")}},{key:"replyAvatarClick",value:function(e,t,n){if(2===n){var r=e.userId;if(!r)return;this.props.router.push("/user/".concat(r))}if(3===n){var a=e.commentUserId;if(!a)return;this.props.router.push("/user/".concat(a))}}},{key:"onUserClick",value:function(e){var t,n,r=(this.props.thread||{}).threadData;(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.userId)&&this.props.router.push("/user/".concat(null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.userId))}},{key:"render",value:function(){var e,t,n,a,i,o,s,c,u,l,d,p,f,h,v,m=this,b=this.props.thread,g=b.isReady,j=b.isCommentReady,x=b.isNoMore,O=b.totalCount,w=b.isCommentListError,C={moreClick:this.onMoreClick},T={canEdit:null===b||void 0===b||null===(e=b.threadData)||void 0===e||null===(t=e.ability)||void 0===t?void 0:t.canEdit,canDelete:null===b||void 0===b||null===(n=b.threadData)||void 0===n||null===(a=n.ability)||void 0===a?void 0:a.canDelete,canEssence:null===b||void 0===b||null===(i=b.threadData)||void 0===i||null===(o=i.ability)||void 0===o?void 0:o.canEssence,canStick:null===b||void 0===b||null===(s=b.threadData)||void 0===s||null===(c=s.ability)||void 0===c?void 0:c.canStick,canShare:this.props.user.isLogin(),canCollect:this.props.user.isLogin(),isAdmini:null===(u=this.props)||void 0===u||null===(l=u.user)||void 0===l?void 0:l.isAdmini},E={isEssence:null===b||void 0===b||null===(d=b.threadData)||void 0===d||null===(p=d.displayTag)||void 0===p?void 0:p.isEssence,isStick:null===b||void 0===b||null===(f=b.threadData)||void 0===f?void 0:f.isStick,isCollect:null===b||void 0===b?void 0:b.isFavorite},A=1===((null===b||void 0===b||null===(h=b.threadData)||void 0===h?void 0:h.isApproved)||0);return Object(r.jsxs)("div",{className:k.a.container,children:[Object(r.jsxs)("div",{className:k.a.header,children:[Object(r.jsx)(B.a,{}),g&&!A&&Object(r.jsxs)("div",{className:k.a.examine,children:[Object(r.jsx)(R.a,{className:k.a.tipsIcon,name:"TipsOutlined"}),Object(r.jsx)("span",{className:k.a.tipsText,children:"\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d\uff0c\u5ba1\u6838\u901a\u8fc7\u540e\u624d\u80fd\u6b63\u5e38\u663e\u793a\uff01"})]})]}),Object(r.jsxs)("div",{className:k.a.body,ref:this.threadBodyRef,onScrollCapture:Object(H.a)((function(){return m.handleOnScroll()}),1e3),children:[Object(r.jsx)(V,{showContent:this.state.showContent,setTop:this.state.setTop}),g?Object(r.jsx)(ke,{store:b,fun:C,onLikeClick:function(){return m.onLikeClick()},onOperClick:function(e){return m.onOperClick(e)},onCollectionClick:function(){return m.onCollectionClick()},onShareClick:function(){return m.onShareClick()},onReportClick:function(){return m.onReportClick()},onRewardClick:function(){return m.onRewardClick()},onTagClick:function(){return m.onTagClick()},onPayClick:function(){return m.onPayClick()},onUserClick:function(e){return m.onUserClick(e)}}):Object(r.jsx)(S.a,{type:"init"}),g&&A&&Object(r.jsx)("div",{className:"".concat(k.a.bottom),ref:this.commentDataRef,children:j?Object(r.jsxs)(y.Fragment,{children:[Object(r.jsx)(Ie,{router:this.props.router,sort:function(e){return m.onSortChange(e)},onEditClick:function(e){return m.onEditClick(e)},replyAvatarClick:function(e,t,n){return m.replyAvatarClick(e,t,n)}}),Object(r.jsx)(_e.a,{noMoreType:"line",isError:w,noMore:x})]}):Object(r.jsx)(S.a,{isError:w,type:"init"})})]}),g&&A&&Object(r.jsx)("div",{className:k.a.footerContainer,children:Object(r.jsxs)("div",{className:k.a.footer,children:[Object(r.jsx)("div",{className:N.a.inputClick,onClick:function(){return m.onInputClick()},children:Object(r.jsx)(_.a,{className:N.a.input,placeholder:"\u5199\u8bc4\u8bba",disabled:!0,prefixIcon:"EditOutlined"})}),Object(r.jsxs)("div",{className:N.a.operate,children:[Object(r.jsxs)("div",{className:N.a.icon,onClick:function(){return m.onMessageClick()},children:[O>0?Object(r.jsx)("div",{className:D()(N.a.badge,O<10&&N.a.isCricle),children:O>99?"99+":"".concat(O||"0")}):"",Object(r.jsx)(R.a,{size:"20",name:"MessageOutlined"})]}),Object(r.jsx)(R.a,{color:null!==(v=this.props.thread)&&void 0!==v&&v.isFavorite?P["--color-primary"]:"",className:N.a.icon,onClick:Object(Y.a)((function(){return m.onCollectionClick()}),500),size:"20",name:"CollectOutlinedBig"}),Object(r.jsx)(R.a,{onClick:Object(G.a)((function(){return m.onShareClick()}),1e3),className:N.a.icon,size:"20",name:"ShareAltOutlined"})]})]})}),g&&Object(r.jsxs)(y.Fragment,{children:[Object(r.jsx)(q.a,{visible:this.state.showCommentInput,onClose:function(){return m.onClose()},initValue:this.state.inputValue,onSubmit:function(e,t){return m.onPublishClick(e,t)},site:this.props.site}),Object(r.jsx)(X.a,{permissions:T,statuses:E,visible:this.state.showMorePopup,onClose:function(){return m.setState({showMorePopup:!1})},onSubmit:function(){return m.setState({showMorePopup:!1})},onOperClick:function(e){return m.onOperClick(e)}}),Object(r.jsx)(z.a,{visible:this.state.showDeletePopup,onClose:function(){return m.setState({showDeletePopup:!1})},onBtnClick:function(e){return m.onBtnClick(e)}}),Object(r.jsx)(W.a,{reportContent:this.reportContent,inputText:this.inputText,visible:this.state.showReportPopup,onCancel:function(){return m.setState({showReportPopup:!1})},onOkClick:function(e){return m.onReportOk(e)}}),Object(r.jsx)(ie,{visible:this.state.showRewardPopup,onCancel:function(){return m.setState({showRewardPopup:!1})},onOkClick:function(e){return m.onRewardSubmit(e)}}),this.state.loadWeiXin&&Object(r.jsx)(oe.a,{visible:this.state.isShowWeiXinShare,onClose:function(){return m.setState({isShowWeiXinShare:!1})},type:"thread"})]})]})}}]),n}(g.a.Component))||Re)||Re)||Re)||Re)||Re)||Re)||Re)||Re)||Re,Ue=Object(j.withRouter)(Be),We=n("JMpY"),Fe=n("iUiS"),Ve=n("E2V6"),ze=function(e){var t=e.visible,n=e.onOkClick,a=Object(y.useState)(""),o=a[0],c=a[1],u=function(){"function"===typeof(null===e||void 0===e?void 0:e.onCancel)&&e.onCancel(),"function"===typeof(null===e||void 0===e?void 0:e.onCancel)&&c("")},l=function(){var e=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(""===o||Number(o)<=0||Number(o)>1e6)){e.next=4;break}return(""===o||Number(o)<=0)&&M.a.error({content:"\u91d1\u989d\u4e0d\u80fd\u4e3a0"}),Number(o)>1e6&&M.a.error({content:"\u91d1\u989d\u4e0d\u80fd\u8d85\u8fc7100\u4e07"}),e.abrupt("return");case 4:if("function"!==typeof n){e.next=16;break}return e.prev=6,e.next=9,n(o);case 9:e.sent&&c(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($.a,{position:"center",visible:t,onClose:u,children:Object(r.jsxs)("div",{className:Ve.a.container,children:[Object(r.jsxs)("div",{className:Ve.a.header,children:[Object(r.jsx)("div",{className:Ve.a.headerLeft,children:"\u652f\u4ed8\u4f5c\u8005\u7ee7\u7eed\u521b\u4f5c"}),Object(r.jsx)(R.a,{className:Ve.a.headerIcon,size:14,name:"CloseOutlined",onClick:u})]}),Object(r.jsxs)("div",{className:Ve.a.rewardInput,children:[Object(r.jsx)("span",{className:Ve.a.prepend,children:"\u652f\u4ed8\u91d1\u989d"}),Object(r.jsx)(_.a,{mode:"number",placeholder:"\u91d1\u989d",className:Ve.a.input,value:o,onChange:function(e){return function(e){var t=e.match(/([1-9]\d{0,6}|0)(\.\d{0,2})?/);c(t?t[0]:"")}(e.target.value)}}),Object(r.jsx)("span",{className:Ve.a.append,children:"\u5143"})]}),Object(r.jsx)("div",{className:Ve.a.rewardList,children:[1,2,5,10,20,50,88,128].map((function(e){return Object(r.jsxs)("div",{onClick:function(){return function(e){c(e)}(e)},className:D()(Ve.a.reward,Number(o)===e&&Ve.a.actived),children:["\uffe5",e]},e)}))}),Object(r.jsxs)("div",{className:Ve.a.button,children:[Object(r.jsx)(te.a,{onClick:u,className:Ve.a.cancel,type:"default",children:"\u53d6\u6d88"}),Object(r.jsx)(te.a,{onClick:l,className:Ve.a.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})},Xe=n("INMq"),qe=n("KimE"),He=n("7O/2"),Ye=n.n(He),Ge=n("BGqZ"),Ke=n.n(Ge),Je=n("vEl/"),Qe=function(e){var t=e.visible,n=e.onOkClick,a=e.onCancel,o=e.inputText,c=e.reportContent,u=void 0===c?[]:c,l=Object(y.useState)(""),d=l[0],p=l[1],f=Object(y.useState)(""),h=f[0],v=f[1],m=Object(y.useState)(""),b=m[0],g=m[1],j=Object(y.useState)(!1),x=j[0],O=j[1],w=function(){var e=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b.length>450)){e.next=3;break}return M.a.error({content:"\u4e3e\u62a5\u5185\u5bb9\u4e0d\u80fd\u5927\u4e8e450\u4e2a\u5b57\u7b26"}),e.abrupt("return");case 3:if("function"!==typeof n){e.next=14;break}return e.prev=4,e.next=7,n(b);case 7:e.sent&&(O(!1),p(""),v(""),g("")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($.a,{position:"center",visible:t,onClose:a,children:Object(r.jsxs)("div",{className:Je.a.container,children:[Object(r.jsxs)("div",{className:Je.a.header,children:[Object(r.jsx)("div",{className:Je.a.headerLeft,children:"\u4e3e\u62a5"}),Object(r.jsx)("div",{className:Je.a.headerIcon,children:Object(r.jsx)(R.a,{size:12,name:"CloseOutlined",onClick:a})})]}),Object(r.jsxs)("div",{className:Je.a.body,children:[t&&Object(r.jsxs)(Ke.a.Group,{value:d,onChange:function(e){return function(e){"other"===e?(v(""),g("")):(p(e),g(u[Number(e)]))}(e)},children:[Object(r.jsx)("div",{className:Je.a.radioGroup,children:u.map((function(e,t){return Object(r.jsxs)("div",{className:Je.a.reportTitle,children:[Object(r.jsx)(Ke.a,{name:"".concat(t)}),Object(r.jsx)("div",{className:Je.a.content,children:e})]},t)}))}),Object(r.jsx)("div",{className:Je.a.other,children:Object(r.jsxs)("div",{className:Je.a.reportTitle,onClick:function(){O(!x)},style:{cursor:"pointer"},children:[Object(r.jsx)("div",{className:Je.a.content,children:"\u5176\u4ed6\u7406\u7531"}),Object(r.jsx)(R.a,{className:Je.a.reportIcon,size:12,name:x?"UpwardOutlined":"UnderOutlined"})]})})]}),x&&Object(r.jsx)("div",{className:Je.a.textarea,children:Object(r.jsx)(Ye.a,{className:Je.a.input,rows:5,showLimit:!0,value:h,onChange:function(e){return t=e.target.value,v(t),void g(t);var t},placeholder:o})})]}),Object(r.jsxs)("div",{className:Je.a.button,children:[Object(r.jsx)(te.a,{onClick:a,className:Je.a.cancel,children:"\u53d6\u6d88"}),Object(r.jsx)(te.a,{onClick:w,className:Je.a.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})},Ze=n("cjmN"),$e=function(e){var t=e.showContent,n=e.setTop;return Object(r.jsxs)("div",{className:"".concat(Ze.a.setTop," ").concat(n?Ze.a.inTop:Ze.a.outTop),children:[Object(r.jsx)("span",{className:Ze.a.setTopIcon,children:Object(r.jsx)(R.a,{className:Ze.a.icon,name:"CheckOutlined"})}),t?"\u7f6e\u9876\u6210\u529f":"\u5df2\u53d6\u6d88\u7f6e\u9876"]})},et=n("DT/J"),tt=function(e){var t=e.isShow;return Object(r.jsx)("div",{className:"".concat(et.a.examine," ").concat(et.a.setTop," ").concat(t?et.a.inTop:et.a.outTop),children:Object(r.jsxs)("div",{className:et.a.innerTip,children:[Object(r.jsx)(R.a,{className:et.a.tipsIcon,name:"TipsOutlined"}),Object(r.jsx)("span",{className:et.a.tipsText,children:"\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d\uff0c\u5ba1\u6838\u901a\u8fc7\u540e\u624d\u80fd\u6b63\u5e38\u663e\u793a\uff01"})]})})},nt=n("wXCO"),rt=n("Wpw2"),at=n("7BN5"),it=n("nfQ1"),ot=n.n(it),st=n("wdPI"),ct=Object(x.c)("user")(Object(x.d)((function(e){var t,n,a,o,c,u,l,d,p,f,h,v,m,b,y,g,j,x,O,w,C,k,N,T,E,S,P,A,I,_,L,M,B,U,W,F,V,z,X,q,H,G,K,J,Q,Z,$,ee,ne,ae,ie,oe,se,he,ve,me,be,Ce,ke,Ne,Te,De,Ee,Se,Pe,Ae,Re=e.store,Ie=(null===Re||void 0===Re||null===(t=Re.threadData)||void 0===t?void 0:t.content)||{},_e=Ie.text,Le=Ie.indexes,Me=null===Re||void 0===Re?void 0:Re.threadData,Be=Me.parentCategoryName,Ue=Me.categoryName,We={postId:null===Re||void 0===Re||null===(n=Re.threadData)||void 0===n?void 0:n.postId,threadId:null===Re||void 0===Re||null===(a=Re.threadData)||void 0===a?void 0:a.threadId,platform:"pc",payType:null===Re||void 0===Re||null===(o=Re.threadData)||void 0===o?void 0:o.payType},Fe=1===((null===Re||void 0===Re||null===(c=Re.threadData)||void 0===c?void 0:c.isApproved)||0),Ve=0===(null===Re||void 0===Re||null===(u=Re.threadData)||void 0===u?void 0:u.payType),ze=(null===Re||void 0===Re||null===(l=Re.threadData)||void 0===l||null===(d=l.displayTag)||void 0===d?void 0:d.isEssence)||!1,Xe=null===Re||void 0===Re||null===(p=Re.threadData)||void 0===p?void 0:p.isStick,qe=null===Re||void 0===Re||null===(f=Re.threadData)||void 0===f||null===(h=f.ability)||void 0===h?void 0:h.canEdit,He=null===Re||void 0===Re||null===(v=Re.threadData)||void 0===v||null===(m=v.ability)||void 0===m?void 0:m.canDelete,Ye=null===Re||void 0===Re||null===(b=Re.threadData)||void 0===b||null===(y=b.ability)||void 0===y?void 0:y.canEssence,Ge=null===Re||void 0===Re||null===(g=Re.threadData)||void 0===g||null===(j=g.ability)||void 0===j?void 0:j.canStick,Ke=2===(null===Re||void 0===Re||null===(x=Re.threadData)||void 0===x?void 0:x.payType)&&!1===(null===Re||void 0===Re||null===(O=Re.threadData)||void 0===O?void 0:O.paid),Je=(null===Re||void 0===Re||null===(w=Re.threadData)||void 0===w?void 0:w.attachmentPrice)||0,Qe=!it&&Ke&&!tt&&!et,Ze=1===(null===Re||void 0===Re||null===(C=Re.threadData)||void 0===C?void 0:C.payType),$e=(null===Re||void 0===Re||null===(k=Re.threadData)||void 0===k?void 0:k.price)||0,et=!0===(null===Re||void 0===Re||null===(N=Re.threadData)||void 0===N?void 0:N.paid),tt=(null===(T=e.user)||void 0===T||null===(E=T.userInfo)||void 0===E?void 0:E.id)&&(null===(S=e.user)||void 0===S||null===(P=S.userInfo)||void 0===P?void 0:P.id)===(null===Re||void 0===Re||null===(A=Re.threadData)||void 0===A?void 0:A.userId),nt=null===Re||void 0===Re||null===(I=Re.threadData)||void 0===I||null===(_=I.displayTag)||void 0===_?void 0:_.isRedPack,rt=null===Re||void 0===Re||null===(L=Re.threadData)||void 0===L||null===(M=L.displayTag)||void 0===M?void 0:M.isReward,at=(Ve&&(null===Re||void 0===Re||null===(B=Re.threadData)||void 0===B||B.ability.canBeReward),Ve&&(null===Re||void 0===Re||null===(U=Re.threadData)||void 0===U?void 0:U.ability.canBeReward)&&!nt&&!rt),it=(null===Re||void 0===Re||null===(W=Re.threadData)||void 0===W||W.isReward,null===Re||void 0===Re||null===(F=Re.threadData)||void 0===F?void 0:F.ability.canFreeViewPost),ct=Object(ce.a)(Le),ut=function(){var t=s()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"function"===typeof e.onPayClick&&e.onPayClick();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),lt=function(e){e&&window.open(e)},dt=function(t){"function"===typeof e.onOperClick&&e.onOperClick(t)};return Object(r.jsxs)("div",{className:"".concat(st.a.container),children:[Object(r.jsxs)("div",{className:st.a.header,children:[Object(r.jsx)("div",{className:st.a.userInfo,children:Object(r.jsx)(we.a,{name:(null===Re||void 0===Re||null===(V=Re.threadData)||void 0===V||null===(z=V.user)||void 0===z?void 0:z.nickname)||"",avatar:(null===Re||void 0===Re||null===(X=Re.threadData)||void 0===X||null===(q=X.user)||void 0===q?void 0:q.avatar)||"",groupName:(null===Re||void 0===Re||null===(H=Re.threadData)||void 0===H||null===(G=H.group)||void 0===G?void 0:G.groupName)||"",location:(null===Re||void 0===Re||null===(K=Re.threadData)||void 0===K?void 0:K.position.location)||"",view:"".concat(null===Re||void 0===Re||null===(J=Re.threadData)||void 0===J?void 0:J.viewCount)||"",time:"".concat(null===Re||void 0===Re||null===(Q=Re.threadData)||void 0===Q?void 0:Q.diffTime)||"",userId:null===Re||void 0===Re||null===(Z=Re.threadData)||void 0===Z||null===($=Z.user)||void 0===$?void 0:$.userId,isEssence:ze,isPay:!Ve,isReward:rt,isRed:nt,hideInfoPopip:!0,platform:"pc",onClick:function(t){t&&t.stopPropagation(),"function"===typeof e.onUserClick&&e.onUserClick()}})}),(null===e||void 0===e||null===(ee=e.user)||void 0===ee?void 0:ee.isLogin())&&Object(r.jsxs)("div",{className:st.a.more,children:[(ze||!Ve||rt||nt)&&Object(r.jsx)(re.a,{mode:"vertical",className:st.a.moreDivider}),Fe&&(qe||Ge||Ye||He)&&Object(r.jsx)("div",{className:st.a.iconText,children:Object(r.jsxs)(ot.a,{menu:Object(r.jsxs)(ot.a.Menu,{children:[qe&&Object(r.jsx)(ot.a.Item,{id:"edit",children:"\u7f16\u8f91"}),Ge&&Object(r.jsx)(ot.a.Item,{id:"stick",children:Xe?"\u53d6\u6d88\u7f6e\u9876":"\u7f6e\u9876"}),Ye&&Object(r.jsxs)(ot.a.Item,{id:"essence",children:[" ",ze?"\u53d6\u6d88\u7cbe\u534e":"\u7cbe\u534e"]}),He&&Object(r.jsx)(ot.a.Item,{id:"delete",children:"\u5220\u9664"})]}),placement:"center",hideOnClick:!0,arrow:!1,trigger:"hover",onChange:function(e){return dt(e)},children:[Object(r.jsx)(R.a,{className:st.a.icon,name:"SettingOutlined"}),Object(r.jsx)("span",{className:st.a.text,children:"\u7ba1\u7406"})]})}),!(null!==e&&void 0!==e&&null!==(ne=e.user)&&void 0!==ne&&ne.isAdmini)&&Object(r.jsxs)("div",{className:D()(st.a.iconText,(null===e||void 0===e||null===(ae=e.user)||void 0===ae?void 0:ae.isAdmini)&&st.a.disabled),onClick:function(){return dt("report")},children:[Object(r.jsx)(R.a,{className:st.a.icon,name:"WarnOutlinedThick"}),Object(r.jsx)("span",{className:st.a.text,children:"\u4e3e\u62a5"})]})]})]}),Object(r.jsx)(re.a,{className:st.a.divider}),Object(r.jsxs)("div",{className:st.a.body,children:[(null===Re||void 0===Re||null===(ie=Re.threadData)||void 0===ie?void 0:ie.title)&&Object(r.jsx)("div",{className:st.a.title,children:null===Re||void 0===Re||null===(oe=Re.threadData)||void 0===oe?void 0:oe.title}),_e&&Object(r.jsx)(de.a,{useShowMore:!1,content:_e||"",usePointer:!1}),ct.VIDEO&&Object(r.jsx)(fe.a,{url:ct.VIDEO.mediaUrl,coverUrl:ct.VIDEO.coverUrl,v_width:ct.VIDEO.width||null,v_height:ct.VIDEO.height||null,status:ct.VIDEO.status}),ct.IMAGE&&Object(r.jsx)(ue.a,{flat:!0,platform:"pc",isPay:Qe,onPay:ut,imgData:ct.IMAGE}),(ct.RED_PACKET||ct.REWARD)&&Object(r.jsxs)("div",{className:st.a.reward,children:[ct.REWARD&&Object(r.jsxs)("div",{className:st.a.rewardBody,children:[Object(r.jsx)(ge,{type:ye.BOUNTY,remaining:Number(ct.REWARD.remainMoney||0),received:Object(Oe.a)(Number(ct.REWARD.money||0),Number(ct.REWARD.remainMoney||0))}),Object(r.jsxs)("div",{className:st.a.rewardMoney,children:["\u672c\u5e16\u5411\u6240\u6709\u4eba\u60ac\u8d4f",Object(r.jsx)("span",{className:st.a.rewardNumber,children:ct.REWARD.money||0}),"\u5143"]}),Object(r.jsxs)("div",{className:st.a.rewardTime,children:[ct.REWARD.expiredAt,"\u622a\u6b62\u60ac\u8d4f"]})]}),ct.RED_PACKET&&Object(r.jsxs)("div",{children:[Object(r.jsx)(ge,{remaining:Number(ct.RED_PACKET.remainNumber||0),received:Number(ct.RED_PACKET.number||0)-Number(ct.RED_PACKET.remainNumber||0),condition:ct.RED_PACKET.condition}),!!ct.RED_PACKET.condition&&Object(r.jsxs)("div",{className:st.a.redPacketLikeNum,children:["\u8bc4\u8bba\u96c6",ct.RED_PACKET.likenum,"\u8d5e\u9886\u7ea2\u5305"]})]})]}),ct.GOODS&&Object(r.jsxs)("div",{className:st.a.goods,children:[Object(r.jsx)(pe.a,{image:null===ct||void 0===ct||null===(se=ct.GOODS)||void 0===se?void 0:se.imagePath,amount:null===ct||void 0===ct||null===(he=ct.GOODS)||void 0===he?void 0:he.price,title:null===ct||void 0===ct||null===(ve=ct.GOODS)||void 0===ve?void 0:ve.title,onClick:function(){return lt(ct.GOODS.detailContent)}}),Object(r.jsx)(te.a,{className:st.a.buyBtn,type:"danger",onClick:function(){return lt(ct.GOODS.detailContent)},children:Object(r.jsxs)("div",{className:st.a.buyContent,children:[Object(r.jsx)(R.a,{className:st.a.buyIcon,name:"ShoppingCartOutlined",size:20}),Object(r.jsx)("span",{className:st.a.buyText,children:"\u8d2d\u4e70\u5546\u54c1"})]})})]}),ct.VOICE&&Object(r.jsx)(le.a,{url:ct.VOICE.mediaUrl}),ct.VOTE&&Object(r.jsx)(xe.a,{attachments:ct.VOTE,threadId:null===Re||void 0===Re||null===(me=Re.threadData)||void 0===me?void 0:me.threadId}),Qe&&Object(r.jsx)("div",{style:{textAlign:"center"},onClick:ut,children:Object(r.jsx)(te.a,{className:st.a.payButton,type:"primary",size:"large",children:Object(r.jsxs)("div",{className:st.a.pay,children:[Object(r.jsx)(R.a,{className:st.a.payIcon,name:"GoldCoinOutlined",size:18}),"\u652f\u4ed8",Je,"\u5143\u67e5\u770b\u9644\u4ef6"]})})}),(Be||Ue)&&Object(r.jsx)("div",{className:st.a.tag,onClick:function(){"function"===typeof e.onTagClick&&e.onTagClick()},children:Be?"".concat(Be,"/").concat(Ue):Ue}),!it&&Ze&&!tt&&!et&&Object(r.jsx)("div",{style:{textAlign:"center"},onClick:ut,children:Object(r.jsx)(te.a,{className:st.a.payButton,type:"primary",size:"large",children:Object(r.jsxs)("div",{className:st.a.pay,children:[Object(r.jsx)(R.a,{className:st.a.payIcon,name:"GoldCoinOutlined",size:18}),"\u652f\u4ed8",$e,"\u5143\u67e5\u770b\u5269\u4f59\u5185\u5bb9"]})})}),at&&Fe&&!tt&&Object(r.jsx)(te.a,{onClick:function(){"function"===typeof e.onRewardClick&&e.onRewardClick()},className:st.a.rewardButton,type:"primary",size:"large",children:Object(r.jsxs)("div",{className:st.a.buttonIconText,children:[Object(r.jsx)(R.a,{className:st.a.buttonIcon,name:"HeartOutlined",size:19}),Object(r.jsx)("span",{className:st.a.buttonText,children:"\u6253\u8d4f"})]})})]}),Object(r.jsxs)("div",{className:st.a.footer,children:[Object(r.jsxs)("div",{className:st.a.thumbs,children:[Object(r.jsx)("div",{className:st.a.likeReward,children:Object(r.jsx)(je.a,{tipData:We,imgs:(null===Re||void 0===Re||null===(be=Re.threadData)||void 0===be||null===(Ce=be.likeReward)||void 0===Ce?void 0:Ce.users)||[],showCount:10,platform:"pc"})}),Object(r.jsx)("span",{children:(null===Re||void 0===Re||null===(ke=Re.threadData)||void 0===ke||null===(Ne=ke.likeReward)||void 0===Ne?void 0:Ne.likePayCount)||""})]}),(null===Re||void 0===Re||null===(Te=Re.threadData)||void 0===Te||null===(De=Te.likeReward)||void 0===De?void 0:De.shareCount)>0&&Object(r.jsxs)("span",{className:st.a.share,children:[null===Re||void 0===Re||null===(Ee=Re.threadData)||void 0===Ee||null===(Se=Ee.likeReward)||void 0===Se?void 0:Se.shareCount,"\u6b21\u5206\u4eab"]})]}),Object(r.jsx)(re.a,{className:st.a.divider}),Object(r.jsxs)("div",{className:st.a.bottomOperate,children:[Object(r.jsxs)("div",{className:D()(st.a.item,(null===Re||void 0===Re||null===(Pe=Re.threadData)||void 0===Pe?void 0:Pe.isLike)&&st.a.active),onClick:Object(Y.a)((function(){"function"===typeof e.onLikeClick&&e.onLikeClick()}),500),children:[Object(r.jsx)(R.a,{name:"LikeOutlined"}),Object(r.jsx)("span",{children:"\u8d5e"})]}),Object(r.jsxs)("div",{className:D()(st.a.item,(null===Re||void 0===Re||null===(Ae=Re.threadData)||void 0===Ae?void 0:Ae.isFavorite)&&st.a.active),onClick:Object(Y.a)((function(){"function"===typeof e.onCollectionClick&&e.onCollectionClick()}),500),children:[Object(r.jsx)(R.a,{name:"CollectOutlined"}),Object(r.jsx)("span",{children:"\u6536\u85cf"})]}),Object(r.jsxs)("div",{className:D()(st.a.item),onClick:Object(Y.a)((function(){"function"===typeof e.onShareClick&&e.onShareClick()}),500),children:[Object(r.jsx)(R.a,{name:"ShareAltOutlined"}),Object(r.jsx)("span",{children:"\u5206\u4eab"})]})]})]})}))),ut=(n("QWBl"),n("T63A"),n("tkto"),n("FZtP"),n("J4zp")),lt=n.n(ut),dt=n("TciF"),pt=n("5myi"),ft=function(e){var t=e.visible,n=e.onOkClick,a=e.onCancel,o=e.rewardAmount,c=Object(y.useState)(0),u=c[0],l=c[1],d=Object(y.useState)(0),p=d[0],f=d[1],h=function(){var e=s()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=11;break}return e.prev=1,e.next=4,n(p);case 4:e.sent&&(l(0),f(0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($.a,{position:"center",visible:t,onClose:a,children:Object(r.jsxs)("div",{className:pt.a.container,children:[Object(r.jsxs)("div",{className:pt.a.main,children:[Object(r.jsxs)("div",{className:pt.a.header,children:[Object(r.jsx)("div",{className:pt.a.headerLeft,children:"\u91c7\u7eb3\u56de\u590d\u60ac\u8d4f"}),Object(r.jsx)("div",{className:pt.a.headerIcon,children:Object(r.jsx)(R.a,{size:12,name:"CloseOutlined",onClick:a})})]}),Object(r.jsxs)("div",{className:pt.a.body,children:[Object(r.jsxs)("div",{className:pt.a.percentage,children:[Object(r.jsx)("div",{className:pt.a.text,children:"\u60ac\u8d4f\u767e\u5206\u6bd4"}),Object(r.jsxs)("div",{className:pt.a.slider,children:[Object(r.jsx)(De.a,{value:u,defaultValue:u,max:100,min:0,step:1,onChange:Object(Y.b)((function(e){return function(e){l(Number(e)),f((.01*Number(e)*o).toFixed(2))}(e)}),100)}),Object(r.jsx)("div",{className:pt.a.perCent,children:"%"})]})]}),Object(r.jsxs)("div",{className:pt.a.rewardMoney,children:[Object(r.jsx)("div",{className:pt.a.text,children:"\u60ac\u8d4f\u91d1\u989d"}),Object(r.jsxs)("div",{className:pt.a.money,children:[p,Object(r.jsx)("span",{className:pt.a.unit,children:"\u5143"})]})]})]})]}),Object(r.jsxs)("div",{className:pt.a.button,children:[Object(r.jsx)(te.a,{onClick:a,className:pt.a.cancel,children:"\u53d6\u6d88"}),Object(r.jsx)(te.a,{onClick:h,className:pt.a.ok,type:"primary",children:"\u786e\u5b9a"})]})]})})},ht=n("PuBq");function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var mt,bt={101:"IMAGE",102:"VOICE",103:"VIDEO",104:"GOODS",105:"QA",106:"RED_PACKET",107:"REWARD",108:"VOTE",109:"QUEUE",110:"FILE",111:"QA_IMAGE"},yt=Object(x.c)("thread")(Me=Object(x.c)("comment")(Me=Object(x.c)("user")(Me=Object(x.d)(Me=function(e){f()(n,e);var t=vt(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).onSortClick=function(){r.setState({commentSort:!r.state.commentSort}),"function"===typeof r.props.sort&&r.props.sort(!r.state.commentSort)},r.state={showAboptPopup:!1,showCommentInput:!1,commentSort:!0,showDeletePopup:!1,showReplyDeletePopup:!1,placeholder:"\u5199\u4e0b\u6211\u8bc4\u8bba...",commentId:null},r.commentData=null,r.replyData=null,r}return d()(n,[{key:"likeClick",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:return n={id:t.id,isLiked:!t.isLiked},e.next=9,this.props.comment.updateLiked(n,this.props.thread);case 9:r=e.sent,a=r.success,o=r.msg,a&&(this.props.thread.setCommentListDetailField(t.id,"isLiked",n.isLiked),s=n.isLiked?t.likeCount+1:t.likeCount-1,this.props.thread.setCommentListDetailField(t.id,"likeCount",s)),a||M.a.error({content:o});case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replyLikeClick",value:function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(t.id){e.next=6;break}return e.abrupt("return");case 6:return r={id:t.id,isLiked:!t.isLiked},e.next=9,this.props.comment.updateLiked(r);case 9:a=e.sent,o=a.success,s=a.msg,o&&(this.props.thread.setReplyListDetailField(n.id,t.id,"isLiked",r.isLiked),c=r.isLiked?t.likeCount+1:t.likeCount-1,this.props.thread.setReplyListDetailField(n.id,t.id,"likeCount",c)),o||M.a.error({content:s});case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteClick",value:function(){var e=s()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:this.commentData=t,this.setState({showDeletePopup:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=s()(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(this.commentData.id){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.props.comment.delete(this.commentData.id,this.props.thread);case 8:if(t=e.sent,n=t.success,r=t.msg,this.setState({showDeletePopup:!1}),!n){e.next=15;break}return M.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 15:M.a.error({content:r});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyDeleteClick",value:function(){var e=s()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.commentData=n,this.replyData=t,this.setState({showReplyDeletePopup:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"replyDeleteComment",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.replyData.id){e.next=2;break}return e.abrupt("return");case 2:return t={},this.replyData&&this.commentData&&(t.replyData=this.replyData,t.commentData=this.commentData),e.next=6,this.props.comment.deleteReplyComment(t,this.props.thread);case 6:if(n=e.sent,r=n.success,a=n.msg,this.setState({showReplyDeletePopup:!1}),!r){e.next=13;break}return M.a.success({content:"\u5220\u9664\u6210\u529f"}),e.abrupt("return");case 13:M.a.error({content:a});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"replyClick",value:function(e){var t,n;if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=e,this.replyData=null;var r=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.nickname)||(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.userName);this.setState({showCommentInput:!0,placeholder:r?"\u56de\u590d".concat(r):"\u8bf7\u8f93\u5165\u5185\u5bb9",commentId:e.id})}},{key:"replyReplyClick",value:function(e,t){var n,r;if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=null,this.replyData=e,this.replyData.commentId=t.id;var a=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.nickname)||(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.userName);this.setState({showCommentInput:!0,placeholder:a?"\u56de\u590d".concat(a):"\u8bf7\u8f93\u5165\u5185\u5bb9",commentId:null})}},{key:"createReply",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:"",a=p.length>1&&void 0!==p[1]?p[1]:[],r.replace(/\s/g,"")||0!==a.length){e.next=6;break}return M.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 6:if(o=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id){e.next=9;break}return e.abrupt("return");case 9:return s={id:o,content:r},this.replyData&&(s.replyId=this.replyData.id,s.isComment=!0,s.commentId=this.replyData.commentId,s.commentPostId=this.replyData.id),this.commentData&&(s.replyId=this.commentData.id,s.isComment=!0,s.commentId=this.commentData.id),null!==a&&void 0!==a&&a.length&&(s.attachments=a.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),e.next=15,this.props.comment.createReply(s,this.props.thread);case 15:if(c=e.sent,u=c.success,l=c.msg,d=c.isApproved,!u){e.next=23;break}return this.setState({showCommentInput:!1,inputValue:"",commentId:null}),d?M.a.success({content:l}):M.a.warning({content:l}),e.abrupt("return",!0);case 23:M.a.error({content:l});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editClick",value:function(e){"function"===typeof this.props.onEditClick&&this.props.onEditClick(e)}},{key:"onCommentClick",value:function(e){var t,n,r,a;e.id&&null!==(t=this.props.thread)&&void 0!==t&&null!==(n=t.threadData)&&void 0!==n&&n.id&&this.props.router.push("/thread/comment/".concat(e.id,"?threadId=").concat(null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id))}},{key:"onAboptClick",value:function(e){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.commentData=e,this.setState({showAboptPopup:!0})}},{key:"onAboptOk",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=15;break}return a={postId:this.commentData.id,rewards:t,threadId:null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.threadId},e.next=4,this.props.thread.reward(a);case 4:if(o=e.sent,s=o.success,c=o.msg,!s){e.next=12;break}return this.setState({showAboptPopup:!1}),this.props.thread.fetchThreadDetail(a.threadId),M.a.success({content:"\u60ac\u8d4f".concat(t,"\u5143")}),e.abrupt("return",!0);case 12:M.a.error({content:c}),e.next=16;break;case 15:M.a.info({content:"\u60ac\u8d4f\u91d1\u989d\u4e0d\u80fd\u4e3a0"});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAboptCancel",value:function(){this.commentData=null,this.setState({showAboptPopup:!1})}},{key:"onUserClick",value:function(e){e&&C.a.push({url:"/user/".concat(e)})}},{key:"reportClick",value:function(e){"function"===typeof this.props.onReportClick&&this.props.onReportClick(e)}},{key:"replyAvatarClick",value:function(e,t,n){if(2===n){var r=e.userId;if(!r)return;this.props.router.push("/user/".concat(r))}if(3===n){var a=e.commentUserId;if(!a)return;this.props.router.push("/user/".concat(a))}}},{key:"onFocus",value:function(e){return!!this.props.user.isLogin()||(e&&e.stopPropagation(),M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"}))}},{key:"render",value:function(){var e,t,n,a,i,o,s,c,u,l,d,p,f=this,h=this.props.thread,v=h.totalCount,m=h.commentList,b=(null===(e=this.props.user)||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.id)&&(null===(n=this.props.user)||void 0===n||null===(a=n.userInfo)||void 0===a?void 0:a.id)===(null===(i=this.props.thread)||void 0===i||null===(o=i.threadData)||void 0===o?void 0:o.userId),y=null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c||null===(u=c.displayTag)||void 0===u?void 0:u.isReward,g=((null===(l=this.props.thread)||void 0===l||null===(d=l.threadData)||void 0===d?void 0:d.content)||{}).indexes,j={};return g&&Object.keys(g)&&Object.entries(g).forEach((function(e){var t=lt()(e,2)[1];if(t){var n=t.tomId,r=t.body;j[bt[n]]=r}})),Object(r.jsxs)("div",{className:D()(dt.a.container,!v&&dt.a.isEmpty),children:[Object(r.jsxs)("div",{className:dt.a.header,children:[v?Object(r.jsxs)("div",{className:dt.a.number,children:[v,"\u6761\u8bc4\u8bba"]}):Object(r.jsx)("div",{className:dt.a.number,children:"\u6682\u65e0\u8bc4\u8bba"}),Object(r.jsxs)("div",{className:dt.a.sort,onClick:function(){return f.onSortClick()},children:[Object(r.jsx)(R.a,{className:dt.a.sortIcon,name:"SortOutlined",size:14}),Object(r.jsx)("span",{className:dt.a.sortText,children:this.state.commentSort?"\u8bc4\u8bba\u4ece\u65b0\u5230\u65e7":"\u8bc4\u8bba\u4ece\u65e7\u5230\u65b0"})]})]}),Object(r.jsx)("div",{className:dt.a.input,children:Object(r.jsx)(Fe.a,{height:"middle",onSubmit:function(e,t){return f.props.onPublishClick(e,t)},initValue:this.state.inputValue,placeholder:this.state.placeholder,onFocus:function(e){return f.onFocus(e)},onEmojiIconClick:function(){return f.onFocus()},onAtIconClick:function(){return f.onFocus()},onPcitureIconClick:function(){return f.onFocus()}})}),Object(r.jsx)("div",{className:dt.a.body,children:m.map((function(e,t){var n,a;return Object(r.jsx)("div",{className:dt.a.commentItems,children:Object(r.jsx)(ht.a,{data:e,avatarClick:function(e){return f.onUserClick(e)},replyAvatarClick:function(t,n){return f.replyAvatarClick(t,e,n)},likeClick:function(){return f.likeClick(e)},replyClick:function(){return f.replyClick(e)},deleteClick:function(){return f.deleteClick(e)},editClick:function(){return f.editClick(e)},replyLikeClick:function(t){return f.replyLikeClick(t,e)},replyReplyClick:function(t){return f.replyReplyClick(t,e)},replyDeleteClick:function(t){return f.replyDeleteClick(t,e)},reportClick:function(){return f.reportClick(e)},onCommentClick:function(){return f.onCommentClick(e)},onSubmit:function(e,t){return f.createReply(e,t)},isShowOne:!0,isShowInput:f.state.commentId===e.id,onAboptClick:function(){return f.onAboptClick(e)},isShowAdopt:b&&y&&(null===(n=f.props.thread)||void 0===n||null===(a=n.threadData)||void 0===a?void 0:a.userId)!==e.userId},e.id)},e.id||t)}))}),Object(r.jsx)(z.a,{visible:this.state.showDeletePopup,onClose:function(){return f.setState({showDeletePopup:!1})},onBtnClick:function(){return f.deleteComment()}}),Object(r.jsx)(z.a,{visible:this.state.showReplyDeletePopup,onClose:function(){return f.setState({showReplyDeletePopup:!1})},onBtnClick:function(){return f.replyDeleteComment()}}),(null===j||void 0===j||null===(p=j.REWARD)||void 0===p?void 0:p.money)&&Object(r.jsx)(ft,{rewardAmount:j.REWARD.money,visible:this.state.showAboptPopup,onCancel:function(){return f.onAboptCancel()},onOkClick:function(e){return f.onAboptOk(e)}})]})}}]),n}(g.a.Component))||Me)||Me)||Me)||Me;function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var jt,xt=Object(x.c)("site")(mt=Object(x.c)("user")(mt=Object(x.c)("thread")(mt=Object(x.c)("comment")(mt=Object(x.c)("index")(mt=Object(x.c)("topic")(mt=Object(x.c)("search")(mt=Object(x.d)(mt=function(e){f()(n,e);var t=gt(n);function n(e){var r;return u()(this,n),(r=t.call(this,e)).state={showReportPopup:!1,showDeletePopup:!1,showCommentInput:!1,showMorePopup:!1,showRewardPopup:!1,isCommentLoading:!1,setTop:!1,inputValue:"",isBaseLayoutReady:!1},r.likedLoading=!1,r.collectLoading=!1,r.perPage=20,r.page=1,r.commentDataSort=!0,r.threadBodyRef=g.a.createRef(),r.commentDataRef=g.a.createRef(),r.position=0,r.comment=null,r.reportContent=["\u5e7f\u544a\u5783\u573e","\u8fdd\u89c4\u5185\u5bb9","\u6076\u610f\u704c\u6c34","\u91cd\u590d\u53d1\u5e16"],r.inputText="\u8bf7\u8f93\u5165\u5176\u4ed6\u7406\u7531",r}return d()(n,[{key:"handleOnRefresh",value:function(){return this.page=this.page+1,this.loadCommentList()}},{key:"handleOnScroll",value:function(){var e,t,n,r,a=null===(e=this.threadBodyRef)||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.listRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.listWrapper;if(a&&a.current){var i,o=null===a||void 0===a||null===(i=a.current)||void 0===i?void 0:i.scrollTop;this.props.thread.setScrollDistance(o)}}},{key:"onBaseLayoutReady",value:function(){this.setState({isBaseLayoutReady:!0})}},{key:"componentDidUpdate",value:function(){if(this.state.isBaseLayoutReady){var e,t,n,r,a=null===(e=this.threadBodyRef)||void 0===e||null===(t=e.current)||void 0===t||null===(n=t.listRef)||void 0===n||null===(r=n.current)||void 0===r?void 0:r.listWrapper;a&&this.scrollToPostion(a),this.setState({isBaseLayoutReady:!1})}}},{key:"componentWillUnmount",value:function(){}},{key:"scrollToPostion",value:function(e){var t,n,r,a,i,o=this;if(null!==(t=this.props)&&void 0!==t&&null!==(n=t.thread)&&void 0!==n&&n.isPositionToComment)return this.position=(null===(a=this.commentDataRef)||void 0===a||null===(i=a.current)||void 0===i?void 0:i.offsetTop)-50,void setTimeout((function(){var t;null===e||void 0===e||null===(t=e.current)||void 0===t||t.scrollTo(0,o.position)}),1e3);null===e||void 0===e||null===(r=e.current)||void 0===r||r.scrollTo(0,this.props.thread.scrollDistance)}},{key:"loadCommentList",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.thread.isCommentReady,!this.state.isCommentLoading&&r){e.next=3;break}return e.abrupt("return");case 3:return this.setState({isCommentLoading:!0}),a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,o={id:a,page:this.page,perPage:this.perPage,sort:this.commentDataSort?"createdAt":"-createdAt"},e.next=8,this.props.thread.loadCommentList(o);case 8:if(s=e.sent,c=s.success,u=s.msg,this.setState({isCommentLoading:!1}),!c){e.next=14;break}return e.abrupt("return");case 14:M.a.error({content:u});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSortChange",value:function(e){this.commentDataSort=e,this.page=1,this.loadCommentList()}},{key:"onInputClick",value:function(){this.setState({showCommentInput:!0})}},{key:"onOperClick",value:function(e){if("stick"===e&&this.updateStick(),"essence"===e&&this.updateEssence(),"delete"===e&&this.setState({showDeletePopup:!0}),"edit"===e){var t,n,r,a;if(null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n||!n.id)return;this.props.router.push("/thread/post?id=".concat(null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id))}"report"===e&&this.setState({showReportPopup:!0})}},{key:"onReportClick",value:function(e){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.comment=e,this.setState({showReportPopup:!0})}},{key:"onReportOk",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return M.a.info({content:"\u8bf7\u9009\u62e9\u6216\u8f93\u5165\u4e3e\u62a5\u7406\u7531"}),e.abrupt("return");case 3:return n={threadId:this.props.thread.threadData.threadId,reason:t,userId:this.props.user.userInfo.id},this.comment?(n.type=2,n.postId=this.comment.id):n.type=1,e.next=7,this.props.thread.createReports(n);case 7:if(r=e.sent,a=r.success,o=r.msg,!a){e.next=14;break}return M.a.success({content:"\u64cd\u4f5c\u6210\u529f"}),this.setState({showReportPopup:!1}),e.abrupt("return",!0);case 14:M.a.error({content:o});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onReportCancel",value:function(){this.comment=null,this.setState({showReportPopup:!1})}},{key:"setTopState",value:function(e){var t=this;this.setState({showContent:e,setTop:!this.state.setTop}),setTimeout((function(){t.setState({setTop:!t.state.setTop})}),2e3)}},{key:"updateStick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,s={id:o,isStick:!(null!==(r=this.props.thread)&&void 0!==r&&null!==(a=r.threadData)&&void 0!==a&&a.isStick)},e.next=4,this.props.thread.updateStick(s);case 4:if(c=e.sent,u=c.success,l=c.msg,!u){e.next=11;break}return this.setTopState(s.isStick),(null===(d=this.props)||void 0===d||null===(p=d.index)||void 0===p?void 0:p.refreshHomeData)&&this.props.index.refreshHomeData(),e.abrupt("return");case 11:M.a.error({content:l});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateEssence",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,c={id:s,isEssence:!(null!==(r=this.props.thread)&&void 0!==r&&null!==(a=r.threadData)&&void 0!==a&&null!==(o=a.displayTag)&&void 0!==o&&o.isEssence)},e.next=4,this.props.thread.updateEssence(c);case 4:if(u=e.sent,l=u.success,d=u.msg,this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic),!l){e.next=11;break}return M.a.success({content:"\u64cd\u4f5c\u6210\u529f"}),e.abrupt("return");case 11:M.a.error({content:d});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({showDeletePopup:!1}),r=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,e.next=4,this.props.thread.delete(r,this.props.index,this.props.search,this.props.topic,this.props.site);case 4:if(a=e.sent,o=a.success,s=a.msg,!o){e.next=11;break}return M.a.success({content:"\u5220\u9664\u6210\u529f\uff0c\u5373\u5c06\u8df3\u8f6c\u81f3\u9996\u9875"}),setTimeout((function(){c.props.router.push("/")}),1e3),e.abrupt("return");case 11:M.a.error({content:s});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onBtnClick",value:function(){this.delete(),this.setState({showDeletePopup:!1})}},{key:"onPublishClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:[],this.props.user.isLogin()){e.next=6;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 6:if(t.replace(/\s/g,"")||0!==n.length){e.next=10;break}return M.a.info({content:"\u8bf7\u8f93\u5165\u5185\u5bb9"}),e.abrupt("return");case 10:if(!this.comment){e.next=16;break}return e.next=13,this.updateComment(t,n);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,this.createComment(t,n);case 18:e.t0=e.sent;case 19:return e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createComment",value:function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,s,c,u,l,d,p,f,h,v,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id,u={id:c,content:t,sort:this.commentDataSort,isNoMore:null===(o=this.props)||void 0===o||null===(s=o.thread)||void 0===s?void 0:s.isNoMore,attachments:[]},null!==n&&void 0!==n&&n.length&&(u.attachments=n.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),e.next=5,this.props.comment.createComment(u,this.props.thread);case 5:if(l=e.sent,d=l.success,p=l.msg,f=l.isApproved,!d){e.next=17;break}return f?M.a.success({content:p}):M.a.warning({content:p}),this.props.thread.updatePostCount(this.props.thread.totalCount),this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic),(null===(h=this.props.thread)||void 0===h||null===(v=h.threadData)||void 0===v||null===(m=v.displayTag)||void 0===m?void 0:m.isRedPack)&&this.props.thread.fetchThreadDetail(c),this.setState({showCommentInput:!1,inputValue:""}),e.abrupt("return",!0);case 17:M.a.error({content:p});case 18:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=s()(i.a.mark((function e(t,n){var r,a,o,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.comment){e.next=2;break}return e.abrupt("return");case 2:return o=null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.id,s={id:o,pid:this.comment.id,content:t,attachments:[]},null!==n&&void 0!==n&&n.length&&(s.attachments=n.filter((function(e){return"success"===e.status&&e.response})).map((function(e){return{id:e.response.id,type:"attachments"}}))),e.next=7,this.props.comment.updateComment(s,this.props.thread);case 7:if(c=e.sent,u=c.success,l=c.msg,d=c.isApproved,!u){e.next=15;break}return d?M.a.success({content:l}):M.a.warning({content:l}),this.setState({showCommentInput:!1}),e.abrupt("return",!0);case 15:M.a.error({content:l});case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEditClick",value:function(e){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.comment=e,this.setState({inputValue:e.content,showCommentInput:!0})}},{key:"onClose",value:function(){this.setState({showCommentInput:!1}),this.comment=null}},{key:"onLikeClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(!this.likedLoading){e.next=6;break}return e.abrupt("return");case 6:return this.likedLoading=!0,c=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,u={id:c,pid:null===(r=this.props.thread)||void 0===r||null===(a=r.threadData)||void 0===a?void 0:a.postId,isLiked:!(null!==(o=this.props.thread)&&void 0!==o&&null!==(s=o.threadData)&&void 0!==s&&s.isLike)},e.next=11,this.props.thread.updateLiked(u,this.props.index,this.props.user,this.props.search,this.props.topic);case 11:l=e.sent,d=l.success,p=l.msg,this.likedLoading=!1,d||M.a.error({content:p});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onShareClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u,l,d,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),s=(null===(t=this.props.thread)||void 0===t?void 0:t.threadData)||{},c=s.title,u=void 0===c?"":c,J()({title:u,path:"thread/".concat(null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r?void 0:r.threadId)}),l=null===(a=this.props.thread)||void 0===a||null===(o=a.threadData)||void 0===o?void 0:o.id,e.next=6,this.props.thread.shareThread(l);case 6:d=e.sent,p=d.success,f=d.msg,p||M.a.error({content:f});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onCollectionClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:if(!this.collectLoading){e.next=6;break}return e.abrupt("return");case 6:return this.collectLoading=!0,a=null===(t=this.props.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.id,o={id:a,isFavorite:!(null!==(r=this.props.thread)&&void 0!==r&&r.isFavorite)},e.next=11,this.props.thread.updateFavorite(o);case 11:s=e.sent,c=s.success,u=s.msg,this.collectLoading=!1,c||M.a.error({content:u});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onFollowClick",value:function(){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});var e,t,n,r;this.props.thread.threadData.userId&&(2===(null===(e=this.props.thread)||void 0===e||null===(t=e.authorInfo)||void 0===t?void 0:t.follow)||1===(null===(n=this.props.thread)||void 0===n||null===(r=n.authorInfo)||void 0===r?void 0:r.follow)?this.props.thread.cancelFollow({id:this.props.thread.threadData.userId,type:1},this.props.user):this.props.thread.postFollow(this.props.thread.threadData.userId,this.props.user))}},{key:"onPayClick",value:function(){var e=s()(i.a.mark((function e(){var t,n,r,a,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.user.isLogin()){e.next=4;break}return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(U.a)({url:"/user/login"}),e.abrupt("return");case 4:return a=this.props.thread.threadData,e.next=7,Object(Q.a)(a,null===(t=this.props.user)||void 0===t?void 0:t.userInfo);case 7:if(o=e.sent,!o.success||null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r||!r.threadId){e.next=13;break}return e.next=12,this.props.thread.fetchThreadDetail(null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c?void 0:c.threadId);case 12:this.props.thread.updateListStore(this.props.index,this.props.search,this.props.topic);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRewardClick",value:function(){if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});this.setState({showRewardPopup:!0})}},{key:"onRewardSubmit",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(isNaN(Number(t))||null===(n=this.props.thread)||void 0===n||null===(r=n.threadData)||void 0===r||!r.threadId||null===(a=this.props.thread)||void 0===a||null===(o=a.threadData)||void 0===o||!o.userId){e.next=9;break}return this.setState({showRewardPopup:!1}),u={amount:Number(t),threadId:this.props.thread.threadData.threadId,payeeId:this.props.thread.threadData.userId,title:(null===(s=this.props.thread)||void 0===s||null===(c=s.threadData)||void 0===c?void 0:c.title)||"\u4e3b\u9898\u6253\u8d4f"},e.next=5,this.props.thread.rewardPay(u,this.props.user,this.props.index,this.props.search,this.props.topic);case 5:l=e.sent,d=l.success,p=l.msg,d||M.a.error({content:p});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTagClick",value:function(){var e,t,n=null===(e=this.props.thread)||void 0===e||null===(t=e.threadData)||void 0===t?void 0:t.categoryId;(n||"number"===typeof n)&&this.props.index.refreshHomeData({categoryIds:[n]}),this.props.router.push("/")}},{key:"onPrivateLetter",value:function(){var e;if(!this.props.user.isLogin())return M.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),void Object(U.a)({url:"/user/login"});var t=null===(e=this.props.thread)||void 0===e?void 0:e.authorInfo,n=t.username,r=t.nickname;n&&C.a.push({url:"/message?page=chat&username=".concat(n,"&nickname=").concat(r)})}},{key:"onUserClick",value:function(e){e&&C.a.push({url:"/user/".concat(e)})}},{key:"renderContent",value:function(){var e,t=this,n=this.props.thread,a=n.isReady,i=n.isCommentReady,o=(n.isNoMore,n.totalCount,n.isCommentListError),s=1===((null===n||void 0===n||null===(e=n.threadData)||void 0===e?void 0:e.isApproved)||0);return Object(r.jsxs)("div",{className:qe.a.bodyLeft,children:[a&&!s&&Object(r.jsx)("div",{className:qe.a.examinePosition}),a?Object(r.jsx)(ct,{store:n,onOperClick:function(e){return t.onOperClick(e)},onLikeClick:function(){return t.onLikeClick()},onCollectionClick:function(){return t.onCollectionClick()},onShareClick:function(){return t.onShareClick()},onRewardClick:function(){return t.onRewardClick()},onTagClick:function(){return t.onTagClick()},onPayClick:function(){return t.onPayClick()},onUserClick:function(){var e,n,r;return t.onUserClick(null===(e=t.props.thread)||void 0===e||null===(n=e.threadData)||void 0===n||null===(r=n.user)||void 0===r?void 0:r.userId)}}):Object(r.jsx)(S.a,{type:"init"}),Object(r.jsx)("div",{className:"".concat(qe.a.bottom),ref:this.commentDataRef,children:i?Object(r.jsx)(y.Fragment,{children:Object(r.jsx)(yt,{router:this.props.router,sort:function(e){return t.onSortChange(e)},onEditClick:function(e){return t.onEditClick(e)},onPublishClick:function(e,n){return t.onPublishClick(e,n)},onReportClick:function(e){return t.onReportClick(e)}})}):Object(r.jsx)(S.a,{isError:o,type:"init"})})]})}},{key:"renderRight",value:function(){var e,t,n,a,i,o,s,c=this,u=this.props.thread,l=u.isAuthorInfoError,d=u.isReady,p=1===((null===u||void 0===u||null===(e=u.threadData)||void 0===e?void 0:e.isApproved)||0),f=(null===(t=this.props.user)||void 0===t||null===(n=t.userInfo)||void 0===n?void 0:n.id)&&(null===(a=this.props.user)||void 0===a||null===(i=a.userInfo)||void 0===i?void 0:i.id)===(null===u||void 0===u||null===(o=u.threadData)||void 0===o?void 0:o.userId),h=null===u||void 0===u||null===(s=u.threadData)||void 0===s?void 0:s.isAnonymous;return Object(r.jsxs)("div",{className:"".concat(qe.a.bodyRigth),children:[d&&!p&&Object(r.jsx)("div",{className:qe.a.examinePosition}),!h&&Object(r.jsx)("div",{className:"".concat(qe.a.authorInfo," detail-authorinfo"),children:null!==u&&void 0!==u&&u.authorInfo?Object(r.jsx)(We.a,{user:u.authorInfo,onFollowClick:function(){return c.onFollowClick()},onPrivateLetter:function(){return c.onPrivateLetter()},onPersonalPage:function(){var e,t,n;return c.onUserClick(null===(e=c.props.thread)||void 0===e||null===(t=e.threadData)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.userId)},isShowBtn:!f}):Object(r.jsx)(S.a,{type:"init",isError:l})}),Object(r.jsx)("div",{className:qe.a.recommend,children:Object(r.jsx)(rt.a,{})}),Object(r.jsx)("div",{className:qe.a.qrcode,children:Object(r.jsx)(at.a,{})}),Object(r.jsx)("div",{className:qe.a.copyright,children:Object(r.jsx)(nt.a,{})})]})}},{key:"render",value:function(){var e,t,n,a,i,o,s,c,u,l,d,p,f,h,v,m,b=this,y=this.props.thread,g=y.isCommentReady,j=y.isNoMore,x=this.props.thread,O=x.isReady,w=1===((null===x||void 0===x||null===(e=x.threadData)||void 0===e?void 0:e.isApproved)||0),C=null===x||void 0===x||null===(t=x.threadData)||void 0===t?void 0:t.isAnonymous,k=(null===(n=this.props.user)||void 0===n||null===(a=n.userInfo)||void 0===a?void 0:a.id)&&(null===(i=this.props.user)||void 0===i||null===(o=i.userInfo)||void 0===o?void 0:o.id)===(null===x||void 0===x||null===(s=x.threadData)||void 0===s?void 0:s.userId);return Object(r.jsxs)("div",{children:[Object(r.jsx)($e,{showContent:null===(c=this.props.thread)||void 0===c||null===(u=c.threadData)||void 0===u?void 0:u.isStick,setTop:this.state.setTop}),Object(r.jsx)(tt,{isShow:O&&!w}),Object(r.jsx)(Xe.a,{onRefresh:function(){return b.handleOnRefresh()},onScroll:function(){return b.handleOnScroll()},noMore:j,ref:this.threadBodyRef,showRefresh:!1,right:this.renderRight(),isShowLayoutRefresh:g,ready:function(){return b.onBaseLayoutReady()},rightClassName:D()(qe.a.positionSticky,{"is-userinfo-show":!C,"is-operate-show":!k}),className:"detail",children:this.renderContent()}),Object(r.jsx)($.a,{position:"center",visible:this.state.showCommentInput,onClose:function(){return b.onClose()},children:Object(r.jsxs)("div",{className:qe.a.editCmment,children:[Object(r.jsx)("div",{className:qe.a.close,onClick:function(){return b.onClose()},children:Object(r.jsx)(R.a,{size:18,name:"WrongOutlined"})}),Object(r.jsx)("div",{className:qe.a.title,children:"\u7f16\u8f91\u8bc4\u8bba"}),Object(r.jsx)("div",{className:qe.a.user,children:Object(r.jsx)(we.a,{name:(null===this||void 0===this||null===(l=this.comment)||void 0===l||null===(d=l.user)||void 0===d?void 0:d.nickname)||"",avatar:(null===this||void 0===this||null===(p=this.comment)||void 0===p||null===(f=p.user)||void 0===f?void 0:f.avatar)||"",time:"".concat(null===this||void 0===this||null===(h=this.comment)||void 0===h?void 0:h.updatedAt)||"",userId:null===this||void 0===this||null===(v=this.comment)||void 0===v||null===(m=v.user)||void 0===m?void 0:m.userId,platform:"pc"})}),Object(r.jsx)(Fe.a,{height:"middle",onSubmit:function(e){return b.onPublishClick(e)},initValue:this.state.inputValue})]})}),Object(r.jsx)(z.a,{visible:this.state.showDeletePopup,onClose:function(){return b.setState({showDeletePopup:!1})},onBtnClick:function(){return b.delete()}}),Object(r.jsx)(Qe,{reportContent:this.reportContent,inputText:this.inputText,visible:this.state.showReportPopup,onCancel:function(){return b.onReportCancel()},onOkClick:function(e){return b.onReportOk(e)}}),Object(r.jsx)(ze,{visible:this.state.showRewardPopup,onCancel:function(){return b.setState({showRewardPopup:!1})},onOkClick:function(e){return b.onRewardSubmit(e)}})]})}}]),n}(g.a.Component))||mt)||mt)||mt)||mt)||mt)||mt)||mt)||mt,Ot=Object(j.withRouter)(xt),wt=n("QcND"),Ct=n("ZCww"),kt=n("L0er"),Nt=n("J0pL"),Tt=n("Tk/S"),Dt=n("/Ugf");n("lF3x");function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var a=b()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v()(this,n)}}var St=Object(x.c)("site")(jt=Object(x.c)("thread")(jt=Object(x.c)("user")(jt=Object(x.c)("index")(jt=Object(x.c)("topic")(jt=Object(x.c)("search")(jt=Object(x.d)(jt=function(e){f()(n,e);var t=Et(n);function n(e){var r;u()(this,n),(r=t.call(this,e)).updateViewCount=function(){var e=s()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleWeiXinShare=s()(i.a.mark((function e(){var t,n,a,o,s,c,u,l,d,p,f,h,v,m,b,y,g,j,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(1!==m){var r=Object(Dt.a)(e);if(r&&""!==r)return r}var a=[];n[101]&&a.push("\u56fe\u7247"),n[103]&&a.push("\u89c6\u9891"),n[102]&&a.push("\u97f3\u9891"),n[108]&&a.push("\u9644\u4ef6");var i=a.length>0?"".concat(a.join("/")):"\u5185\u5bb9",o=t&&t.nickname?"".concat(t.nickname):"";return"".concat(o,"\u5206\u4eab\u7684").concat(i)},n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,a=null;if(1!==m){for(var i=t.match(/<img[\s]+[^<>]*>|<img[\s]+[^<>]*/g)||[],o=0;o<i.length;o++)if(-1===i[o].indexOf("qq-emotion")&&(a=i[o].match(/(http|https):\/\/.*?(webp|png|jpg|jpeg)/gi))){a=a?a[0]:null;break}if(2!==m&&!a&&n[101])for(var s=n[101].body||[],c=0;c<s.length;c++)if("gif"!==s[c].extension){a=s[c].thumbUrl;break}}return!a&&e&&e.avatar&&(a=e.avatar),!a&&r&&""!==r&&(a=r),a},a=r.props,o=a.site,s=a.thread,c=o.webConfig,u=c.setSite,l=u.siteFavicon,d=u.siteIntroduction,p=s.threadData,f=p.content,h=p.title,v=p.user,m=p.payType,b=f.text,y=f.indexes,g=d&&""!==d?d:"\u5728\u8fd9\u91cc\uff0c\u53d1\u73b0\u66f4\u591a\u7cbe\u5f69\u5185\u5bb9",j=h&&""!==h?h:t(b,v,y),x=n(v,b,y,l),Object(Tt.a)(j,g,window.location.href,x)}catch(i){console.error("\u8bbe\u7f6e\u5206\u4eab\u9519\u8bef",i)}case 1:case"end":return e.stop()}}),e)}))),r.state={isServerError:!1,serverErrorMsg:""};var a=r.props,o=a.thread,c=a.serverThread;return(null===c||void 0===c?void 0:c.commentList)&&o.setCommentList(c.commentList),(null===c||void 0===c?void 0:c.totalCount)&&o.setTotalCount(c.totalCount),r}return d()(n,null,[{key:"getInitialProps",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===t||void 0===t||null===(n=t.query)||void 0===n?void 0:n.id,a={threadData:null,commentList:null,totalCount:0,authorInfo:null},!r){e.next=11;break}return e.next=5,Object(O.readThreadDetail)({params:{threadId:Number(r)}});case 5:return 0===(o=e.sent).code&&(a.threadData=o.data),e.next=9,Object(O.readCommentList)({params:{filter:{thread:Number(r)},sort:"createdAt",page:1,perPage:20}});case 9:0===(s=e.sent).code&&(a.commentList=(null===(c=s.data)||void 0===c?void 0:c.pageData)||[],a.totalCount=(null===(u=s.data)||void 0===u?void 0:u.totalCount)||0);case 11:return e.abrupt("return",{serverThread:a});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),d()(n,[{key:"componentDidUpdate",value:function(e){var t,n;null!==(t=this.props.router)&&void 0!==t&&null!==(n=t.query)&&void 0!==n&&n.id&&this.props.router.query.id!==e.router.query.id&&(this.props.thread.reset(),this.getPageDate(this.props.router.query.id))}},{key:"componentDidMount",value:function(){var e=s()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.router.query.id)){e.next=5;break}return e.next=4,this.getPageDate(t);case 4:this.updateViewCount(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPageDate",value:function(){var e=s()(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,d,p,f,h,v,m,b,y,g,j,x,O,w,k,N,T,D;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.props)&&void 0!==n&&null!==(r=n.thread)&&void 0!==r&&r.threadData&&this.hasMaybeCache()){e.next=21;break}return p=(null===(u=this.props.thread)||void 0===u?void 0:u.isPositionToComment)||!1,this.props.thread.reset({isPositionToComment:p}),e.next=5,this.props.thread.fetchThreadDetail(t);case 5:if(0===(f=e.sent).code){e.next=13;break}if(-4004!==f.code){e.next=10;break}return C.a.replace({url:"/404"}),e.abrupt("return");case 10:return f.code>-5e3&&f.code<-4e3&&this.setState({serverErrorMsg:f.msg}),this.setState({isServerError:!0}),e.abrupt("return");case 13:if(1===((null===(l=this.props.thread)||void 0===l||null===(d=l.threadData)||void 0===d?void 0:d.isApproved)||0)){e.next=21;break}if(g=null===(h=this.props.user)||void 0===h||null===(v=h.userInfo)||void 0===v?void 0:v.id,j=null===(m=this.props.thread)||void 0===m||null===(b=m.threadData)||void 0===b||null===(y=b.user)||void 0===y?void 0:y.userId,g&&j&&g===j){e.next=21;break}return M.a.info({content:"\u5185\u5bb9\u6b63\u5728\u5ba1\u6838\u4e2d\uff0c\u5ba1\u6838\u901a\u8fc7\u540e\u624d\u80fd\u6b63\u5e38\u663e\u793a!"}),C.a.redirect({url:"/"}),e.abrupt("return");case 21:this.handleWeiXinShare(),null!==(a=this.props)&&void 0!==a&&null!==(o=a.thread)&&void 0!==o&&o.commentList&&this.hasMaybeCache()||(x={id:t},this.props.thread.loadCommentList(x)),null!==(s=this.props)&&void 0!==s&&null!==(c=s.thread)&&void 0!==c&&c.authorInfo&&this.hasMaybeCache()||(N=this.props.site,T=N.platform,D=null===(O=this.props.thread)||void 0===O||null===(w=O.threadData)||void 0===w||null===(k=w.user)||void 0===k?void 0:k.userId,"pc"===T&&D&&this.props.thread.fetchAuthorInfo(D));case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasMaybeCache",value:function(){var e,t,n,r=this.props.router.query.id,a=null===(e=this.props)||void 0===e||null===(t=e.thread)||void 0===t||null===(n=t.threadData)||void 0===n?void 0:n.threadId;return r&&a&&Number(r)===a}},{key:"render",value:function(){var e,t,n,a,i,o,s,c,u,l=this.props.site.platform,d=!0;return(null!==(e=this.props)&&void 0!==e&&null!==(t=e.thread)&&void 0!==t&&null!==(n=t.threadData)&&void 0!==n&&n.title||null!==(a=this.props)&&void 0!==a&&null!==(i=a.thread)&&void 0!==i&&null!==(o=i.threadData)&&void 0!==o&&null!==(s=o.content)&&void 0!==s&&s.text)&&(d=!1),this.state.isServerError?"h5"===l?Object(r.jsx)(kt.a,{text:this.state.serverErrorMsg}):Object(r.jsx)(Ct.a,{text:this.state.serverErrorMsg}):Object(r.jsx)(Nt.a,{h5:Object(r.jsx)(Ue,{}),pc:Object(r.jsx)(Ot,{}),title:(null===(c=this.props)||void 0===c||null===(u=c.thread)||void 0===u?void 0:u.title)||"",showSiteName:d})}}]),n}(g.a.Component))||jt)||jt)||jt)||jt)||jt)||jt)||jt;t.default=Object(j.withRouter)(Object(wt.a)(St))},ToJy:function(e,t,n){"use strict";var r=n("I+eb"),a=n("HAuM"),i=n("ewvW"),o=n("0Dky"),s=n("pkCn"),c=[],u=c.sort,l=o((function(){c.sort(void 0)})),d=o((function(){c.sort(null)})),p=s("sort");r({target:"Array",proto:!0,forced:l||!d||!p},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),a(e))}})},U5R6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("YKlV").VideoWebAdapter}});t.logicalAdapter=r},UUEJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return n("PEFd").WebLayout};t.default=r},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},Vhm6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t,n){var r=n.singleton;e.on("play",(function(){t.emit("play",e)})),t.on("play",(function(t){if(t!==e&&r&&e&&e.pause)try{e.pause()}catch(n){}}))};t.default=r},W7Eq:function(e,t,n){"use strict";n("ma9I"),n("pjDv"),n("yXV3"),n("2B1R"),n("toAj"),n("07d7"),n("rNhl"),n("5s+n"),n("p532"),n("PKPk"),n("R5XZ");var r=n("nKUr"),a=n("o0o1"),i=n.n(a),o=(n("ls82"),n("yXPU")),s=n.n(o),c=n("RIqP"),u=n.n(c),l=n("q1tI"),d=n("kMSe"),p=n("MCNy"),f=n.n(p),h=n("wdT/"),v=n.n(h),m=n("jqTq"),b=n.n(m),y=n("z6Ap"),g=n("TibX"),j=n("rOX+"),x=n.n(j),O=n("RiVy"),w="SOLX-ogNwVJ5E30OEbY9Q",C="_76Sn2CjPlJgJFYYgXw-C0",k="unuSy4bkSSb1t8xUCF48e",N="_2o_UuDc3FHEuK96kGaj8nU",T="xyOgFL1o4_3reDsuRILck",D="ECsijhvZD2mW4nLZnsH4Y",E="_21Y31WLTPGrLOAm-ReX6X",S="_2U5hFySb692J3s5WmF6fWe",P="_1NAWI6MxKGGd3i1Hn7K2ib",A="_2ptjcMEw5FXkiLLnFRudE2",R="_3ejT0drNPSpVnW3UhBzF2I",I="_2rdPENSgZ_fhEvd3210gjh";t.a=Object(d.c)("thread","user")(Object(d.d)((function(e){var t=e.attachments,n=void 0===t?[]:t,a=(e.isHidden,e.isPay),o=void 0!==a&&a,c=e.onClick,d=void 0===c?y.e:c,p=e.onPay,h=void 0===p?y.e:p,m=e.threadId,j=void 0===m?null:m,_=e.thread,L=void 0===_?null:_,M=(e.user,e.updateViewCount),B=void 0===M?y.e:M,U=function(e,t,n){if(e&&t){var r=v.a.loading({duration:0});L.fetchThreadAttachmentUrl(e,t).then((function(e){if(0===(null===e||void 0===e?void 0:e.code)&&null!==e&&void 0!==e&&e.data){var t=e.data.url;t||v.a.info({content:"\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25"}),n(t)}else(null!==e&&void 0!==e&&e.msg||null!==e&&void 0!==e&&e.Message)&&v.a.info({content:(null===e||void 0===e?void 0:e.msg)||(null===e||void 0===e?void 0:e.Message)})})).catch((function(e){v.a.info({content:"\u83b7\u53d6\u4e0b\u8f7d\u94fe\u63a5\u5931\u8d25"}),console.error(e)})).finally((function(){null===r||void 0===r||r.destroy()}))}},W=Object(l.useState)(Array.from({length:n.length},(function(){return!1}))),F=W[0],V=W[1],z=function(e){return"XLS"===e||"XLSX"===e?"XLSOutlined":"DOC"===e||"DOCX"===e||"ZIP"===e||"PDF"===e?"DOCOutlined":"PPT"===e?"PPTOutlined":"DOCOutlined"},X=function(e){var t,n=e.item,a=e.index,c=e.type,l=z(c);return Object(r.jsx)("div",{className:C,onClick:d,children:Object(r.jsxs)("div",{className:w,children:[Object(r.jsxs)("div",{className:k,children:[Object(r.jsx)(f.a,{className:P,size:20,name:l}),Object(r.jsxs)("div",{className:E,children:[Object(r.jsx)("span",{className:A,children:n.fileName}),Object(r.jsx)("span",{className:S,children:(t=parseFloat(n.fileSize||0),t>1e6?"".concat((t/1e6).toFixed(2)," M"):t>1e3?"".concat((t/1e3).toFixed(2)," KB"):"".concat(t," B"))})]})]}),Object(r.jsxs)("div",{className:N,children:[Object(r.jsx)("span",{className:T,onClick:Object(g.b)((function(){return function(e,t){if(B(),o)h();else{if(!e||!j)return;var n=e.id;U(j,n,function(){var e=s()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){x()({url:t}),v.a.success({content:"\u94fe\u63a5\u590d\u5236\u6210\u529f"})}),300);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}(n)}),1e3),children:"\u94fe\u63a5"}),Object(r.jsx)("div",{className:D,children:F[a]?Object(r.jsx)(b.a,{className:I,type:"spinner"}):Object(r.jsx)("span",{className:T,onClick:Object(g.b)((function(){return function(e,t){if(B(),o)h();else{if(!e||!j)return;if(F[t]=!0,V(u()(F)),Object(O.a)())window.location.href=e.url,v.a.info({content:"\u4e0b\u8f7d\u6210\u529f"});else{var n=e.id;U(j,n,(function(e){window.location.href=e,v.a.info({content:"\u4e0b\u8f7d\u6210\u529f"})}))}F[t]=!1,V(u()(F))}}(n,a)}),1e3),children:"\u4e0b\u8f7d"})})]})]})},a)},q=function(e){var t=e.item,n=e.index,a=e.type,i=z(a);return Object(r.jsxs)("div",{className:"".concat(C," ").concat(R),onClick:h,children:[Object(r.jsx)(f.a,{className:P,size:20,name:i}),Object(r.jsx)("span",{className:A,children:t.fileName})]},n)};return Object(r.jsx)("div",{className:w,children:n.map((function(e,t){var n=(null===e||void 0===e?void 0:e.extension)||"",a=y.b.indexOf(n.toUpperCase())>0?n.toUpperCase():"UNKNOWN";return o?Object(r.jsx)(q,{item:e,index:t,type:a},t):Object(r.jsx)(X,{item:e,index:t,type:a},t)}))})})))},WXkR:function(e,t,n){"use strict";n("ma9I"),n("SYor");var r=n("nKUr"),a=n("q1tI"),i=n.n(a),o=n("5f2u"),s=n.n(o),c=n("MCNy"),u=n.n(c),l=n("Bvw4"),d=n("z6Ap"),p={listItem:"_3ZgI5fnFxR4PAHftth-b8G",wrapper:"nbiwUMdHyKLtMx0OKeIFi",header:"xGKHGllASQIaBtDvTOiPs",content:"_2XI066-ezXSJlk_miD92dH",title:"_2CBOsw5j2eBGcN9Qyo6fQq",subTitle:"_3nBXVdoHgO88eNaZnf78lX",footer:"_1gwJ231UyNqOu9gmZwzwls",label:"_2RmPN_gXow8qGdHPqnHmDI",rightIcon:"l_TKM4pBaIyVjHGW3kEr3",button:"_352ADTMI-ThzFOCTUThW5K"},f=function(e){var t=e.imgSrc,n=e.title,a=void 0===n?"":n,i=e.type,o=void 0===i?0:i,c=e.subTitle,f=e.label,h=e.index,v=e.onClick,m=void 0===v?d.e:v,b=e.userId,y=e.platform,g=e.itemStyle,j=void 0===g?{}:g,x=e.className,O=void 0===x?"":x,w=function(e){e.stopPropagation();var t=null===e||void 0===e?void 0:e.currentTarget.querySelector("#avatar-popup");e&&t&&t.contains(e.target)||m(b)},C="".concat(p.listItem," ").concat(O);return Object(r.jsxs)("div",{className:C.trim(),onClick:w,style:j,children:[Object(r.jsxs)("div",{className:p.wrapper,children:[Object(r.jsx)("div",{className:p.header,children:Object(r.jsx)(l.a,{className:p.img,image:t,name:a,isShowUserInfo:"pc"===y,userId:b,userType:o})}),Object(r.jsxs)("div",{className:p.content,children:[Object(r.jsx)("span",{className:p.title,children:a}),c&&Object(r.jsx)("span",{className:p.subTitle,children:c})]})]}),f||""===f?Object(r.jsxs)("div",{className:p.footer,children:[Object(r.jsx)("span",{className:p.label,children:f}),Object(r.jsx)(u.a,{className:p.rightIcon,name:"RightOutlined",size:12})]}):Object(r.jsx)(s.a,{type:"primary",className:p.button,onClick:w,children:"\u67e5\u770b\u4e3b\u9875"})]},h)};t.a=i.a.memo(f)},"X8+f":function(e,t,n){"use strict";function r(e){return e&&"object"===typeof e&&"default"in e?e.default:e}var a=r(n("0Tbm")),i=r(n("vgmO"));e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=a.buildAbsoluteURL(i.location&&i.location.href||"",e)),a.buildAbsoluteURL(e,t))}},XzP8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){return n("SIfR").useWebAdapter};t.default=r},YKlV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoWebAdapter=void 0;t.VideoWebAdapter={abs:function(){return"abc"}}},a20H:function(e,t,n){"use strict";n("pjDv"),n("2B1R"),n("07d7"),n("5s+n"),n("PKPk"),Object.defineProperty(t,"__esModule",{value:!0}),t.getRect=function(e,t){return new Promise((function(n,r){e.current?n(t?Array.from(e.current.querySelectorAll(t)).map((function(e){return e.getBoundingClientRect()})):[e.current.getBoundingClientRect()]):r()}))}},dJxt:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var a=Object.create(t.prototype);r.__proto__=a}if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var a={},i=a.ELEMENT_NODE=1,o=a.ATTRIBUTE_NODE=2,s=a.TEXT_NODE=3,c=a.CDATA_SECTION_NODE=4,u=a.ENTITY_REFERENCE_NODE=5,l=a.ENTITY_NODE=6,d=a.PROCESSING_INSTRUCTION_NODE=7,p=a.COMMENT_NODE=8,f=a.DOCUMENT_NODE=9,h=a.DOCUMENT_TYPE_NODE=10,v=a.DOCUMENT_FRAGMENT_NODE=11,m=a.NOTATION_NODE=12,b={},y={},g=(b.INDEX_SIZE_ERR=(y[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),j=(b.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),b.NOT_FOUND_ERR=(y[8]="Not found",8)),x=(b.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));b.INVALID_STATE_ERR=(y[11]="Invalid state",11),b.SYNTAX_ERR=(y[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),b.NAMESPACE_ERR=(y[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function O(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,O);return n.code=e,t&&(this.message=this.message+": "+t),n}function w(){}function C(e,t){this._node=e,this._refresh=t,k(this)}function k(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);re(e,"length",r.length),n(r,e),e._inc=t}}function N(){}function T(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function D(e,t,n,r){if(r?t[T(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var a=e.ownerDocument;a&&(r&&_(a,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(a,e,n))}}function E(e,t,n){var r=T(t,n);if(!(r>=0))throw O(j,new Error(e.tagName+"@"+n));for(var a=t.length-1;r<a;)t[r]=t[++r];if(t.length=a,e){var i=e.ownerDocument;i&&(_(i,e,n),n.ownerElement=null)}}function S(e){if(this._features={},e)for(var t in e)this._features=e[t]}function P(){}function A(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function R(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(R(e,t))return!0}while(e=e.nextSibling)}function I(){}function _(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var a=t.firstChild,i=0;a;)r[i++]=a,a=a.nextSibling;r.length=i}}}function M(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function B(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===v){var a=t.firstChild;if(null==a)return t;var i=t.lastChild}else a=i=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,i.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=i:n.previousSibling=i;do{a.parentNode=e}while(a!==i&&(a=a.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==v&&(t.firstChild=t.lastChild=null),t}function U(){this._nsMap={}}function W(){}function F(){}function V(){}function z(){}function X(){}function q(){}function H(){}function Y(){}function G(){}function K(){}function J(){}function Q(){}function Z(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,a=r.prefix,i=r.namespaceURI;if(i&&null==a&&null==(a=r.lookupPrefix(i)))var o=[{namespace:i,prefix:null}];return ee(this,n,e,t,o),n.join("")}function $(e,t,n){var r=e.prefix||"",a=e.namespaceURI;if(!r&&!a)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;for(var i=n.length;i--;){var o=n[i];if(o.prefix==r)return o.namespace!=a}return!0}function ee(e,t,n,r,a){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case i:a||(a=[]);a.length;var l=e.attributes,m=l.length,b=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var g=0;g<m;g++){"xmlns"==(j=l.item(g)).prefix?a.push({prefix:j.localName,namespace:j.value}):"xmlns"==j.nodeName&&a.push({prefix:"",namespace:j.value})}for(g=0;g<m;g++){var j;if($(j=l.item(g),0,a)){var x=j.prefix||"",O=j.namespaceURI,w=x?" xmlns:"+x:" xmlns";t.push(w,'="',O,'"'),a.push({prefix:x,namespace:O})}ee(j,t,n,r,a)}if($(e,0,a)){x=e.prefix||"",O=e.namespaceURI,w=x?" xmlns:"+x:" xmlns";t.push(w,'="',O,'"'),a.push({prefix:x,namespace:O})}if(b||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;b;)b.data?t.push(b.data):ee(b,t,n,r,a),b=b.nextSibling;else for(;b;)ee(b,t,n,r,a),b=b.nextSibling;t.push("</",y,">")}else t.push("/>");return;case f:case v:for(b=e.firstChild;b;)ee(b,t,n,r,a),b=b.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,A),'"');case s:return t.push(e.data.replace(/[<&]/g,A));case c:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case h:var C=e.publicId,k=e.systemId;if(t.push("<!DOCTYPE ",e.name),C)t.push(' PUBLIC "',C),k&&"."!=k&&t.push('" "',k),t.push('">');else if(k&&"."!=k)t.push(' SYSTEM "',k,'">');else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){var r;switch(t.nodeType){case i:(r=t.cloneNode(!1)).ownerDocument=e;case v:break;case o:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var a=t.firstChild;a;)r.appendChild(te(e,a,n)),a=a.nextSibling;return r}function ne(e,t,n){var r=new t.constructor;for(var a in t){var s=t[a];"object"!=typeof s&&s!=r[a]&&(r[a]=s)}switch(t.childNodes&&(r.childNodes=new w),r.ownerDocument=e,r.nodeType){case i:var c=t.attributes,u=r.attributes=new N,l=c.length;u._ownerElement=r;for(var d=0;d<l;d++)r.setAttributeNode(ne(e,c.item(d),!0));break;case o:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(ne(e,p,n)),p=p.nextSibling;return r}function re(e,t,n){e[t]=n}O.prototype=Error.prototype,n(b,O),w.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},C.prototype.item=function(e){return k(this),this[e]},r(C,w),N.prototype={length:0,item:w.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new O(x);var n=this.getNamedItem(e.nodeName);return D(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new O(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),D(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return E(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return E(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},S.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new I;if(r.implementation=this,r.childNodes=new w,r.doctype=n,n&&r.appendChild(n),t){var a=r.createElementNS(e,t);r.appendChild(a)}return r},createDocumentType:function(e,t,n){var r=new q;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ne(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(a,P),n(a,P.prototype),I.prototype={nodeName:"#document",nodeType:f,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==i&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return te(this,e,t)},getElementById:function(e){var t=null;return R(this.documentElement,(function(n){if(n.nodeType==i&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new U;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new w,(t.attributes=new N)._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new w,e},createTextNode:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new J;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new W;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new U,r=t.split(":"),a=n.attributes=new N;return n.childNodes=new w,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,a._ownerElement=n,n},createAttributeNS:function(e,t){var n=new W,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(I,P),U.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===v?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new C(this,(function(t){var n=[];return R(t,(function(r){r===t||r.nodeType!=i||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new C(this,(function(n){var r=[];return R(n,(function(a){a===n||a.nodeType!==i||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||r.push(a)})),r}))}},I.prototype.getElementsByTagName=U.prototype.getElementsByTagName,I.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,r(U,P),W.prototype.nodeType=o,r(W,P),F.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[g])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(F,P),V.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(V,F),z.prototype={nodeName:"#comment",nodeType:p},r(z,F),X.prototype={nodeName:"#cdata-section",nodeType:c},r(X,F),q.prototype.nodeType=h,r(q,P),H.prototype.nodeType=m,r(H,P),Y.prototype.nodeType=l,r(Y,P),G.prototype.nodeType=u,r(G,P),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=v,r(K,P),J.prototype.nodeType=d,r(J,P),Q.prototype.serializeToString=function(e,t,n){return Z.call(e,t,n)},P.prototype.toString=Z;try{if(Object.defineProperty){function ae(e){switch(e.nodeType){case i:case v:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ae(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(C.prototype,"length",{get:function(){return k(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return ae(this)},set:function(e){switch(this.nodeType){case i:case v:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),re=function(e,t,n){e["$$"+t]=n}}}catch(ie){}t.DOMImplementation=S,t.XMLSerializer=Q},dQ0f:function(e,t,n){"use strict";n("R5XZ");t.a=function(e,t){var n=null;return function(){var r=arguments,a=this;n||(n=setTimeout((function(){e.apply(a,r),n=null}),t))}}},dkxo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)},a=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},i=function(e,t){void 0===t&&(t=0);var n=(e=r(e))[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},o=function e(t,n){return void 0===n&&(n=0),(t=r(t)).length-n<10||"ID3"!==a(t.subarray(n,n+3))?n:e(t,n+=i(t,n))},s={aac:function(e){var t=o(e);return e.length>=t+2&&255===(255&e[t])&&224===(224&e[t+1])&&16===(22&e[t+1])},mp3:function(e){var t=o(e);return e.length>=t+2&&255===(255&e[t])&&224===(224&e[t+1])&&2===(6&e[t+1])},webm:function(e){return e.length>=4&&26===(255&e[0])&&69===(255&e[1])&&223===(255&e[2])&&163===(255&e[3])},mp4:function(e){return e.length>=8&&/^(f|s)typ$/.test(a(e.subarray(4,8)))&&!/^ftyp3g$/.test(a(e.subarray(4,10)))},"3gp":function(e){return e.length>=10&&/^ftyp3g$/.test(a(e.subarray(4,10)))},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){return e.length>=4&&/^fLaC$/.test(a(e.subarray(0,4)))},ogg:function(e){return e.length>=4&&/^OggS$/.test(a(e.subarray(0,4)))}},c=Object.keys(s).filter((function(e){return"ts"!==e})).concat("ts");c.forEach((function(e){var t=s[e];s[e]=function(e){return t(r(e))}}));t.detectContainerForBytes=function(e){e=r(e);for(var t=0;t<c.length;t++){var n=c[t];if(s[n](e))return n}return""},t.getId3Offset=o,t.id3Size=i,t.isLikely=s,t.isLikelyFmp4MediaSegment=function(e){e=r(e);for(var t=0;t<e.length;){var n=(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;if("moof"===a(e.subarray(t+4,t+8)))return!0;0===n||n+t>e.length?t=e.length:t+=n}return!1}},eUBB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebAdapter=void 0;t.WebAdapter={}},"f+Ey":function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},f3qo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("S1Q7").WebLayout}});t.viewAdapter=r},fEx9:function(e,t,n){"use strict";n("ma9I"),n("TeQF"),n("2B1R"),n("E9XD");var r=n("nKUr"),a=n("q1tI"),i=n.n(a),o=(n("SYor"),n("RIqP")),s=n.n(o),c=n("o0o1"),u=n.n(c),l=(n("ls82"),n("yXPU")),d=n.n(l),p=n("zkTq"),f=n.n(p),h=n("k8W2"),v=n.n(h),m=n("MCNy"),b=n.n(m),y=n("jqTq"),g=n.n(y),j=n("WXkR"),x={list:"_1BBAFAvrNwHBA4T-1eFBVC",userItem:"_1V550UP6ChCDCPuwl_S70a",pcItem:"_2s4PJNCWRPzU-ptXEuC0-Z",tabs:"_3Ep5MxuFTfEQ_QSXgCN-PK",tabsPC:"_2qlLcJfrhgIErLw7ToizlJ",listWrapper:"_3c7b2THuhgirVUZSzGQ_WE",tabIcon:"_2Ij7n__P6t1oVjwTyfX4h5",label:"_3tDAgQC6CeLsCGO7o2hj_v",icon:"_1AEwVAY6kv8zgySjinJKM",title:"LVhsQb12dvEsTE-uM3wob",bottomView:"_2oGDyAY-5vPQrZWeH_Tilp",spinnerPC:"_3lWqNrIw2haGZJ2Vlu7U2J",spinner:"_21wtbjcrE1DtNMxDDS7TXo"},O=n("i8i4"),w=n.n(O),C=n("sho3"),k=n("VVxn"),N=n("ni5c"),T=n("20a2"),D=function(e){var t,n,i,o,c=e.visible,l=void 0!==c&&c,p=e.onHidden,h=void 0===p?function(){}:p,m=e.tipData,y=void 0===m?{}:m,O=e.router,T=Object(a.useRef)(1),D=Object(a.useRef)(1),E=Object(a.useRef)(1),S=Object(a.useState)(null),P=S[0],A=S[1],R=Object(a.useState)(null),I=R[0],_=R[1],L=Object(a.useState)(null),M=L[0],B=L[1],U=Object(a.useState)(!1),W=U[0],F=U[1],V=Object(a.useState)("\u6682\u65e0\u6570\u636e"),z=V[0],X=V[1],q=Object(a.useState)(0),H=q[0],Y=q[1];Object(a.useEffect)((function(){l&&K({type:H})}),[l]);var G,K=function(){var e=d()(u.a.mark((function e(t){var n,r,a,i,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=y.postId,a=void 0===r?"":r,i=y.threadId,o=void 0===i?"":i,e.next=4,Object(C.readLikedUsers)({params:{threadId:o,postId:a,type:n,page:1}});case 4:return 0===(null===(s=e.sent)||void 0===s?void 0:s.code)?A(null===s||void 0===s?void 0:s.data):(F(!0),X(null===s||void 0===s?void 0:s.msg)),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=d()(u.a.mark((function e(){var t,n,r,a,i,o,c,l,d,p,f,h,v,m,b,g,j,x,O,w,k=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.length>0&&void 0!==k[0]?k[0]:{},n=t.page,r=void 0===n?1:n,a=t.type,i=void 0===a?1:a,o=y.postId,c=void 0===o?"":o,l=y.threadId,d=void 0===l?"":l,i=3===i?2:i,e.next=5,Object(C.readLikedUsers)({params:{threadId:d,postId:c,page:r,type:i}});case 5:return p=e.sent,f=(null===p||void 0===p?void 0:p.data)||{},0===i?(1!==r&&(null===f||void 0===f||null===(h=f.pageData)||void 0===h||(v=h.list).unshift.apply(v,s()((null===P||void 0===P||null===(m=P.pageData)||void 0===m?void 0:m.list)||[]))),A(f)):1===i?(1!==r&&(null===f||void 0===f||null===(b=f.pageData)||void 0===b||(g=b.list).unshift.apply(g,s()((null===I||void 0===I||null===(j=I.pageData)||void 0===j?void 0:j.list)||[]))),_(f)):2!==i&&3!==i||(1!==r&&(null===f||void 0===f||null===(x=f.pageData)||void 0===x||(O=x.list).unshift.apply(O,s()((null===M||void 0===M||null===(w=M.pageData)||void 0===w?void 0:w.list)||[]))),B(f)),e.abrupt("return",p);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){return 0===H?(T.current+=1,J({page:T.current,type:H})):1===H?(D.current+=1,J({page:D.current,type:H})):(E.current+=1,J({page:E.current,type:H}))},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";$(),O.push("/user/".concat(e))},$=function(){h(),A(null),_(null),B(null),Y(0)},ee=function(e){var t=e.title,n=e.icon,a=e.number;return Object(r.jsxs)("div",{className:x.label,children:[n&&Object(r.jsx)(b.a,{className:x.icon,name:n}),t&&Object(r.jsx)("span",{className:"".concat(x.title," disable-click"),children:t}),0!==a&&"0"!==a&&Object(r.jsx)("span",{className:"disable-click ".concat(x.num),children:a})]})},te=[{icon:"",title:"\u5168\u90e8",data:P,number:(null===P||void 0===P||null===(t=P.pageData)||void 0===t?void 0:t.allCount)||0},{icon:"LikeOutlined",title:"",data:I,number:(null===P||void 0===P||null===(n=P.pageData)||void 0===n?void 0:n.likeCount)||0},{icon:"HeartOutlined",title:"\u4ed8\u8d39",data:M,number:(null===P||void 0===P||null===(i=P.pageData)||void 0===i?void 0:i.raidCount)||0},{icon:"HeartOutlined",title:"\u6253\u8d4f",data:M,number:(null===P||void 0===P||null===(o=P.pageData)||void 0===o?void 0:o.rewardCount)||0}],ne=Object(r.jsx)(v.a,{position:"h5"===(null===y||void 0===y?void 0:y.platform)?"bottom":"center",visible:l,onClose:$,children:P?Object(r.jsx)(f.a,{onActive:function(e){Y(e),(0===e&&!P||1===e&&!I||(2===e||3===e)&&!M)&&J({type:e,page:1})},activeId:H,className:"".concat(x.tabs," ").concat("pc"===(null===y||void 0===y?void 0:y.platform)&&x.tabsPC),tabBarExtraContent:"pc"===(null===y||void 0===y?void 0:y.platform)&&Object(r.jsx)("div",{onClick:$,className:x.tabIcon,children:Object(r.jsx)(b.a,{name:"CloseOutlined",size:12})}),children:(G=null===y||void 0===y?void 0:y.platform,te.map((function(e,t){var n,a,i,o,s=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.pageData)||void 0===a?void 0:a.list;if(0===e.number||"0"===e.number)return null;if((null===y||void 0===y?void 0:y.payType)>0){if(3===t)return null}else if(2===t)return null;var c="".concat(x.userItem," ").concat("pc"===(null===y||void 0===y?void 0:y.platform)?x.pcItem:"");return Object(r.jsx)(f.a.TabPanel,{id:t,label:ee({icon:e.icon,title:e.title,number:e.number}),children:null!==s&&void 0!==s&&s.length?Object(r.jsx)(k.a,{className:x.list,wrapperClass:x.listWrapper,onRefresh:Q,noMore:(null===(i=e.data)||void 0===i?void 0:i.currentPage)>=(null===(o=e.data)||void 0===o?void 0:o.totalPage),requestError:W,errorText:z,children:s.map((function(e,t){return Object(r.jsx)(j.a,{imgSrc:e.avatar,title:e.nickname||e.username,subTitle:e.passedAt,userId:e.userId,platform:G,onClick:Z,type:e.type,className:c.trim()},t)}))}):Object(r.jsx)(g.a,{className:"".concat("pc"===G?x.spinnerPC:x.spinner),type:"spinner"})},t)})).filter((function(e){return null!==e})))}):Object(r.jsx)(f.a,{activeId:H,className:"".concat(x.tabs," ").concat("pc"===(null===y||void 0===y?void 0:y.platform)&&x.tabsPC),children:Object(r.jsx)(f.a.TabPanel,{id:0,children:W?Object(r.jsx)(N.a,{className:x.bottomView,isError:W,errorText:z}):Object(r.jsx)(g.a,{className:"".concat("pc"===(null===y||void 0===y?void 0:y.platform)?x.spinnerPC:x.spinner),type:"spinner"})},0)})});return l?w.a.createPortal(ne,document.body):""},E=Object(T.withRouter)(i.a.memo(D)),S=n("Bvw4"),P=n("TibX"),A=n("z6Ap"),R="_1ItKbRnloFWuShiRhRrnEZ",I="_3H_IBH_gW4GlRgpwR8qIxG",_="_3XILdPsOR4IuysFA0QfgiY",L="_2uD24vfpHHIPRBGAFrxIvu",M="Knews-I6-B5bQvAIfCvUb",B="_2eUuy3tu2aVoqDkfnB2xIw",U="qz06A_QUfBoE0fpbyh8hA",W="_2vPehegUtEewcNMZF9XK0j",F="_34jW-YHcLPlFVuW7u8gILN",V="_2LW_nhkbVWPoJ6yb5n8GlR",z="_2-iwuuTkkAdlji_sfsUSgx",X="_1eNnT3VqlqlcOa0-tEHZM-",q="_2dDOs8vexSQDdW6SwuzZ_F",H="_2B17SD6VDGnYXqxPrPeKwg",Y="tE65PAUDcZw0AKsKcC3wk",G=function(e){var t=e.imgs,n=void 0===t?[]:t,i=e.tipData,o=void 0===i?{}:i,s=e.wholeNum,c=void 0===s?1:s,u=e.showMore,l=void 0!==u&&u,d=e.showCount,p=void 0===d?5:d,f=e.platform,h=void 0===f?"h5":f,v=e.updateViewCount,m=void 0===v?A.e:v,y=Object(a.useState)(!1),g=y[0],j=y[1],x=Object(P.a)((function(e){e.stopPropagation(),m(),j(!0)}),200),O=Object(a.useMemo)((function(){var e={};return n.reduce((function(t,n){return e[n.userId]||(t.push(n),e[n.userId]=1),t}),[])}),[n]),w=Object(a.useMemo)((function(){var e=O.length;return{width:"".concat(16*e+4*(e+1),"px")}}),[O]),C=[I,_,L,M,B,U,W,F,V,z];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"".concat(R," ").concat("pc"===h?H:Y),onClick:x,style:w,children:[0!==c&&(null===O||void 0===O?void 0:O.filter((function(e,t){return t<p})).map((function(e,t){return Object(r.jsx)("div",{className:C[t],children:Object(r.jsx)(S.a,{image:e.avatar,name:e.nickname,size:"small"})},t)}))),l&&(null===O||void 0===O?void 0:O.length)>p&&Object(r.jsx)("div",{className:X,size:20,children:Object(r.jsx)(b.a,{name:"MoreBOutlined",className:q,size:12})})]}),g&&Object(r.jsx)(E,{tipData:o,visible:g,onHidden:function(){j(!1)}})]})};t.a=i.a.memo(G)},fbCW:function(e,t,n){"use strict";var r=n("I+eb"),a=n("tycR").find,i=n("RNIs"),o=n("rkAj"),s="find",c=!0,u=o(s);s in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},fhKU:function(e,t,n){var r=n("2oRo"),a=n("WKiH").trim,i=n("WJkJ"),o=r.parseFloat,s=1/o(i+"-0")!==-1/0;e.exports=s?function(e){var t=a(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},fkjL:function(e,t,n){"use strict";n("07d7"),n("5s+n");var r=n("u/Lb");t.a=function(e,t){var n=e.threadId,a=e.userId,i=e.title,o=(e.group,e.payType),s=e.price,c=e.attachmentPrice,u=e.paid;if(0===o||null===u||!0===u)return Promise.resolve({success:!0});var l={threadId:n,payeeId:a,redAmount:0,rewardAmount:0,isAnonymous:0};return 1===o&&(l.type=3,l.amount=s,l.title=i||"\u4ed8\u8d39\u4e3b\u9898"),2===o&&(l.type=7,l.amount=c,l.title=i||"\u9644\u4ef6\u4ed8\u8d39"),new Promise((function(e,t){r.a.createPayBox({data:l,success:function(t){e({success:!0,data:t})},failed:function(t){e({success:!1,data:t})}})})).catch((function(e){console.log(e)}))}},g2LC:function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"===typeof e&&"[object RegExp]"!==t||"undefined"!==typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},gcCN:function(e,t){var n=Math.pow(2,32);e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},a=12;0===r.version?(r.earliestPresentationTime=t.getUint32(a),r.firstOffset=t.getUint32(a+4),a+=8):(r.earliestPresentationTime=t.getUint32(a)*n+t.getUint32(a+4),r.firstOffset=t.getUint32(a+8)*n+t.getUint32(a+12),a+=16),a+=2;var i=t.getUint16(a);for(a+=2;i>0;a+=12,i--)r.references.push({referenceType:(128&e[a])>>>7,referencedSize:2147483647&t.getUint32(a),subsegmentDuration:t.getUint32(a+4),startsWithSap:!!(128&e[a+8]),sapType:(112&e[a+8])>>>4,sapDeltaTime:268435455&t.getUint32(a+8)});return r}},gzjk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("oWYc").ProgressWebLayout}});t.ProgressViewAdapter=r},h29V:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),i=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("f3qo"),p=n("U5R6"),f=n("GDuN"),h=n("AItd");function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,o.default)(n,e);var t=v(n);function n(e){return(0,a.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props)}}]),n}((0,f.baseComponentFactory)({viewAdapter:d.viewAdapter,logicalAdapter:p.logicalAdapter}));t.default=m,(0,u.default)(m,"defaultProps",{controls:!0,autoplay:!1,loop:!1,muted:!1,initialTime:0,onReady:h.noop,onPlay:h.noop,onPause:h.noop,onEnded:h.noop,onError:h.noop,onTimeUpdate:h.noop,onFullscreenChange:h.noop,onProgress:h.noop,onLoadedMetaData:h.noop,onWaiting:h.noop,singleton:!0})},hIRe:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return Q}));var r=n("X8+f"),a=n.n(r),i=n("vgmO"),o=n.n(i),s=n("hQev"),c=n.n(s),u=n("KdhP"),l=function(e){return!!e&&"object"===typeof e},d=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return"object"!==typeof n||Object.keys(n).forEach((function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):l(t[r])&&l(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]})),t}),{})},p=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},f=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},h="INVALID_NUMBER_OF_PERIOD",v="DASH_EMPTY_MANIFEST",m="DASH_INVALID_XML",b="NO_BASE_URL",y="SEGMENT_TIME_UNSPECIFIED",g="UNSUPPORTED_UTC_TIMING_SCHEME",j=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.range,s=void 0===o?"":o,c=e.indexRange,u=void 0===c?"":c,l={uri:i,resolvedUri:a()(n||"",i)};if(s||u){var d=(s||u).split("-"),p=parseInt(d[0],10),f=parseInt(d[1],10);l.byterange={length:f-p+1,offset:p}}return l},x=function(e){var t=e.offset+e.length-1;return e.offset+"-"+t},O={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,a=e.sourceDuration;return{start:0,end:Math.ceil(a/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,a=e.timescale,i=void 0===a?1:a,o=e.duration,s=e.start,c=void 0===s?0:s,u=e.minimumUpdatePeriod,l=void 0===u?0:u,d=e.timeShiftBufferDepth,p=void 0===d?1/0:d,f=(t+n)/1e3,h=r+c,v=f+l-h,m=Math.ceil(v*i/o),b=Math.floor((f-h-p)*i/o),y=Math.floor((f-h)*i/o);return{start:Math.max(0,b),end:Math.min(m,y)}}},w=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,a=e.timescale,i=void 0===a?1:a,o=e.sourceDuration,s=O[n](e),c=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,a=e.timescale,i=void 0===a?1:a,o=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/i,timeline:o,time:n*r}}}(e));if("static"===n){var u=c.length-1;c[u].duration=o-r/i*u}return c},C=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,a=e.sourceDuration,i=e.indexRange,o=void 0===i?"":i,s=e.duration;if(!t)throw new Error(b);var c=j({baseUrl:t,source:r.sourceURL,range:r.range}),u=j({baseUrl:t,source:t,indexRange:o});if(u.map=c,s){var l=w(e);l.length&&(u.duration=l[0].duration,u.timeline=l[0].timeline)}else a&&(u.duration=a,u.timeline=0);return u.number=0,[u]},k=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,a=e.sidx.duration,i=e.timeline||0,o=e.sidx.byterange,s=o.offset+o.length,c=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),l=[],d=s+t.firstOffset,p=0;p<u.length;p++){var f=t.references[p],h=f.referencedSize,v=f.subsegmentDuration,m=C({baseUrl:n,timescale:c,timeline:i,periodIndex:i,duration:v,sourceDuration:a,indexRange:d+"-"+(d+h-1)})[0];r&&(m.map=r),l.push(m),d+=h}return e.segments=l,e},N=function(e){var t;return(t=e.reduce((function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce((function(e,t,r){return t[n]&&e.push(r),e}),[])),e}))},T=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var a=r.sidx.uri+"-"+x(r.sidx.byterange),i=t[a]&&t[a].sidx;r.sidx&&i&&k(r,i,r.sidx.resolvedUri)}}return e},D=function(e){var t,n=e.attributes,r=e.segments,a=e.sidx,i={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),a&&(i.sidx=a),i},E=function(e){var t,n=e.attributes,r=e.segments;"undefined"===typeof r&&(r=[{uri:n.baseUrl,timeline:n.periodIndex,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var a=((t={NAME:n.id,BANDWIDTH:n.bandwidth})["PROGRAM-ID"]=1,t);return n.codecs&&(a.CODECS=n.codecs),{attributes:a,uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:n.baseUrl||"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1}},S=function(e){var t,n=e.attributes,r=e.segments,a=e.sidx,i={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),a&&(i.sidx=a),i},P=function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var a=e[0].attributes,i=a.sourceDuration,o=a.type,s=void 0===o?"static":o,c=a.suggestedPresentationDelay,u=a.minimumUpdatePeriod,l=N(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType}))).map(S),d=N(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType}))),p=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:i,playlists:T(l,n)};return u>=0&&(f.minimumUpdatePeriod=1e3*u),t&&(f.locations=t),"dynamic"===s&&(f.suggestedPresentationDelay=c),d.length&&(f.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var r=e.reduce((function(e,r){var a=r.attributes.role&&r.attributes.role.value||"",i=r.attributes.lang||"",o="main";if(i){var s=a?" ("+a+")":"";o=""+r.attributes.lang+s}return e[o]&&e[o].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth||(e[o]={language:i,autoselect:!0,default:"main"===a,playlists:T([D(r)],t),uri:""},"undefined"===typeof n&&"main"===a&&((n=r).default=!0)),e}),{});return n||(r[Object.keys(r)[0]].default=!0),r}(d,n)),p.length&&(f.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r=n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:T([E(n)],t),uri:""}),e}),{})}(p,n)),f},A=function(e,t,n){var r=e.NOW,a=e.clientOffset,i=e.availabilityStartTime,o=e.timescale,s=void 0===o?1:o,c=e.start,u=void 0===c?0:c,l=e.minimumUpdatePeriod,d=(r+a)/1e3+(void 0===l?0:l)-(i+u);return Math.ceil((d*s-t)/n)},R=function(e,t){for(var n=e.type,r=void 0===n?"static":n,a=e.minimumUpdatePeriod,i=void 0===a?0:a,o=e.media,s=void 0===o?"":o,c=e.sourceDuration,u=e.timescale,l=void 0===u?1:u,d=e.startNumber,p=void 0===d?1:d,f=e.periodIndex,h=[],v=-1,m=0;m<t.length;m++){var b=t[m],y=b.d,g=b.r||0,j=b.t||0;v<0&&(v=j),j&&j>v&&(v=j);var x=void 0;if(g<0){var O=m+1;x=O===t.length?"dynamic"===r&&i>0&&s.indexOf("$Number$")>0?A(e,v,y):(c*l-v)/y:(t[O].t-v)/y}else x=g+1;for(var w=p+h.length+x,C=p+h.length;C<w;)h.push({number:C,duration:y/l,time:v,timeline:f}),v+=y,C++}return h},I=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,_=function(e,t){return e.replace(I,function(e){return function(t,n,r,a){if("$$"===t)return"$";if("undefined"===typeof e[n])return t;var i=""+e[n];return"RepresentationID"===n?i:(a=r?parseInt(a,10):1,i.length>=a?i:""+new Array(a-i.length+1).join("0")+i)}}(t))},L=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=j({baseUrl:e.baseUrl,source:_(i.sourceURL,n),range:i.range});return function(e,t){return e.duration||t?e.duration?w(e):R(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var r=_(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:a()(e.baseUrl||"",r),map:o,number:t.number}}))},M=function(e,t){var n=e.duration,r=e.segmentUrls,a=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(y);var i,o=a.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,a=void 0===r?{}:r,i=j({baseUrl:n,source:a.sourceURL,range:a.range}),o=j({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=i,o}(e,t)}));return n&&(i=w(e)),t&&(i=R(e,t)),i.map((function(e,t){if(o[t]){var n=o[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},B=function(e){var t,n,r=e.attributes,a=e.segmentInfo;a.template?(n=L,t=d(r,a.template)):a.base?(n=C,t=d(r,a.base)):a.list&&(n=M,t=d(r,a.list));var i={attributes:r};if(!n)return i;var o=n(t,a.timeline);if(t.duration){var s=t,c=s.duration,u=s.timescale,l=void 0===u?1:u;t.duration=c/l}else o.length?t.duration=o.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):t.duration=0;return i.attributes=t,i.segments=o,a.base&&t.indexRange&&(i.sidx=o[0],i.segments=[]),i},U=function(e,t){return f(e.childNodes).filter((function(e){return e.tagName===t}))},W=function(e){return e.textContent.trim()},F=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],c=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(a||0)+86400*parseFloat(i||0)+3600*parseFloat(o||0)+60*parseFloat(s||0)+parseFloat(c||0)},V={mediaPresentationDuration:function(e){return F(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return F(e)},suggestedPresentationDelay:function(e){return F(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return F(e)},start:function(e){return F(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?F(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},z=function(e){return e&&e.attributes?f(e.attributes).reduce((function(e,t){var n=V[t.name]||V.DEFAULT;return e[t.name]=n(t.value),e}),{}):{}},X={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},q=function(e,t){return t.length?p(e.map((function(e){return t.map((function(t){return a()(e,W(t))}))}))):e},H=function(e){var t=U(e,"SegmentTemplate")[0],n=U(e,"SegmentList")[0],r=n&&U(n,"SegmentURL").map((function(e){return d({tag:"SegmentURL"},z(e))})),a=U(e,"SegmentBase")[0],i=n||t,o=i&&U(i,"SegmentTimeline")[0],s=n||a||t,c=s&&U(s,"Initialization")[0],u=t&&z(t);u&&c?u.initialization=c&&z(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var l={template:u,timeline:o&&U(o,"S").map((function(e){return z(e)})),list:n&&d(z(n),{segmentUrls:r,initialization:z(c)}),base:a&&d(z(a),{initialization:z(c)})};return Object.keys(l).forEach((function(e){l[e]||delete l[e]})),l},Y=function(e,t,n){return function(r){var a=z(r),i=q(t,U(r,"BaseURL")),o=U(r,"Role")[0],s={role:z(o)},u=d(e,a,s),l=U(r,"ContentProtection").reduce((function(e,t){var n=z(t),r=X[n.schemeIdUri];if(r){e[r]={attributes:n};var a=U(t,"cenc:pssh")[0];if(a){var i=W(a),o=i&&c()(i);e[r].pssh=o}}return e}),{});Object.keys(l).length&&(u=d(u,{contentProtection:l}));var f=H(r),h=U(r,"Representation"),v=d(n,f);return p(h.map(function(e,t,n){return function(r){var a=U(r,"BaseURL"),i=q(t,a),o=d(e,z(r)),s=H(r);return i.map((function(e){return{segmentInfo:d(n,s),attributes:d(o,{baseUrl:e})}}))}}(u,i,v)))}},G=function(e,t){return function(n,r){var a=q(t,U(n,"BaseURL")),i=z(n),s=parseInt(i.id,10),c=o.a.isNaN(s)?r:s,u=d(e,{periodIndex:c}),l=U(n,"AdaptationSet"),f=H(n);return p(l.map(Y(u,a,f)))}},K=function(e){if(""===e)throw new Error(v);var t,n,r=new u.DOMParser;try{n=(t=r.parseFromString(e,"application/xml"))&&"MPD"===t.documentElement.tagName?t.documentElement:null}catch(a){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(m);return n},J=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,a=void 0===r?"":r,i=n.NOW,o=void 0===i?Date.now():i,s=n.clientOffset,c=void 0===s?0:s,u=U(e,"Period");if(!u.length)throw new Error(h);var l=U(e,"Location"),d=z(e),f=q([a],U(e,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=c,l.length&&(d.locations=l.map(W)),{locations:d.locations,representationInfo:p(u.map(G(d,f)))}}(K(e),t),r=n.representationInfo.map(B);return P(r,n.locations,t.sidxMapping)},Q=function(e){return function(e){var t=U(e,"UTCTiming")[0];if(!t)return null;var n=z(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(g)}return n}(K(e))},Z=k},hQev:function(e,t,n){"use strict";(function(t){var r,a=(r=n("vgmO"))&&"object"===typeof r&&"default"in r?r.default:r;e.exports=function(e){for(var n,r=(n=e,a.atob?a.atob(n):t.from(n,"base64").toString("binary")),i=new Uint8Array(r.length),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}}).call(this,n("HDXh").Buffer)},hXpO:function(e,t,n){var r=n("HYAF"),a=/"/g;e.exports=function(e,t,n,i){var o=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"}},ii1t:function(e,t,n){var r=n("zyNV");e.exports=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},a=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],c=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],d=a.getUint32(4),p=8;for(i&&(n.dataOffset=a.getInt32(p),p+=4),o&&d&&(t={flags:r(e.subarray(p,p+4))},p+=4,s&&(t.duration=a.getUint32(p),p+=4),c&&(t.size=a.getUint32(p),p+=4),l&&(1===n.version?t.compositionTimeOffset=a.getInt32(p):t.compositionTimeOffset=a.getUint32(p),p+=4),n.samples.push(t),d--);d--;)t={},s&&(t.duration=a.getUint32(p),p+=4),c&&(t.size=a.getUint32(p),p+=4),u&&(t.flags=r(e.subarray(p,p+4)),p+=4),l&&(1===n.version?t.compositionTimeOffset=a.getInt32(p):t.compositionTimeOffset=a.getUint32(p),p+=4),n.samples.push(t);return n}},isGe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("RiCf").SliderWebAdapter}});t.SliderLogicalAdapter=r},jBAH:function(e,t){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(a){r=a}return[r,n]}},jv9p:function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])}},kGPg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("5h7R").AudioWebLayout}});t.ViewAdapter=r},kPfF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("eUBB").WebAdapter}});t.LogicalAdapter=r},kjBj:function(e,t,n){"use strict";var r=n("nKUr"),a=n("q1tI"),i=n.n(a),o=n("RqgD"),s=n("k8W2"),c=n.n(s),u=n("z6Ap"),l=function(e){var t=e.visible,n=void 0!==t&&t,a=e.onClose,i=void 0===a?u.e:a,s=e.type,l=void 0===s?"":s;return Object(r.jsx)(c.a,{position:"top",visible:n,onClose:i,children:Object(r.jsxs)("div",{className:"".concat("thread"===l?o.a.threadDetail:o.a.container),children:[Object(r.jsx)("img",{src:"/dzq-img/sharePoint.png",className:o.a.sharePoint}),Object(r.jsx)("img",{src:"/dzq-img/shareKnow.png",className:o.a.shareKnow,onClick:i})]})})};t.a=i.a.memo(l)},l6bL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebAdapter=void 0;t.WebAdapter={}},lF3x:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("pDQq"),n("tkto"),n("o0o1"),n("ls82"),n("yXPU"),n("RIqP"),n("sho3");var r="__dzq_thread_viewed",a="session";new function(e){new(0,n("Dhw7").default)(e)}({storageType:a})},lW1z:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));n("toAj"),n("07d7"),n("rB9j"),n("JfAA"),n("EnZy");var r=function(e,t){if(isNaN(e)||isNaN(t))return 0;var n=0,r=0;e.toString().split(".").length>1&&(n=e.toString().split(".")[1].length),t.toString().split(".").length>1&&(r=t.toString().split(".")[1].length);var a=n>r?n:r;return(((e*Math.pow(10,a)|0)+(t*Math.pow(10,a)|0))/Math.pow(10,a)).toFixed(2)},a=function(e,t){if(isNaN(e)||isNaN(t))return 0;var n=0,r=0;e.toString().split(".").length>1&&(n=e.toString().split(".")[1].length),t.toString().split(".").length>1&&(r=t.toString().split(".")[1].length);var a=n>r?n:r;return(((e*Math.pow(10,a)|0)-(t*Math.pow(10,a)|0))/Math.pow(10,a)).toFixed(2)}},"n/mO":function(e){e.exports=JSON.parse('{"--color-primary":"#2469f6","--color-primary2":"#3978f7","--color-primary3":"#5087f8","--color-primary4":"#6596f9","--color-primary5":"#7ca5fa","--color-primary6":"#91b4fa","--color-primary7":"#a7c3fb","--color-primary8":"#bdd2fc","--color-primary9":"#d3e1fd","--color-primary10":"#e9f0fe","--color-success":"#57bd6a","--color-success2":"#79ca88","--color-success3":"#abdeb4","--color-success4":"#ccebd2","--color-success5":"#eef8f0","--color-info":"#5087f8","--color-info2":"#739ff9","--color-info3":"#a7c3fb","--color-info4":"#cadbfd","--color-info5":"#edf3fe","--color-error":"#e02433","--color-error2":"#e6505c","--color-error3":"#ef9199","--color-error4":"#f6bdc1","--color-error5":"#fce9ea","--color-warn":"#f6C443","--color-warn2":"#f8d069","--color-warn3":"#fae1a1","--color-warn4":"#fcedc6","--color-warn5":"#fef9ec","--color-disabled":"#c5c6cb","--color-disabled2":"#d0d1d5","--color-disabled3":"#dcdde0","--color-disabled4":"#e8e8ea","--color-disabled5":"#f4f4f5","--color-white":"#ffffff","--color-black":"#000000","--border-line-color":"#eeeeee","--color-text-primary":"#0b0b37","--color-text-regular":"#4f5a70","--color-text-secondary":"#8590a6","--color-text-placeholder":"#dcdde0","--background-color":"#f5f7f8","--background-color-text":"#f9fafb","--background-color-text2":"#eff1f3","--commont-box-bg-color":"#f5f7f8","--comment-content-bg-color":"#f4f6f7","--mask-background-color":"rgba(51, 51, 51, 0.3)","--border-border":"1px solid #eeeeee","--border-color-dotted-border":"1px dashed #eeeeee","--font-size-label":"12px","--font-size-primary":"14px","--font-size-middle":"16px","--font-size-large":"20px","--font-line-height-small":"22px","--font-line-height-primary":"24px","--font-line-height-middle":"26px","--font-line-height-large":"30px","--font-weight-light":"400","--font-weight-regular":"600","--font-weight-bold":"800","--box-shadow":"0px 0px 8px 0px #f1f3f4","--border-radius-small":"5px","--border-radius-circle":"50%","--border-radius-zero":"0px","--zindex-normal":"0","--zindex-backtotop":"1000","--zindex-too0p":"1200","--zindex-popup":"1400","--zindex-dialog":"1600","--zindex-toast":"1800","--padding-1n":"4px","--padding-2n":"8px","--padding-3n":"12px","--padding-4n":"16px","--padding-5n":"20px","--padding-6n":"24px","--padding-5":"5px","--padding-10":"10px","--margin-1n":"4px","--margin-2n":"8px","--margin-3n":"12px","--margin-4n":"16px","--margin-5n":"20px","--margin-6n":"24px","--margin-5":"5px","--margin-10":"10px"}')},nrUO:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA"));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){e.on("play",(function(e){t.onPlay&&t.onPlay(e)})),e.on("pause",(function(e){t.onPause&&t.onPause(e)})),e.on("waiting",(function(e){t.onWaiting&&t.onWaiting(e)})),e.on("timeupdate",(function(n){var r=e.currentTime(),a=e.duration();t.onTimeUpdate&&t.onTimeUpdate(o(o({},n),{},{detail:{currentTime:r,duration:a}}))})),e.on("seeking",(function(t){e.off("timeupdate",(function(){})),e.one("seeked",(function(){}))})),e.on("ended",(function(e){t.onEnded&&t.onEnded(e)})),e.on("error",(function(e){t.onError&&t.onError(e)})),e.on("loadedmetadata",(function(e){t.onLoadedMetaData&&t.onLoadedMetaData(e)})),e.on("fullscreenchange",(function(n){var r=e.isFullscreen();t.onFullscreenChange&&t.onFullscreenChange(o(o({},n),{},{detail:{fullScreen:r,fullscreen:r}}))})),e.on("progress",(function(n){var r=e.bufferedPercent();t.onProgress&&t.onProgress(o(o({},n),{},{detail:{buffered:r}}))}))};t.default=s},oWYc:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressWebLayout=void 0;var a=r(n("lSNA")),i=r(n("q1tI")),o=n("VTYn"),s=r(n("TSYQ")),c=n("vNgL"),u=r(n("AwrB"));t.ProgressWebLayout=function(e){var t,n=e.type,r=e.percent,l=e.text,d=(e.tips,e.theme),p=e.className,f=e.style,h=(e.isShowText,e.lineWidth,e.width,e.children,(0,o.useConfig)().clsPrefix);return"circle"===n?i.default.createElement(u.default,e):i.default.createElement("div",{className:(0,s.default)("".concat(h,"-progress"),p,(t={},(0,a.default)(t,"".concat(h,"-progress--error"),"danger"===d),(0,a.default)(t,"".concat(h,"-progress--succeed"),"success"===d),t)),style:f},i.default.createElement("div",{className:"".concat(h,"-progress__value"),style:{width:"".concat(r,"%"),transition:"width .2s"}},l&&i.default.createElement("span",{className:"".concat(h,"-progress__text")},(0,c.injectValue)(l)(r))))}},pxy6:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),i=r(n("W8MJ")),o=r(n("7W2i")),s=r(n("a1gu")),c=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),p=n("BoBF"),f=n("GJo4");function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,o.default)(n,e);var t=h(n);function n(){return(0,a.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return l.default.createElement(e,this.props,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:p.PullDownRefreshViewAdapter,logicalAdapter:f.LogicalAdapter}));t.default=v,(0,u.default)(v,"defaultProps",{damping:80})},q1fC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("OEh5").SliderWebLayout}});t.SliderViewAdapter=r},"r+ot":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)};t.bytesToString=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},t.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.reduce((function(e,t){return e+=t&&(t.byteLength||t.length)||0}),0),i=new Uint8Array(a),o=0;return t.forEach((function(e){e=r(e),i.set(e,o),o+=e.byteLength})),i},t.isTypedArray=function(e){return ArrayBuffer.isView(e)},t.stringToBytes=function(e,t){void 0===t&&(t=!1);return"string"!==typeof e&&e&&"function"===typeof e.toString&&(e=e.toString()),"string"!==typeof e?[]:(t||(e=unescape(encodeURIComponent(e))),e.split("").map((function(e){return 255&e.charCodeAt(0)})))},t.toUint8=r},rNhl:function(e,t,n){var r=n("I+eb"),a=n("fhKU");r({global:!0,forced:parseFloat!=a},{parseFloat:a})},"rOX+":function(e,t,n){"use strict";var r=n("TqRt");n("ma9I"),n("+2oP"),n("07d7"),n("rB9j"),n("JfAA"),n("UxlC"),Object.defineProperty(t,"__esModule",{value:!0}),t.h5Share=i,t.default=void 0;var a=r(n("cDf5"));function i(e){var t,n="",r="";switch((0,a.default)(e)){case"string":n=e;break;default:(r=(e=e||{}).path||"")&&/^\/.*/.test(r)&&(r=r.slice(1)),n=e.title}n=(n=(n=(n=(n=n||"Discuz!Q").toString().replace(/<img(?:.|\s)*?>/g,"")).toString().replace(/(<\/?br.*?>)/gi,"")).toString().replace(/(<\/?p.*?>)/gi,"")).toString().replace(/\s+/g,""),n="".concat(n.substring(0,17));var i=window&&window.location&&window.location.origin||"";t=e.url||"".concat(i,"/").concat(r);var o=document.createElement("input");o.value=t,document.body.appendChild(o),o.select(),o.readOnly=!0,o.id="copyInp";var s=document.execCommand("Copy");return o.setAttribute("onfocus",void 0),o.blur(),o.className="oInput",o.style.display="none",s}var o=i;t.default=o},rnXk:function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},rwPt:function(e,t,n){var r=n("0Dky");e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},sDzi:function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function a(e){return"string"===typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function i(e,t,r){this.hasBeenReset=!1;var i="",o=!1,s=e,c=t,u=r,l=null,d="",p=!0,f="auto",h="start",v="auto",m="auto",b=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(e){i=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"===typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=a(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=a(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");b=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=a(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},sr3F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,a=/^application\/dash\+xml/i;t.simpleTypeFromSourceType=function(e){return r.test(e)?"hls":a.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},tuZy:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/thread/[id]",function(){return n("TP+V")}])},"u/Lb":function(e,t,n){"use strict";n.d(t,"a",(function(){return Bt}));n("qePV");var r,a=n("nKUr"),i=n("o0o1"),o=n.n(i),s=n("lSNA"),c=n.n(s),u=(n("ls82"),n("yXPU")),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("PJYZ"),h=n.n(f),v=n("lwsE"),m=n.n(v),b=n("7W2i"),y=n.n(b),g=n("a1gu"),j=n.n(g),x=n("Nsbk"),O=n.n(x),w=n("q1tI"),C=n.n(w),k=n("kMSe"),N=n("uhBA"),T=n.n(N),D=n("+3IH"),E=(n("ma9I"),n("k8W2")),S=n.n(E),P=n("STnV"),A=(n("toAj"),n("R5XZ"),n("5f2u")),R=n.n(A),I=n("MCNy"),_=n.n(I),L=n("jqTq"),M=n.n(L),B="_3XcBGEKLCciFjOLG3DKjlQ",U="_3566nR9qEh9REI1EVIfI0_",W="_2QNE4hRnOAn-u5LAYAYeuX",F="_1d4A36wWqb_GtBNxO1CmEz",V="_1o1o91XHSRkYBk6Qva2Gtd",z=(n("2B1R"),{amountTitle:"_3KbvwO0q6uFID5cS1TwJkW",amountContent:"_26QalcfOeQY6eP4m4MismY",acExplain:"uKkVzRecbAeVyScvx3zyl",acExplainH5:"_2cTyY6-Gwth62-S--EdMaC",acExplainLabel:"_3YtkJ5WBl5KsdamMj8L2aE",acExplainValue:"CEK7qs6qmBqXBrimJ9bgs",acExplainNum:"_3aD85JA7JV3ytRpCNfsiuP",acExplainDivider:"_35brO9NPYRCF1Hz0CrnGyW",ampuntLineWrap:"_3-VCAjQK6LbsOmowJcRe3z",ampuntLine:"BAz3-Z68DJ9JSgp9yWUP9",title:"E8aadqxHO9IwSuaASAqMR",payList:"_1XQ3qAqpdDoM0670Uc9IL1",payListItem:"_2cs3kZpYMzhVUEbsd9M43C",payListItem01:"_3KGDZ7RzfWD5eyz6K3IgLX",amountContentPC:"_3NVDrOuexDrfAxpBxPtpaM"}),X=n("V+Sr"),q=n.n(X),H=n("x2xJ"),Y=n.n(H);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var K=Object(k.c)("site")(r=Object(k.c)("payBox")(r=Object(k.d)(r=function(e){y()(n,e);var t=G(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).renderDiffTradeType=function(e){var t="";switch(e){case P.b.THEME:t="\u4ed8\u8d39\u5e16";break;case P.b.POST_REWARD:t="\u60ac\u8d4f";break;case P.b.REGEISTER_SITE:t="\u4ed8\u8d39\u52a0\u5165";break;case P.b.PUT_PROBLEM:t="\u4ed8\u8d39\u63d0\u95ee";break;case P.b.COMBIE_PAYMENT:t="\u7ea2\u5305+\u60ac\u8d4f";break;case P.b.REWARD:t="\u6253\u8d4f";break;case P.b.AUTHORITY_GROUP:t="\u8d2d\u4e70\u6743\u9650\u7ec4";break;case P.b.ATTACHMEMENT:t="\u9644\u4ef6";break;case P.b.RED_PACKET:t="\u7ea2\u5305"}return t},r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.handleChangeIsAnonymous=function(e){r.props.payBox.isAnonymous=e},r.state={tradeContent:[{type:P.b.RED_PACKET,name:"\u7ea2\u5305"},{type:P.b.POST_REWARD,name:"\u60ac\u8d4f"}]},r}return p()(n,[{key:"render",value:function(){var e,t=this,n=this.props.currentPaymentData,r=void 0===n?{}:n,i=r.type,o=r.amount,s=(r.isAnonymous,r.title),c=r.redAmount,u=r.rewardAmount,l=(null===(e=this.props)||void 0===e?void 0:e.site).platform,d=this.state.tradeContent,p=void 0===d?[]:d;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:z.amountTitle,style:{textAlign:"pc"===l?"center":"left"},children:"\u786e\u8ba4\u91d1\u989d"}),Object(a.jsx)("div",{className:"".concat(z.amountContent," ").concat("pc"===l&&z.amountContentPC),children:i===P.b.COMBIE_PAYMENT?Object(a.jsx)(a.Fragment,{children:p.map((function(e,n){var r=e.type===P.b.RED_PACKET?c:u;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u4ea4\u6613\u7c7b\u578b"})," ",Object(a.jsx)("span",{className:z.acExplainValue,children:t.renderDiffTradeType(e.type)})]}),Object(a.jsx)(Y.a,{className:z.acExplainDivider}),Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u5546\u54c1\u540d\u79f0"})," ",Object(a.jsx)("span",{className:z.acExplainValue,children:s})]}),Object(a.jsx)(Y.a,{className:z.acExplainDivider}),Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u652f\u4ed8\u91d1\u989d"}),Object(a.jsxs)("span",{className:z.acExplainNum,children:["\uffe5",t.transMoneyToFixed(r)]})]}),0===n&&Object(a.jsx)("div",{className:z.ampuntLineWrap,children:Object(a.jsx)("div",{className:z.ampuntLine})})]})}))}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u4ea4\u6613\u7c7b\u578b"})," ",Object(a.jsx)("span",{className:z.acExplainValue,children:this.renderDiffTradeType(i)})]}),Object(a.jsx)(Y.a,{className:z.acExplainDivider}),Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u5546\u54c1\u540d\u79f0"})," ",Object(a.jsx)("span",{className:z.acExplainValue,children:s})]}),Object(a.jsx)(Y.a,{className:z.acExplainDivider}),Object(a.jsxs)("div",{className:z.acExplain,children:[Object(a.jsx)("span",{className:z.acExplainLabel,children:"\u652f\u4ed8\u91d1\u989d"}),Object(a.jsxs)("span",{className:z.acExplainNum,children:["\uffe5",this.transMoneyToFixed(o)]})]}),i===P.b.REGEISTER_SITE&&Object(a.jsxs)("div",{className:"".concat(z.acExplain," ").concat("h5"===l&&z.acExplainH5),children:[Object(a.jsx)(q.a,{checked:this.props.payBox.isAnonymous,onChange:this.handleChangeIsAnonymous})," \u9690\u85cf\u6211\u7684\u4ed8\u8d39\u4fe1\u606f"]})]})})]})}}]),n}(w.Component))||r)||r)||r;K.defaultProps={currentPaymentData:{},isNotShowTitle:!1};var J,Q=n("wdT/"),Z=n.n(Q),$=n("dQ0f");function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var te,ne=Object(k.c)("payBox")(J=Object(k.d)(J=function(e){y()(n,e);var t=ee(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).onClose=function(){setTimeout((function(){r.props.payBox.visible=!1,r.props.payBox.clear()}),300)},r.goToThePayConfirmPage=Object($.a)(l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r.setState({isLoading:!0}),e.next=6,r.props.payBox.createOrder();case 6:r.setState({isLoading:!1}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),Z.a.error({content:e.t0.Message,hasMask:!1,duration:1e3}),r.onClose(),r.setState({isLoading:!1});case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),300),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.renderAmountRecognizedContent=function(){var e=r.props.payBox.options,t=void 0===e?{}:e,n=t.amount,i=void 0===n?0:n,o=r.state.isLoading;return Object(a.jsxs)("div",{className:B,children:[Object(a.jsx)("div",{className:F,children:Object(a.jsx)(K,{currentPaymentData:t})}),Object(a.jsx)("div",{className:U,children:Object(a.jsx)(R.a,{type:"primary",onClick:r.goToThePayConfirmPage,size:"large",className:W,full:!0,disabled:o,children:o?Object(a.jsx)(M.a,{type:"spinner",children:"\u751f\u6210\u8ba2\u5355\u4e2d..."}):"\u652f\u4ed8 \uffe5".concat(r.transMoneyToFixed(i))})}),Object(a.jsx)("div",{className:V,onClick:r.onClose,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:14})})]})},r.state={isLoading:!1},r}return p()(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:this.renderAmountRecognizedContent()})}}]),n}(w.Component))||J)||J,re=(n("sMBO"),"_1QNRA_hi_DtyO8siBDx_v-"),ae="_35RTTgMUo7fJRQbeX7orB1",ie="yKwyHwvLoNhyS2LNlNVX6",oe="dVPElrwnepceCCApaTkqF",se="_3us4HFNdBNpcKdlnGLpDuF",ce="_21SdSEDBqmQeImpk8PqEtR",ue="AFlC8i9MmS_9eOXos2bdo",le="_3QWC32Wbyt1wGHZuZ4-7x_",de="_1tdxTgNdnH0NfMqpeoNuVb",pe="_2Hq8lrrqDig0xQ9jaEzRFe",fe="ZF_3hA7CVClTdeySQL_p4",he="_1ik4dI_VIR4dKK-FLCBkEw",ve="_18bp_V56LwLrUcowIDyhxX",me=n("BGqZ"),be=n.n(me),ye=n("B5JU"),ge=n.n(ye),je=n("RiVy"),xe=(n("07d7"),n("5s+n"),n("lY1M"),function(e){return new Promise((function(t,n){var r=e.appId,a=e.timeStamp,i=e.nonceStr,o=e.package,s=e.paySign;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:r,timeStamp:a,nonceStr:i,package:o,signType:"MD5",paySign:s},(function(e){var r=Object(D.a)(e,"err_msg","");r===P.g.WX_PAY_OK&&t(),r===P.g.WX_PAY_CANCEL&&n(P.d.WX_PAY_CANCEL),r===P.g.WX_PAY_FAIL&&n(P.d.WX_PAY_FAIL)}))})).catch((function(e){console.log(e)}))}),Oe=function(e){"undefined"===typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()},we=function(){},Ce=P.e.WX_OFFICAL;function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Ne,Te=Object(k.c)("site")(te=Object(k.c)("user")(te=Object(k.c)("payBox")(te=Object(k.d)(te=function(e){y()(n,e);var t=ke(n);function n(e){var r;m()(this,n),(r=t.call(this,e)).initState=function(){r.setState({isSubmit:!1}),r.props.payBox.payWay=P.c.WALLET},r.componentDidMount=l()(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=r.props)||void 0===t?void 0:t.user,a=n.id,e.prev=1,e.next=4,r.props.payBox.getWalletInfo(a);case 4:r.initState(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Z.a.error({content:"\u83b7\u53d6\u7528\u6237\u94b1\u5305\u4fe1\u606f\u5931\u8d25",duration:2e3});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),r.handleChangePaymentType=function(e){r.props.payBox.payWay=e},r.handlePayConfirmed=Object($.a)(l()(o.a.mark((function e(){var t,n,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.props.payBox.payWay!==P.c.WALLET){e.next=9;break}if(n=r.props.payBox.options,a=(void 0===n?{}:n).amount,i=void 0===a?0:a,!(Number(null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(i))){e.next=6;break}return Z.a.error({content:"\u94b1\u5305\u4f59\u989d\u4e0d\u8db3",duration:2e3}),e.abrupt("return");case 6:r.props.payBox.walletPayEnsure(),e.next=27;break;case 9:if(r.props.payBox.payWay!==P.c.WX){e.next=27;break}if(e.prev=10,r.setState({isSubmit:!0}),Object(je.a)()){e.next=17;break}return e.next=15,r.props.payBox.wechatPayOrder({listenWXJsBridgeAndExecCallback:Oe,onBridgeReady:xe,wxValidator:we,mode:P.e.WX_H5});case 15:return r.setState({isSubmit:!1}),e.abrupt("return");case 17:return e.next=19,r.props.payBox.wechatPayOrder({listenWXJsBridgeAndExecCallback:Oe,onBridgeReady:xe,wxValidator:we,mode:Ce});case 19:r.setState({isSubmit:!1}),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(10),console.error(e.t0),Z.a.error({content:e.t0.Message||"\u62c9\u8d77\u5fae\u4fe1\u652f\u4ed8\u5931\u8d25",duration:2e3}),r.setState({isSubmit:!1});case 27:case"end":return e.stop()}}),e,null,[[10,22]])}))),500),r.handleCancel=function(){r.props.payBox.step=P.f.SURE,r.props.payBox.payWay=null},r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.getDisabledWithButton=function(){var e,t,n=r.state.isSubmit,a=null===(e=r.props.user)||void 0===e?void 0:e.canWalletPay,i=r.props.payBox.options,o=(void 0===i?{}:i).amount,s=void 0===o?0:o,c=!r.props.payBox.payWay||n;r.props.payBox.payWay===P.c.WALLET&&(a||(c=!0),Number(null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(s)&&(c=!0));return c};var a=[{name:"\u94b1\u5305\u652f\u4ed8",icon:"PurseOutlined",color:"#1878f3",paymentType:"wallet"}];return r.props.site.isWechatPayOpen&&"none"!==r.props.site.wechatEnv&&Object(je.a)()&&a.unshift({name:"\u5fae\u4fe1\u652f\u4ed8",icon:"WechatPaymentOutlined",color:"#09bb07",paymentType:"weixin"}),r.state={payConfig:a,isSubmit:!1},r.goSetPayPwa=r.goSetPayPwa.bind(h()(r)),r}return p()(n,[{key:"walletPaySubText",value:function(){var e,t,n,r,i=null===(e=this.props.user)||void 0===e?void 0:e.canWalletPay,o=this.props.payBox.options,s=(void 0===o?{}:o).amount,c=void 0===s?0:s;return i?Number(null===(t=this.props.payBox)||void 0===t?void 0:t.walletAvaAmount)<Number(c)?Object(a.jsx)("p",{className:pe,children:"\u4f59\u989d\u4e0d\u8db3"}):Object(a.jsx)(a.Fragment,{children:null!==(n=this.props.payBox)&&void 0!==n&&n.walletAvaAmount?Object(a.jsxs)("p",{className:pe,children:["\u94b1\u5305\u4f59\u989d\uff1a\uffe5",null===(r=this.props.payBox)||void 0===r?void 0:r.walletAvaAmount]}):Object(a.jsx)(M.a,{type:"spinner",size:14})}):Object(a.jsx)("p",{className:pe,onClick:this.goSetPayPwa,children:"\u8bf7\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})}},{key:"goSetPayPwa",value:function(){ge.a.push({url:"/my/edit/paypwd?type=paybox"}),this.props.payBox.visible=!1}},{key:"render",value:function(){var e,t=this,n=this.props.payBox.options,r=void 0===n?{}:n,i=this.state,o=i.payConfig,s=i.isSubmit,c=null===(e=this.props.user)||void 0===e?void 0:e.canWalletPay;return Object(a.jsxs)("div",{className:re,children:[Object(a.jsx)("div",{className:ie,children:Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:ae,children:"\uffe5 "}),this.transMoneyToFixed(r.amount)]})}),Object(a.jsx)("div",{className:oe,children:Object(a.jsx)(be.a.Group,{value:this.props.payBox.payWay,onChange:function(e){t.handleChangePaymentType(e)},children:o.map((function(e,n){var i;return Object(a.jsxs)("div",{className:se,children:[Object(a.jsxs)("div",{className:ce,children:[Object(a.jsx)(_.a,{className:ue,name:e.icon,color:e.color,size:20}),Object(a.jsx)("p",{className:le,children:e.name})]}),Object(a.jsxs)("div",{className:de,children:[e.paymentType===P.c.WALLET&&t.walletPaySubText(),(e.paymentType===P.c.WX||c&&Number(null===(i=t.props.payBox)||void 0===i?void 0:i.walletAvaAmount)>=Number(r.amount))&&Object(a.jsx)(be.a,{name:e.paymentType})]})]},n)}))})}),Object(a.jsx)("div",{className:fe,children:Object(a.jsx)(R.a,{disabled:this.getDisabledWithButton(),className:he,type:"primary",size:"large",full:!0,onClick:this.handlePayConfirmed,children:s?Object(a.jsx)(M.a,{type:"spinner",children:"\u62c9\u8d77\u652f\u4ed8\u4e2d..."}):"\u786e\u8ba4\u652f\u4ed8"})}),Object(a.jsx)("div",{className:ve,onClick:this.handleCancel,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:14})})]})}}]),n}(C.a.Component))||te)||te)||te)||te,De=(n("oVuX"),n("+2oP"),n("rB9j"),n("EnZy"),n("RIqP")),Ee=n.n(De),Se="_2-c2ZWnGzz-W0GYyltejdp",Pe="_2M89luuK6aX9Tyf8ptAkSu",Ae="_LpG0TxAKCeY_VKzDMKL6",Re="_1GBA5FnVXpjgRuxLOr2IPr",Ie="_1UUvZTwbAp2zBgW5papTY-",_e="_3xSNOtKmn2GwYgzc3kDwlg",Le="_26IOACC9Ne5REYItNEUbrO",Me="_1Qbu31_uNfOf3YtFlL5q7R",Be="_1T34kwFXqB_JtZdCT7AqLJ",Ue="_2QIVnLoTiCxrX_iZd25Tp8",We="_38b6j1kKbvEBSgh3INEIup",Fe="_1hptFode9xmGq9SQ7aa9OK",Ve="_3fpCR_v3K2c-ewT6EAnEyW",ze="_2Z-4DHJBCWRi_YQyft8F6D",Xe="_3URzO5svVAPHS86PYbtasQ";n("z8Av");function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var He=Object(k.c)("payBox")(Ne=Object(k.d)(Ne=function(e){y()(n,e);var t=qe(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).toMarryNumber=function(e){var t;switch(e){case 48:case 96:t="0";break;case 49:case 97:t="1";break;case 50:case 98:t="2";break;case 51:case 99:t="3";break;case 52:case 100:t="4";break;case 53:case 101:t="5";break;case 54:case 102:t="6";break;case 55:case 103:t="7";break;case 56:case 104:t="8";break;case 57:case 105:t="9"}return t},r.handleKeyDown=function(e){if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105){var t=r.toMarryNumber(e.keyCode);r.props.updatePwd&&r.props.updatePwd(t,"add")}else 13==e.keyCode||8==e.keyCode&&r.props.updatePwd&&r.props.updatePwd("","delete")},r.state={list:[]},r}return p()(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderPwdItem",value:function(){var e=this.props,t=e.list,n=void 0===t?[]:t,r=e.whetherIsShowPwdBox,i=n.map((function(e,t){return Object(a.jsx)("div",{className:"".concat(z.payListItem," ").concat(z.activation," ").concat(r&&z.payListItem01),children:"\u25cf"},t)}));if(i.length<6)for(var o=!1,s=i.length;s<6;s++)o?i.push(Object(a.jsx)("div",{className:"".concat(z.payListItem," ").concat(r&&z.payListItem01)},s)):(o=!0,i.push(Object(a.jsx)("div",{className:"".concat(z.payListItem," ").concat(z.curr," ").concat(r&&z.payListItem01)},s)));return i}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:z.payList,children:this.renderPwdItem()})})}}]),n}(w.Component))||Ne)||Ne;He.defaultProps={updatePwd:function(){},whetherIsShowPwdBox:!1};var Ye,Ge=n("+pgT"),Ke=n.n(Ge);function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Qe,Ze=Object(k.c)("site")(Ye=Object(k.c)("user")(Ye=Object(k.c)("payBox")(Ye=Object(k.d)(Ye=function(e){y()(n,e);var t=Je(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).initState=function(){r.setState({list:[],isShow:!1})},r.updatePwd=function(e,t){var n=r.state.list,a=void 0===n?[]:n;if("add"==t){var i=Ee()(a);a.length>=6&&(i=i.join("").substring(0,5).split("")),r.setState({list:[].concat(i,[e])},(function(){6===r.state.list.length&&Object($.a)(r.submitPwa(),500)}))}else"delete"==t&&r.setState({list:a.slice(0,a.length-1)})},r.handleForgetPayPwd=Object($.a)((function(){if(!r.props.user.mobile)return Z.a.error({content:"\u9700\u8981\u9996\u5148\u7ed1\u5b9a\u624b\u673a\u53f7\u624d\u80fd\u8fdb\u884c\u6b64\u64cd\u4f5c",duration:2e3}),void setTimeout((function(){r.props.payBox.visible=!1,ge.a.push({url:"/user/bind-phone?from=paybox"})}),1e3);ge.a.push({url:"/my/edit/find-paypwd?type=paybox"}),r.initState(),r.props.payBox.visible=!1}),1e3),r.handleCancel=function(){r.props.payBox.step=P.f.PAYWAY,r.initState()},r.renderDialogPayment=function(){var e,t,n=r.state,i=n.list,o=void 0===i?[]:i,s=(n.isShow,(null===(e=r.props)||void 0===e?void 0:e.payBox).options),c=void 0===s?{}:s,u=r.props.site.isSmsOpen;null===(t=r.props.user)||void 0===t||t.mobile;return Object(a.jsx)("div",{children:Object(a.jsx)(Ke.a,{className:Ie,visible:r.props.payBox.visible&&r.props.payBox.step===P.f.WALLET_PASSWORD,position:"center",maskClosable:!0,children:Object(a.jsxs)("div",{className:Le,children:[Object(a.jsx)("div",{className:Me,children:"\u7acb\u5373\u652f\u4ed8"}),Object(a.jsxs)("div",{className:Be,children:[Object(a.jsx)("span",{className:_e,children:"\uffe5"}),Number(c.amount).toFixed(2)]}),Object(a.jsx)(Y.a,{className:Ve}),Object(a.jsxs)("div",{className:Ue,children:[Object(a.jsx)("span",{className:We,children:"\u652f\u4ed8\u65b9\u5f0f"}),Object(a.jsxs)("span",{children:[Object(a.jsx)(_.a,{className:Fe,name:"PurseOutlined"}),Object(a.jsx)("span",{style:{verticalAlign:"middle"},children:"\u94b1\u5305\u652f\u4ed8"})]})]}),Object(a.jsx)("div",{className:Ue,children:Object(a.jsx)("span",{className:We,children:"\u652f\u4ed8\u5bc6\u7801"})}),Object(a.jsx)(He,{list:o,updatePwd:r.updatePwd,whetherIsShowPwdBox:!0}),Object(a.jsx)("div",{className:Xe,onClick:r.handleForgetPayPwd,children:u&&Object(a.jsx)("span",{children:"\u5fd8\u8bb0\u652f\u4ed8\u5bc6\u7801?"})}),Object(a.jsx)("div",{className:ze,onClick:r.handleCancel,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:12})})]})})})},r.state={list:[],isShow:!1},r.keyboardClickHander=r.keyboardClickHander.bind(h()(r)),r}return p()(n,[{key:"componentDidMount",value:function(){this.setState({isShow:!0})}},{key:"componentWillUnmount",value:function(){this.initState()}},{key:"keyboardClickHander",value:function(e){var t=this,n=e.target.getAttribute("data-key");if(null==n)return null;var r=this.state.list,a=void 0===r?[]:r;"-1"===n?0===a.length?this.handleCancel():this.setState({list:a.slice(0,a.length-1)}):a.length<6&&this.setState({list:[].concat(a,[n])},(function(){6===t.state.list.length&&Object($.a)(t.submitPwa(),500)}))}},{key:"submitPwa",value:function(){var e=l()(o.a.mark((function e(){var t,n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.list,n=(void 0===t?[]:t).join(""),this.props.payBox.password=n,this.props.payBox.step!==P.f.WALLET_PASSWORD){e.next=15;break}return e.prev=4,e.next=7,this.props.payBox.walletPayOrder();case 7:Z.a.success({content:"\u652f\u4ed8\u6210\u529f",hasMask:!1,duration:1e3}),setTimeout((function(){r.props.payBox.clear()}),500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),Z.a.error({content:e.t0.Message||"\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",hasMask:!1,duration:1e3}),this.setState({list:[]});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=(e.list,e.isShow);return Object(a.jsxs)("div",{style:{position:"relative",zIndex:1400},children:[this.renderDialogPayment(),Object(a.jsxs)("div",{style:{display:!t&&"none"},className:Se,onClick:this.keyboardClickHander,children:[Object(a.jsxs)("div",{className:Pe,children:[Object(a.jsx)("div",{"data-key":"1",className:Ae,children:"1"}),Object(a.jsx)("div",{"data-key":"2",className:Ae,children:"2"}),Object(a.jsx)("div",{"data-key":"3",className:Ae,children:"3"})]}),Object(a.jsxs)("div",{className:Pe,children:[Object(a.jsx)("div",{"data-key":"4",className:Ae,children:"4"}),Object(a.jsx)("div",{"data-key":"5",className:Ae,children:"5"}),Object(a.jsx)("div",{"data-key":"6",className:Ae,children:"6"})]}),Object(a.jsxs)("div",{className:Pe,children:[Object(a.jsx)("div",{"data-key":"7",className:Ae,children:"7"}),Object(a.jsx)("div",{"data-key":"8",className:Ae,children:"8"}),Object(a.jsx)("div",{"data-key":"9",className:Ae,children:"9"})]}),Object(a.jsxs)("div",{className:Pe,children:[Object(a.jsx)("div",{className:"".concat(Ae," ").concat(Re)}),Object(a.jsx)("div",{"data-key":"0",className:Ae,children:"0"}),Object(a.jsx)("div",{"data-key":"-1",className:"".concat(Ae," ").concat(Re),children:Object(a.jsx)(_.a,{name:"BackspaceOutlined",size:18})})]})]})]})}}]),n}(C.a.Component))||Ye)||Ye)||Ye)||Ye,$e="kucYJGkOsehW4V0YuYEHu";function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var tt,nt=Object(k.c)("payBox")(Qe=Object(k.d)(Qe=function(e){y()(n,e);var t=et(n);function n(){var e;m()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onClose=function(){e.props.payBox.clear()},e}return p()(n,[{key:"render",value:function(){var e=this.props.payBox.step;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(S.a,{position:"bottom",maskClosable:!0,visible:this.props.payBox.visible,onClose:this.onClose,className:$e,children:[e===P.f.SURE&&Object(a.jsx)(ne,{}),e===P.f.PAYWAY&&Object(a.jsx)(Te,{})]}),this.props.payBox.visible&&e===P.f.WALLET_PASSWORD&&Object(a.jsx)(Ze,{})]})}}]),n}(w.Component))||Qe)||Qe,rt="_2MPU-H_HgChuI9oGx4pmnW",at="_1If5ogoD2GFmeYo9eQScci",it="_3kAp4Ifa-u8M4svrnBCR0z",ot="Bs4vo7m3nVqp0C3xewx5D",st="dKDsexn7TGpSD-4GYLrsm",ct="_3DN6iEZdCX2C2KOQhy6QPt",ut="_1NoX2Xc5z9LkT8vDGRc0Da";function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var dt,pt=Object(k.c)("payBox")(tt=function(e){y()(n,e);var t=lt(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).onClose=function(){r.props.payBox.visible=!1,setTimeout((function(){r.props.payBox.clear()}),500)},r.goToThePayConfirmPage=Object($.a)(l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isLoading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,r.setState({isLoading:!0}),e.next=6,r.props.payBox.createOrder();case 6:r.setState({isLoading:!1}),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),Z.a.error({content:e.t0.Message||"\u521b\u5efa\u8ba2\u5355\u5931\u8d25",hasMask:!1,duration:1e3}),r.onClose(),r.setState({isLoading:!1});case 15:case"end":return e.stop()}}),e,null,[[2,9]])}))),500),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.state={isLoading:!1},r}return p()(n,[{key:"render",value:function(){var e=this.state.isLoading,t=this.props.payBox.options,n=void 0===t?{}:t,r=n.amount;return Object(a.jsx)("div",{children:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:it,id:rt,children:[Object(a.jsx)(K,{currentPaymentData:n}),Object(a.jsxs)("div",{className:ot,children:["\u5408\u8ba1\uff1a",Object(a.jsxs)("span",{className:st,children:["\uffe5 ",this.transMoneyToFixed(r)," "]})]}),Object(a.jsx)("div",{className:ct,children:Object(a.jsx)(R.a,{type:"primary",onClick:this.goToThePayConfirmPage,size:"large",className:at,full:!0,disabled:e,children:e?Object(a.jsx)(M.a,{type:"spinner",children:"\u751f\u6210\u8ba2\u5355\u4e2d..."}):"\u786e\u8ba4\u652f\u4ed8"})}),Object(a.jsx)("div",{onClick:this.onClose,className:ut,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:12})})]})})})}}]),n}(w.Component))||tt,ft={payconfirmWrapper:"_1Y9PRwuLc-EXymjL08GtMN",icon:"qPmVcySkbryfcz-ym-Iu-",payTitle:"lw-11c14_0UjI60IHbeH7",payMoney:"_2rLW01UM_HWCB2vvCe8l3j",payM:"_30v8Fr1Dz5qhJbzzYPhn0X",payTab_top:"_1iXCu2yJOrxlXgJtjVIxAQ",payTab:"_1ZnlroNc1xNlpuWMKLb8Kc",payLine:"_1M3XjaJWFuqJa004tOrHEP",payTabActive:"_16K4ZskSy8qbKbLqapPJJH",wechatPayment:"_2NFjOm86V_LDKRHNi_i9LR",wPaymentDec:"MWATj79LiUm8BpWJUsiC_",wPayment_01:"_2iZTgnLkSW9mY3U5A_HcRc",wPayment_02:"_11QLm1GYLBvmYv_9lzD4z6",wPayment_03:"_2H8EDTRvAsG3Om2ztcLK3r",wPaymentCode:"_2N0662WBZG2W5mZx-3oAjc",walletPayment:"MZqafky4om8T3gwJ93gW7",walletTitle:"_22dVi5QnnVe2SkbI_eZSLG",walletDec:"_3zAuM6CLU5rOn01HoUq_-v",walletPay:"_2gLTSsbTDXNNdZjOUcUqzv",walletPayPwd:"hIX-rIRl4QDaxSd_6DHaW",walletBalance:"_1rl1tQGY17YaUch9uchOBc",walletSettingPwd:"_2xNmVI7UfZT6THjqUYz11B",walletText:"_14gRjL_9B2Unn3O_rf9D19",walletWarn:"_2IeY-uwKgd8I44hCP34280",walletChangePwd:"_2meNYO-RaU6SQ8meYrfck6",walletConfirmBc:"jIoAOmpbOklEC3BvCk9iB",walletConfirmBtn:"_33gPswNlGZol7NGEFWVLZm",walletPayment_01:"_3w2xAIxZnHTqyxHdrpODbI",paymentCloseBtn:"_1SoQzCxc0pwcGhclpbfHNE",forgetPassword:"_5GMZCqVizrW-1jQF1bd2t",payList:"_3SNT14VNGA-BfDNwrh6BKn",payListItem:"_2PouhOhoZOKEIduPuD-Py_",timeout:"_3J87k7er4Kd2eaDQWqKxBO"};function ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var vt,mt=Object(k.c)("site")(dt=Object(k.c)("user")(dt=Object(k.c)("payBox")(dt=Object(k.d)(dt=function(e){y()(n,e);var t=ht(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).onClose=function(){r.props.payBox.visible=!1,setTimeout((function(){r.props.payBox.clear()}),500)},r.toMarryNumber=function(e){var t;switch(e){case 48:case 96:t="0";break;case 49:case 97:t="1";break;case 50:case 98:t="2";break;case 51:case 99:t="3";break;case 52:case 100:t="4";break;case 53:case 101:t="5";break;case 54:case 102:t="6";break;case 55:case 103:t="7";break;case 56:case 104:t="8";break;case 57:case 105:t="9"}return t},r.handleKeyDown=function(e){if(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105){var t=r.toMarryNumber(e.keyCode);r.updatePwd(t,"add")}else 13==e.keyCode||8==e.keyCode&&r.updatePwd("","delete")},r.updatePwd=function(e,t){var n=r.state.list,a=void 0===n?[]:n;if("add"==t){var i=Ee()(a);a.length>=6&&(i=i.join("").substring(0,5).split("")),r.setState({list:[].concat(i,[e])},(function(){r.state.list.length}))}else"delete"==t&&r.setState({list:a.slice(0,a.length-1)})},r.initState=function(){r.setState({paymentType:"wallet",list:[],imageShow:!1,isSubmit:!1}),r.props.payBox.payWay=P.c.WALLET,r.props.payBox.password=null},r.goSetPayPwa=function(){r.props.payBox.step=P.f.SET_PASSWORD},r.handleChangePaymentType=function(e){r.props.payBox.payWay=e,r.props.payBox.payWay===P.c.WX?r.props.payBox.wechatPayOrderQRCode():r.props.payBox.clearOrderStatusTimer()},r.handlePayConfirmed=Object($.a)(l()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isSubmit){e.next=2;break}return e.abrupt("return");case 2:if(r.setState({isSubmit:!0}),r.props.payBox.payWay!==P.c.WALLET){e.next=22;break}if(6===r.state.list.length){e.next=8;break}return Z.a.error({content:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5bc6\u7801",hasMask:!1,duration:1e3}),r.setState({isSubmit:!1}),e.abrupt("return");case 8:return t=r.state.list,n=void 0===t?[]:t,r.props.payBox.password=n.join(""),e.prev=10,e.next=13,r.props.payBox.walletPayOrder();case 13:Z.a.success({content:"\u652f\u4ed8\u6210\u529f",hasMask:!1,duration:1e3}),r.onClose(),r.setState({isSubmit:!1}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),Z.a.error({content:e.t0.Message||"\u652f\u4ed8\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165",hasMask:!1,duration:1e3}),r.initState();case 22:case"end":return e.stop()}}),e,null,[[10,18]])}))),500),r.transMoneyToFixed=function(e){return Number(e).toFixed(2)},r.renderDiffPaymementContent=function(){return r.props.payBox.payWay===P.c.WX?r.renderWechatCodePaymementContent():r.props.payBox.payWay===P.c.WALLET?r.renderWalletPaymementContent():void 0},r.handleImgFetchingError=function(){r.setState({imageShow:!1})},r.handleImgFetching=function(){r.setState({imageShow:!0})},r.handleTimeoutRefresh=l()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.payBox.wechatPayOrderQRCode();case 2:case"end":return e.stop()}}),e)}))),r.renderWechatCodePaymementContent=function(){return Object(a.jsxs)("div",{className:ft.wechatPayment,children:[Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsxs)("div",{className:ft.wPaymentCode,children:[r.props.payBox.qrCodeTimeout&&Object(a.jsx)("div",{className:ft.timeout,onClick:r.handleTimeoutRefresh,children:"\u5df2\u8d85\u65f6\uff0c\u70b9\u51fb\u5237\u65b0"}),!r.state.imageShow&&Object(a.jsx)(M.a,{type:"spinner",size:14,children:"\u52a0\u8f7d\u4e2d"}),Object(a.jsx)("img",{style:{display:r.state.imageShow?"block":"none"},onLoad:r.handleImgFetching,onError:r.handleImgFetchingError,src:r.props.payBox.wechatQRCode,alt:"\u4e8c\u7ef4\u7801"})]}),Object(a.jsxs)("div",{className:ft.wPaymentDec,children:[Object(a.jsxs)("div",{className:ft.wPayment_01,children:[Object(a.jsx)(_.a,{className:ft.icon,name:"WechatPaymentOutlined",color:"#09bb07",size:16}),"\u5fae\u4fe1\u652f\u4ed8"]}),Object(a.jsxs)("div",{className:ft.wPayment_02,children:[Object(a.jsx)(_.a,{className:ft.icon,name:"ScanOutlined",color:"#09bb07",size:20}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"\u6253\u5f00\u624b\u673a\u5fae\u4fe1\u626b\u4e00\u626b"}),Object(a.jsx)("p",{children:"\u626b\u63cf\u4e8c\u7ef4\u7801\u5b8c\u6210\u652f\u4ed8"})]})]})]})]}),Object(a.jsx)("div",{className:ft.wPayment_03,children:Object(a.jsx)("p",{children:"\u4e8c\u7ef4\u7801\u6709\u6548\u65f6\u957f\u4e3a5\u5206\u949f\uff0c\u8bf7\u5c3d\u5feb\u652f\u4ed8"})})]})},r.renderWalletPaymementContent=function(){var e,t,n,i,o,s,c,u=r.props.user.userInfo,l=((void 0===u?{}:u)||{}).canWalletPay,d=r.props.payBox.options,p=(void 0===d?{}:d).amount,f=void 0===p?0:p,h=r.state,v=h.list,m=void 0===v?[]:v,b=h.isSubmit,y=m.join(""),g=!y||6!==y.length||b;return Object(a.jsxs)("div",{className:"".concat(ft.walletPayment),children:[Object(a.jsxs)("div",{className:ft.walletTitle,children:[Object(a.jsx)(_.a,{className:ft.icon,name:"PurseOutlined",size:"20",color:"#1878f3"}),Object(a.jsx)("span",{className:ft.text,children:"\u94b1\u5305\u652f\u4ed8"})]}),l?Object(a.jsxs)(a.Fragment,{children:[Number(null===(n=r.props.payBox)||void 0===n?void 0:n.walletAvaAmount)<Number(f)?Object(a.jsxs)("div",{className:ft.walletDec,children:[Object(a.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(i=r.props.payBox)&&void 0!==i&&i.walletAvaAmount?Object(a.jsxs)("span",{className:ft.walletBalance,children:["\uffe5",null===(o=r.props.payBox)||void 0===o?void 0:o.walletAvaAmount]}):Object(a.jsx)(M.a,{type:"spinner",size:14}),Object(a.jsx)("span",{className:ft.walletWarn,children:"\u4f59\u989d\u4e0d\u8db3"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(ft.walletDec," ").concat(ft.walletPay),children:[Object(a.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(s=r.props.payBox)&&void 0!==s&&s.walletAvaAmount?Object(a.jsxs)("span",{className:ft.walletBalance,children:["\uffe5",null===(c=r.props.payBox)||void 0===c?void 0:c.walletAvaAmount]}):Object(a.jsx)(M.a,{type:"spinner",size:14})]}),Object(a.jsxs)("div",{className:"".concat(ft.walletDec," ").concat(ft.walletPayPwd),children:[Object(a.jsx)("span",{children:"\u652f\u4ed8\u5bc6\u7801"}),Object(a.jsx)("div",{className:ft.payList,children:r.renderPwdItem()})]})]}),Object(a.jsx)("div",{className:ft.walletConfirmBc,children:Object(a.jsx)(R.a,{onClick:r.handlePayConfirmed,size:"large",className:ft.walletConfirmBtn,type:"primary",disabled:g,full:!0,children:b?Object(a.jsx)(M.a,{type:"spinner",children:"\u652f\u4ed8\u4e2d..."}):"\u786e\u8ba4\u652f\u4ed8"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"".concat(ft.walletDec," ").concat(ft.walletPay),children:[Object(a.jsx)("span",{children:"\u94b1\u5305\u4f59\u989d"}),null!==(e=r.props.payBox)&&void 0!==e&&e.walletAvaAmount?Object(a.jsxs)("span",{className:ft.walletBalance,children:["\uffe5",null===(t=r.props.payBox)||void 0===t?void 0:t.walletAvaAmount]}):Object(a.jsx)(M.a,{type:"spinner",size:14})]}),Object(a.jsxs)("div",{className:ft.walletDec,children:[Object(a.jsx)("span",{children:"\u652f\u4ed8\u5bc6\u7801"}),Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{className:ft.walletText,children:"\u94b1\u5305\u652f\u4ed8\uff0c\u9700 "}),Object(a.jsx)("span",{onClick:r.goSetPayPwa,className:ft.walletSettingPwd,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})]})]})]})]})},r.state={list:[],paymentType:"wallet",imageShow:!1},r}return p()(n,[{key:"componentDidMount",value:function(){var e=l()(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.initState(),document.addEventListener("keydown",this.handleKeyDown),n=null===(t=this.props)||void 0===t?void 0:t.user,r=n.id){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.props.payBox.getWalletInfo(r);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),Z.a.error({content:"\u83b7\u53d6\u7528\u6237\u94b1\u5305\u4fe1\u606f\u5931\u8d25",duration:1e3});case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"renderPwdItem",value:function(){var e=this.state.list,t=(void 0===e?[]:e).map((function(e,t){return Object(a.jsx)("div",{className:"".concat(ft.payListItem),children:"\u25cf"},t)}));if(t.length<6)for(var n=!1,r=t.length;r<6;r++)n||(n=!0),t.push(Object(a.jsx)("div",{className:"".concat(ft.payListItem)},r));return t}},{key:"render",value:function(){var e,t=null===(e=this.props)||void 0===e?void 0:e.payBox,n=t.options,r=void 0===n?{}:n,i=(t.qrCodeTimeout,r.amount),o=void 0===i?0:i;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:ft.payconfirmWrapper,children:[Object(a.jsx)("div",{className:ft.payTitle,children:"\u652f\u4ed8"}),Object(a.jsxs)("div",{className:ft.payMoney,children:["\u652f\u4ed8\u91d1\u989d\uff1a ",Object(a.jsxs)("span",{className:ft.payM,children:["\uffe5",this.transMoneyToFixed(o)]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:ft.payTab_top,children:Object(a.jsxs)(be.a.Group,{value:this.props.payBox.payWay,onChange:this.handleChangePaymentType,children:[this.props.site.isWechatPayOpen&&"none"!==this.props.site.wechatEnv&&Object(a.jsx)(be.a,{name:"weixin",className:"".concat(ft.payTab," "),children:"\u5fae\u4fe1\u652f\u4ed8"}),Object(a.jsx)(be.a,{name:"wallet",className:"".concat(ft.payTab),children:"\u94b1\u5305\u652f\u4ed8"})]})}),Object(a.jsx)(Y.a,{className:ft.payLine}),Object(a.jsx)("div",{className:ft.payTab_bottom,children:this.renderDiffPaymementContent()})]}),Object(a.jsx)("div",{onClick:this.onClose,className:ft.paymentCloseBtn,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:12})})]})})}}]),n}(w.Component))||dt)||dt)||dt)||dt,bt=(n("UxlC"),"_QHrisVZ9fi1NwXppdsJH"),yt="_2llHaHh8bcIgRc-JxzIbvW",gt="_3nOLATwJVHZ7u2eaLva0-i",jt="_2LH25uiurQ_ArYoV0mStoO",xt="_38L9WP--LldPBCVVXHS1m3",Ot="_2knxvJvjKxRh3NpDsV27Zy",wt=n("DetZ"),Ct=n.n(wt);function kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Nt,Tt=Object(k.c)("user")(vt=Object(k.c)("payBox")(vt=Object(k.d)(vt=function(e){y()(n,e);var t=kt(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).initState=function(){r.setState({payPassword:null,isSubmit:!1})},r.handleCancel=function(){r.props.payBox.step=P.f.PAYWAY,r.initState()},r.handleSetPwd=function(e){r.setState({payPassword:e.target.value.replace(/\D/g,"")})},r.handleSubmit=Object($.a)(l()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.isSubmit){e.next=2;break}return e.abrupt("return");case 2:r.setState({isSubmit:!0}),t=r.state.payPassword,n=r.props.user.id,r.props.payBox.password=t,r.props.payBox.setPayPassword(n).then((function(e){Z.a.success({content:"\u8bbe\u7f6e\u5bc6\u7801\u6210\u529f",hasMask:!1,duration:1e3}),r.props.user.updateUserInfo(n),r.props.payBox.step=P.f.PAYWAY,r.props.payBox.visible=!0,r.initState()})).catch((function(e){console.log(e),Z.a.error({content:"\u8bbe\u7f6e\u5931\u8d25\u8bf7\u91cd\u65b0\u8bbe\u7f6e",hasMask:!1,duration:1e3}),r.initState()}));case 7:case"end":return e.stop()}}),e)}))),500),r.state={payPassword:null,isSubmit:!1},r}return p()(n,[{key:"render",value:function(){var e=this.state,t=(e.list,e.payPassword),n=e.isSubmit;return Object(a.jsxs)("div",{className:bt,children:[Object(a.jsxs)("div",{className:yt,children:[Object(a.jsx)("div",{className:gt,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"}),Object(a.jsx)("div",{className:Ot,onClick:this.handleCancel,children:Object(a.jsx)(_.a,{name:"CloseOutlined",size:12})})]}),Object(a.jsx)(Ct.a,{type:"number",maxLength:6,value:t,onChange:this.handleSetPwd,mode:"password",className:jt,placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u5bc6\u7801"}),Object(a.jsx)(R.a,{onClick:this.handleSubmit,disabled:!t||6!==t.length||n,type:"primary",className:xt,children:"\u8bbe\u7f6e\u652f\u4ed8\u5bc6\u7801"})]})}}]),n}(w.Component))||vt)||vt)||vt,Dt=n("n4oF"),Et="_3CgVzJEE5KgjW1EJ9r1OZY";function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Pt,At=Object(k.c)("payBox")(Nt=Object(k.d)(Nt=function(e){y()(n,e);var t=St(n);function n(){var e;m()(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onClose=function(){e.props.payBox.visible&&(e.props.payBox.visible=!1)},e}return p()(n,[{key:"render",value:function(){return!Object(Dt.a)()&&Object(a.jsxs)(Ke.a,{visible:this.props.payBox.visible,position:"center",maskClosable:!0,onClose:this.onClose,className:Et,children:[this.props.payBox.step===P.f.SURE&&Object(a.jsx)(pt,{}),this.props.payBox.step===P.f.PAYWAY&&Object(a.jsx)(mt,{}),(this.props.payBox.step===P.f.WALLET_PASSWORD||this.props.payBox.step===P.f.SET_PASSWORD)&&Object(a.jsx)(Tt,{})]})}}]),n}(C.a.Component))||Nt)||Nt,Rt=n("lN2P");function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Mt=new(function(e){y()(n,e);var t=Lt(n);function n(){return m()(this,n),t.apply(this,arguments)}return n}(T.a)),Bt=Object(k.c)("site")(Pt=Object(k.c)("payBox")(Pt=Object(k.c)("user")(Pt=Object(k.d)(Pt=function(e){y()(n,e);var t=Lt(n);function n(e){var r;return m()(this,n),(r=t.call(this,e)).createPayBox=l()(o.a.mark((function e(){var t,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{data:{}},r.props.payBox.clear(),r.props.user.id){e.next=6;break}return Z.a.error({content:"\u9700\u8981\u767b\u5f55\u540e\u624d\u53ef\u4ee5\u8fdb\u884c\u652f\u4ed8",duration:2e3}),Rt.a.saveAndLogin(),e.abrupt("return");case 6:if(!(Number(Object(D.a)(t,"data.amount",0))<.1)){e.next=9;break}return Z.a.error({content:"\u6700\u5c0f\u652f\u4ed8\u91d1\u989d\u5fc5\u987b\u5927\u4e8e 0.1 \u5143"}),e.abrupt("return");case 9:r.props.payBox.options=_t({},t.data),n=function(){},r.props.payBox.isAnonymous=t.isAnonymous||!1,r.props.payBox.onSuccess=t.success||n,r.props.payBox.onFailed=t.failed||n,r.props.payBox.onCompleted=t.completed||n,r.props.payBox.onOrderCreated=t.orderCreated||n,r.props.payBox.visible=!0;case 17:case"end":return e.stop()}}),e)}))),r.createPayBox=r.createPayBox.bind(h()(r)),Mt.on("createPayBox",r.createPayBox),r}return p()(n,[{key:"render",value:function(){var e=this.props.site.platform;return"pc"===e?Object(a.jsx)(At,{}):"h5"===e?Object(a.jsx)(nt,{options:this.props.payBox.options}):null}}]),n}(w.Component))||Pt)||Pt)||Pt)||Pt;Bt.createPayBox=function(e){return Mt.emit("createPayBox",e)}},vNgL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectValue=function(e){return function(){return(0,r.isCallable)(e)?e.apply(void 0,arguments):e}};var r=n("uScP")},vgmO:function(e,t,n){(function(t){var n;n="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},e.exports=n}).call(this,n("ntbh"))},x83w:function(e,t,n){"use strict";var r=n("I+eb"),a=n("hXpO");r({target:"String",proto:!0,forced:n("rwPt")("fixed")},{fixed:function(){return a(this,"tt","","")}})},yqws:function(e,t){e.exports=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},a=1&r.flags[2],i=2&r.flags[2],o=8&r.flags[2],s=16&r.flags[2],c=32&r.flags[2],u=65536&r.flags[0],l=131072&r.flags[0];return t=8,a&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),i&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),c&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!a&&l&&(r.baseDataOffsetIsMoof=!0),r}},zkTq:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=r(n("UUEJ")),o=r(n("XzP8")),s=(0,i.default)(),c=((0,o.default)(),function(e){return a.default.createElement(s,e)});c.TabPanel=s.TabPanel;var u=c;t.default=u},zyNV:function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}}},[["tuZy",1,0,3,5,4,7,2]]]);