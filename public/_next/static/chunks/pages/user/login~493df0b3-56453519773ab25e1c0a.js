_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[59],{"/0+H":function(e,t,r){"use strict";t.__esModule=!0,t.isInAmpMode=a,t.useAmp=function(){return a(o.default.useContext(i.AmpStateContext))};var n,o=(n=r("q1tI"))&&n.__esModule?n:{default:n},i=r("lwAK");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,r=void 0!==t&&t,n=e.hybrid,o=void 0!==n&&n,i=e.hasQuery,a=void 0!==i&&i;return r||o&&a}},"/Hjs":function(e,t,r){"use strict";r.d(t,"a",(function(){return D}));var n=r("nKUr"),o=r("o0o1"),i=r.n(o),a=r("lSNA"),s=r.n(a),c=(r("ls82"),r("yXPU")),u=r.n(c),f=r("lwsE"),l=r.n(f),p=r("W8MJ"),d=r.n(p),v=r("7W2i"),h=r.n(v),y=r("a1gu"),b=r.n(y),g=r("Nsbk"),m=r.n(g),O=r("q1tI"),w=r.n(O),j=r("kMSe"),S=r("n4oF"),k=r("B5JU"),P=r.n(k);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var o=m()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}function D(e){var t;return Object(j.c)("user")(t=Object(j.d)(t=function(t){h()(o,t);var r=I(o);function o(e){return l()(this,o),r.call(this,e)}return d()(o,null,[{key:"getInitialProps",value:function(){var t=u()(i.a.mark((function t(r,n){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}throw Error("CheckNoLoginStatus\u5fc5\u987b\u524d\u7f6e\u4f7f\u7528HOCFetchSiteData");case 2:if(t.prev=2,o={},!Object(S.a)()){t.next=9;break}if(!e.getInitialProps){t.next=9;break}return t.next=8,e.getInitialProps(r);case 8:o=t.sent;case 9:return t.abrupt("return",C({},o));case 12:return t.prev=12,t.t0=t.catch(2),console.log("err",t.t0),t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,r){return t.apply(this,arguments)}}()}]),d()(o,[{key:"componentDidMount",value:function(){this.props.user.loginStatus&&P.a.redirect({url:"/"})}},{key:"render",value:function(){return this.props.user.loginStatus?null:Object(n.jsx)(e,C({},this.props))}}]),o}(w.a.Component))||t)||t}},"1jsn":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return r("bsUF")}])},"4Brf":function(e,t,r){"use strict";var n=r("I+eb"),o=r("g6v/"),i=r("2oRo"),a=r("UTVS"),s=r("hh1v"),c=r("m/L8").f,u=r("6JNq"),f=i.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new f(e):void 0===e?f():f(e);return""===e&&(l[t]=!0),t};u(p,f);var d=p.prototype=f.prototype;d.constructor=p;var v=d.toString,h="Symbol(test)"==String(f("test")),y=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=v.call(e);if(a(l,e))return"";var r=h?t.slice(7,-1):t.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},"4xcg":function(e,t,r){"use strict";r("pNMO"),r("4Brf"),r("ma9I");var n,o=r("nKUr"),i=r("lwsE"),a=r.n(i),s=r("W8MJ"),c=r.n(s),u=r("7W2i"),f=r.n(u),l=r("a1gu"),p=r.n(l),d=r("Nsbk"),v=r.n(d),h=r("q1tI"),y=r.n(h),b=r("kMSe"),g=r("+3IH"),m=r("g4pe"),O=r.n(m),w=(r("yXV3"),r("rB9j"),function(e,t,r,n){var o=j(e+t),i=[],a=[];if(r||!k(o,i)){r&&document.getElementById(o)&&document.getElementById(o).parentNode.removeChild(document.getElementById(o)),i.push(o);var s=document.createElement("script");s.type="text/javascript",s.id=o;try{e?(s.src=e,s.onloadDone=!1,s.onload=function(){s.onloadDone=!0,a[e]=1},s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||s.onloadDone||(s.onloadDone=!0,a[e]=1)}):t&&(s.text=t),document.getElementsByTagName("head")[0].appendChild(s)}catch(c){console.log(c)}}}),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=0,n=0,o="",i="";for(i=t-e.length%t,n=0;n<i;n+=1)e+="0";for(;r<e.length;)o=S(o,e.substr(r,t)),r+=t;return o},S=function(e,t){for(var r="",n=Math.max(e.length,t.length),o=0;o<n;o++){var i=e.charCodeAt(o)^t.charCodeAt(o);r+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(i%52)}return r},k=function(e,t){if("string"===typeof e||"number"===typeof e)for(var r in t)if(t[r]===e)return!0;return!1};function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var x=Object(b.c)("site")(n=Object(b.d)(n=function(e){f()(r,e);var t=P(r);function r(e){return a()(this,r),t.call(this,e)}return c()(r,[{key:"componentDidMount",value:function(){var e,t,r;!function(e){if(-1===e.indexOf("<script"))return e;for(var t=/<script[^\>]*?>([^\x00]*?)<\/script>/gi,r=[];r=t.exec(e);){var n=/<script[^\>]*?src=\"([^\>]*?)\"[^\>]*?(reload=\"1\")?(?:charset=\"([\w\-]+?)\")?><\/script>/i,o=[];(o=n.exec(r[0]))?w(o[1],"",o[2],o[3]):(o=(n=/<script(.*?)>([^\x00]+?)<\/script>/i).exec(r[0]),w("",o[2],-1!==o[1].indexOf("reload=")))}}((null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(r=t.setSite)||void 0===r?void 0:r.siteStat)||"")}},{key:"formatTitle",value:function(){var e=this.props,t=e.site,r=e.title,n=e.showSiteName,o=void 0===n||n,i=Object(g.a)(t,"webConfig.setSite.siteName","\u6b22\u8fce\u60a8");return r&&""!==r&&(i="".concat(r).concat(o?" - ".concat(i):"")),i}},{key:"formatKeywords",value:function(){var e=this.props,t=e.site,r=e.keywords,n=Object(g.a)(t,"webConfig.setSite.siteKeywords","\u6b22\u8fce\u60a8");return r&&""!==r&&(n="".concat(r," - ").concat(n)),n}},{key:"formatDescription",value:function(){var e=this.props,t=e.site,r=e.description,n=Object(g.a)(t,"webConfig.setSite.siteIntroduction","\u6b22\u8fce\u60a8");return r&&""!==r&&(n=r),n}},{key:"render",value:function(){var e,t,r,n=(null===(e=this.props.site)||void 0===e||null===(t=e.webConfig)||void 0===t||null===(r=t.setSite)||void 0===r?void 0:r.siteFavicon)||"";return Object(o.jsxs)(O.a,{children:[Object(o.jsx)("meta",{name:"keywords",content:this.formatKeywords()}),Object(o.jsx)("meta",{name:"description",content:this.formatDescription()}),n&&Object(o.jsx)("link",{rel:"icon",href:n}),Object(o.jsx)("title",{children:this.formatTitle()})]})}}]),r}(y.a.Component))||n)||n;t.a=x},"5Tg+":function(e,t,r){var n=r("tiKp");t.f=n},"8Kt/":function(e,t,r){"use strict";r("lSNA");t.__esModule=!0,t.defaultHead=f,t.default=void 0;var n,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(r("q1tI")),i=(n=r("Xuae"))&&n.__esModule?n:{default:n},a=r("lwAK"),s=r("FYa8"),c=r("/0+H");function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[o.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function l(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===o.default.Fragment?e.concat(o.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}var p=["name","httpEquiv","charSet","itemProp"];function d(e,t){return e.reduce((function(e,t){var r=o.default.Children.toArray(t.props.children);return e.concat(r)}),[]).reduce(l,[]).reverse().concat(f(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,r=new Set,n={};return function(o){var i=!0,a=!1;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){a=!0;var s=o.key.slice(o.key.indexOf("$")+1);e.has(s)?i=!1:e.add(s)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(var c=0,u=p.length;c<u;c++){var f=p[c];if(o.props.hasOwnProperty(f))if("charSet"===f)r.has(f)?i=!1:r.add(f);else{var l=o.props[f],d=n[f]||new Set;"name"===f&&a||!d.has(l)?(d.add(l),n[f]=d):i=!1}}}return i}}()).reverse().map((function(e,t){var r=e.key||t;return o.default.cloneElement(e,{key:r})}))}function v(e){var t=e.children,r=(0,o.useContext)(a.AmpStateContext),n=(0,o.useContext)(s.HeadManagerContext);return o.default.createElement(i.default,{reduceComponentsToState:d,headManager:n,inAmpMode:(0,c.isInAmpMode)(r)},t)}v.rewind=function(){};var h=v;t.default=h},"BX/b":function(e,t,r){var n=r("/GqU"),o=r("JBy8").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(t){return a.slice()}}(e):o(n(e))}},FYa8:function(e,t,r){"use strict";var n;t.__esModule=!0,t.HeadManagerContext=void 0;var o=((n=r("q1tI"))&&n.__esModule?n:{default:n}).default.createContext({});t.HeadManagerContext=o},J0pL:function(e,t,r){"use strict";r("pNMO"),r("4Brf");var n,o=r("nKUr"),i=r("lwsE"),a=r.n(i),s=r("W8MJ"),c=r.n(s),u=r("7W2i"),f=r.n(u),l=r("a1gu"),p=r.n(l),d=r("Nsbk"),v=r.n(d),h=r("q1tI"),y=r.n(h),b=r("kMSe"),g=r("4xcg");function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var O=Object(b.c)("site")(n=Object(b.c)("search")(n=Object(b.d)(n=function(e){f()(r,e);var t=m(r);function r(){return a()(this,r),t.apply(this,arguments)}return c()(r,[{key:"renderView",value:function(){var e=this.props,t=e.pc,r=e.h5,n=e.title,i=void 0===n?"":n,a=e.keywords,s=void 0===a?"":a,c=e.description,u=void 0===c?"":c,f=e.showSiteName,l=void 0===f||f,p="pc"===this.props.site.platform?t||null:r||null;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{title:i,keywords:s,description:u,showSiteName:l}),p]})}},{key:"render",value:function(){return this.renderView()}}]),r}(y.a.Component))||n)||n)||n;t.a=O},JTJg:function(e,t,r){"use strict";var n=r("I+eb"),o=r("WjRb"),i=r("HYAF");n({target:"String",proto:!0,forced:!r("qxPZ")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},QcND:function(e,t,r){"use strict";r.d(t,"a",(function(){return z}));r("yq1k"),r("4mDm"),r("Rfxz"),r("07d7"),r("rB9j"),r("JTJg"),r("PKPk"),r("Rm1S"),r("UxlC"),r("3bBZ"),r("Kz25");var n=r("nKUr"),o=r("o0o1"),i=r.n(o),a=r("lSNA"),s=r.n(a),c=(r("ls82"),r("yXPU")),u=r.n(c),f=r("lwsE"),l=r.n(f),p=r("W8MJ"),d=r.n(p),v=r("7W2i"),h=r.n(v),y=r("a1gu"),b=r.n(y),g=r("Nsbk"),m=r.n(g),O=r("q1tI"),w=r.n(O),j=r("kMSe"),S=r("n4oF"),k=r("zDaA"),P=r("sho3"),x=r("B5JU"),C=r.n(x),I=r("20a2"),D=r("bK+J"),R=r("/Nde"),M=r("MCNy"),N=r.n(M),E=r("pGE/"),U=r("Tk/S"),_="rKwiNl2JOBH1dcaoggUsN",A="_3_kaucwAnhguPyKqHJUwsL",q=(r("ma9I"),r("5s+n"),r("RIqP")),J=r.n(q),T=r("rGXy"),W=r("lY1M");function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=["closeWindow","chooseImage","uploadImage","getLocalImgData","updateAppMessageShareData","updateTimelineShareData","getNetworkType"],F=!1;function L(){return X.apply(this,arguments)}function X(){return(X=u()(i.a.mark((function e(){var t,r,n,o,a,s,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]&&c[0],r=c.length>1&&void 0!==c[1]?c[1]:[],W.a.env("weixin")){e.next=4;break}return e.abrupt("return");case 4:return n=[],window.wx&&wx.config||(o=new Promise((function(e){var t=document.createElement("script");t.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",t.onload=function(){return e()},document.body.appendChild(t)})),n.push(o)),e.next=8,Promise.all(n);case 8:if(t&&!F){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(T.getWXConfig)({params:{url:encodeURIComponent(window.location.href)}});case 12:if(0!==(a=e.sent).code||!a.data||!a.data.appId){e.next=21;break}return i=a.data,s={appId:i.appId,timestamp:i.timestamp,nonceStr:i.nonceStr,signature:i.signature},wx&&wx.config(K(K({debug:!1},s),{},{jsApiList:[].concat(H,J()(r))})),wx&&(wx.hasDoneConfig=!0),F=!0,e.abrupt("return",!0);case 21:console.error("\u521d\u59cb\u5316\u5fae\u4fe1jssdk\u5931\u8d25\uff01",a);case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}var i}),e)})))).apply(this,arguments)}var G=r("yO9+");function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var o=m()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b()(this,r)}}function z(e){var t,r=Object(j.c)("site")(t=Object(j.c)("user")(t=Object(j.d)(t=function(t){h()(o,t);var r=Y(o);function o(e){var t,n;l()(this,o),t=r.call(this,e);var i=e.serverUser,a=e.serverSite,s=e.user,c=e.site;return a&&a.platform&&c.setPlatform(a.platform),a&&a.closeSite&&c.setCloseSiteConfig(a.closeSite),a&&a.webConfig&&c.setSiteConfig(a.webConfig),i&&i.userInfo&&s.setUserInfo(i.userInfo),i&&i.userPermissions&&s.setUserPermissions(i.userPermissions),n=Object(S.a)()?!a:!(c&&c.webConfig),t.state={isNoSiteData:n,isPass:!1},t}return d()(o,null,[{key:"getInitialProps",value:function(){var t=u()(i.a.mark((function t(r){var n,o,a,s,c,u,f,l,p,d,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n="static",o={},c={},!Object(S.a)()){t.next=24;break}return v=r.req.headers,n=v&&!E.a.isEmptyObject(v)?Object(k.a)(v["user-agent"]):"static",t.next=9,Object(P.readForum)({},r);case 9:if(o=t.sent,s={platform:n,closeSite:-3005===o.code?o.data:null,webConfig:o&&o.data||null},!o||0!==o.code||null===(l=o)||void 0===l||null===(p=l.data)||void 0===p||null===(d=p.user)||void 0===d||!d.userId){t.next=20;break}return t.next=14,Object(P.readUser)({params:{pid:o.data.user.userId}},r);case 14:return a=t.sent,t.next=17,Object(P.readPermissions)({},r);case 17:f=t.sent,u=a&&0===a.code?a.data:null,f=f&&0===f.code?f.data:null;case 20:if(!o||0!==o.code||!e.getInitialProps){t.next=24;break}return t.next=23,e.getInitialProps(r,{user:u,site:s});case 23:c=t.sent;case 24:return t.abrupt("return",Q(Q({},c),{},{serverSite:s,serverUser:{userInfo:u,userPermissions:f}}));case 27:return t.prev=27,t.t0=t.catch(0),console.log("err",t.t0),t.abrupt("return",{serverSite:{},serverUser:{}});case 31:case"end":return t.stop()}}),t,null,[[0,27]])})));return function(e){return t.apply(this,arguments)}}()}]),d()(o,[{key:"componentDidMount",value:function(){var e=u()(i.a.mark((function e(){var t,r,n,o,a,s,c,u,f,l,p,d,v,h,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.isNoSiteData,r=this.props,n=r.serverUser,o=r.serverSite,a=r.user,s=r.site,u=!1,s.setPlatform(Object(k.a)(window.navigator.userAgent)),!t){e.next=15;break}if(c=(null===o||void 0===o?void 0:o.webConfig)||null){e.next=13;break}return e.next=9,Object(P.readForum)({});case 9:(f=e.sent).data&&s.setSiteConfig(f.data),this.setAppCommonStatus(f),c=f.data||null;case 13:e.next=16;break;case 15:c=s?s.webConfig:null;case 16:if(s.initUserLoginEntryStatus(),!c||!c.user){e.next=33;break}if(a&&a.userInfo||n&&n.userInfo){e.next=30;break}return e.next=21,Object(P.readUser)({params:{pid:c.user.userId}});case 21:return l=e.sent,e.next=24,Object(P.readPermissions)({});case 24:0===(p=e.sent).code&&p.data&&a.setUserPermissions(p.data),l.data&&a.setUserInfo(l.data),u=!!l.data,e.next=31;break;case 30:u=!0;case 31:e.next=34;break;case 33:u=!1;case 34:return a.updateLoginStatus(u),this.setState({isPass:this.isPass()}),e.next=38,L(c&&c.passport&&c.passport.offiaccountOpen);case 38:e.sent&&c&&c.setSite&&(d=c.setSite,v=d.siteName,h=d.siteIntroduction,y=d.siteFavicon,Object(U.a)(v,h,window.location.href,y));case 40:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAppCommonStatus",value:function(e){var t=this.props.site;switch([G.i,G.l,G.f,G.k,G.g,G.m,G.j].includes(e.code)&&this.saveInitialPage(),e.code){case 0:break;case G.q:t.setCloseSiteConfig(e.data),C.a.redirect({url:"/close"});break;case G.d:break;case G.s:Object(D.a)(),window.location.reload();break;case G.e:C.a.redirect({url:"/404"});break;case G.i:Object(D.a)(),window.location.replace("/user/login");break;case G.l:Object(D.a)(),window.location.replace("/user/register");break;case G.f:C.a.push({url:"/user/status?statusCode=2"});break;case G.k:C.a.push({url:"/user/status?statusCode=-4007"});break;case G.g:C.a.push({url:"/user/status?statusCode=-4009"});break;case G.m:C.a.push({url:"/user/supplementary"});break;case G.h:C.a.redirect({url:"/"});break;case G.j:C.a.push({url:"/forum/partner-invite"});break;default:C.a.redirect({url:"/500"})}}},{key:"saveInitialPage",value:function(){var e=this.props.site;e.getInitialPage()||e.setInitialPage(window.location.href)}},{key:"saveAndRedirect",value:function(e){this.saveInitialPage(e),C.a.redirect({url:e})}},{key:"isPass",value:function(){var e=this.props,t=e.site,r=e.router,n=e.user,o=this.state.isNoSiteData;if(t&&t.webConfig){var i,a;if(o&&this.setState({isNoSiteData:!1}),"/close"!==r.asPath&&t.closeSiteConfig)return C.a.redirect({url:"/close"}),!1;if(n.isLogin()){if(!t.isOffiaccountOpen&&!t.isMiniProgramOpen&&"/user/bind-phone"!==r.asPath&&t.isSmsOpen&&!n.mobile)return this.saveAndRedirect("/user/bind-phone"),!1;if("/user/bind-nickname"!==r.asPath&&!n.nickname)return this.saveAndRedirect("/user/bind-nickname"),!1;if(n.userStatus===R.b&&!G.p.includes(r.pathname))return C.a.replace({url:"/user/status?statusCode=".concat(n.userStatus)}),!1}if("pay"!==(null===t||void 0===t||null===(i=t.webConfig)||void 0===i||null===(a=i.setSite)||void 0===a?void 0:a.siteMode))return!0;if(G.t.some((function(e){return r.asPath.match(e)})))return!0;var s=r.query.inviteCode,c=s?"?inviteCode=".concat(s):"";if(null===n||void 0===n||!n.paid)return this.saveAndRedirect("/forum/partner-invite".concat(c)),!1;if("/"===r.asPath){var u=t.getInitialPage();if(u){if(new URL(u).pathname!==r.asPath)return t.clearInitialPage(),C.a.redirect({url:u}),!1;t.clearInitialPage()}}}return!0}},{key:"filterProps",value:function(e){var t=Q({},e);return delete t.serverUser,delete t.serverSite,delete t.user,delete t.site,t}},{key:"render",value:function(){var t=this.state,r=t.isNoSiteData,o=t.isPass;return"static"===this.props.site.platform?null:r||!o?Object(n.jsx)("div",{className:_,children:Object(n.jsx)(N.a,{className:A,name:"LoadingOutlined",size:"large"})}):Object(n.jsx)(e,Q({},this.filterProps(this.props)))}}]),o}(w.a.Component))||t)||t)||t;return Object(I.withRouter)(r)}},Rfxz:function(e,t,r){"use strict";var n=r("I+eb"),o=r("tycR").some,i=r("pkCn"),a=r("rkAj"),s=i("some"),c=a("some");n({target:"Array",proto:!0,forced:!s||!c},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},RiVy:function(e,t,r){"use strict";function n(){if("undefined"===typeof window)return!1;var e=window.navigator.userAgent.toLowerCase();return/micromessenger/.test(e)}r.d(t,"a",(function(){return n}))},Xuae:function(e,t,r){"use strict";var n=r("RIqP"),o=r("lwsE"),i=r("W8MJ"),a=(r("PJYZ"),r("7W2i")),s=r("a1gu"),c=r("Nsbk");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return s(this,r)}}t.__esModule=!0,t.default=void 0;var f=r("q1tI"),l=function(e){a(r,e);var t=u(r);function r(e){var i;return o(this,r),(i=t.call(this,e))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(n(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(r,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),r}(f.Component);t.default=l},bsUF:function(e,t,r){"use strict";r.r(t);var n,o=r("nKUr"),i=r("lwsE"),a=r.n(i),s=r("W8MJ"),c=r.n(s),u=r("7W2i"),f=r.n(u),l=r("a1gu"),p=r.n(l),d=r("Nsbk"),v=r.n(d),h=r("q1tI"),y=r.n(h),b=(r("ma9I"),r("rB9j"),r("UxlC"),r("kMSe")),g=r("20a2"),m=r("RiVy"),O=r("wdT/"),w=r.n(O);r("bK+J"),r("/Nde");function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var S,k=Object(b.c)("site")(n=Object(b.c)("invite")(n=Object(b.c)("commonLogin")(n=Object(b.d)(n=function(e){f()(r,e);var t=j(r);function r(){return a()(this,r),t.apply(this,arguments)}return c()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.site,r=e.invite,n=e.router;if(this.target=w.a.loading({duration:0}),"none"===t.wechatEnv)t.isSmsOpen?n.replace("/user/phone-login"):n.replace("/user/username-login");else{if(Object(m.a)()&&null!==t&&void 0!==t&&t.isOffiaccountOpen){var o=r.getInviteCode(n);o&&(o="?inviteCode=".concat(o));var i=encodeURIComponent("".concat(window.location.origin,"/user/wx-auth").concat(o));return void(window.location.href="".concat(window.location.origin,"/apiv3/users/wechat/h5.oauth?redirect=").concat(i))}n.replace("/user/wx-login")}}},{key:"componentWillUnmount",value:function(){var e;null===this||void 0===this||null===(e=this.target)||void 0===e||e.hide()}},{key:"render",value:function(){return null}}]),r}(y.a.Component))||n)||n)||n)||n,P=Object(g.withRouter)(k),x=r("J0pL"),C=r("QcND"),I=r("/Hjs");function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p()(this,r)}}var R=Object(b.c)("site")(S=function(e){f()(r,e);var t=D(r);function r(){return a()(this,r),t.apply(this,arguments)}return c()(r,[{key:"render",value:function(){var e;return Object(o.jsx)(x.a,{h5:Object(o.jsx)(P,{}),pc:Object(o.jsx)(P,{}),title:"\u767b\u5f55 - ".concat(null===(e=this.props.site)||void 0===e?void 0:e.siteName)})}}]),r}(y.a.Component))||S;t.default=Object(C.a)(Object(I.a)(Object(g.withRouter)(R)))},"dG/n":function(e,t,r){var n=r("Qo9l"),o=r("UTVS"),i=r("5Tg+"),a=r("m/L8").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},g4pe:function(e,t,r){e.exports=r("8Kt/")},lwAK:function(e,t,r){"use strict";var n;t.__esModule=!0,t.AmpStateContext=void 0;var o=((n=r("q1tI"))&&n.__esModule?n:{default:n}).default.createContext({});t.AmpStateContext=o},pNMO:function(e,t,r){"use strict";var n=r("I+eb"),o=r("2oRo"),i=r("0GbY"),a=r("xDBR"),s=r("g6v/"),c=r("STAE"),u=r("/b8u"),f=r("0Dky"),l=r("UTVS"),p=r("6LWA"),d=r("hh1v"),v=r("glrk"),h=r("ewvW"),y=r("/GqU"),b=r("wE6v"),g=r("XGwC"),m=r("fHMY"),O=r("33Wh"),w=r("JBy8"),j=r("BX/b"),S=r("dBg+"),k=r("Bs8V"),P=r("m/L8"),x=r("0eef"),C=r("kRJp"),I=r("busE"),D=r("VpIT"),R=r("93I0"),M=r("0BK2"),N=r("kOOl"),E=r("tiKp"),U=r("5Tg+"),_=r("dG/n"),A=r("1E5z"),q=r("afO8"),J=r("tycR").forEach,T=R("hidden"),W="Symbol",B=E("toPrimitive"),K=q.set,H=q.getterFor(W),F=Object.prototype,L=o.Symbol,X=i("JSON","stringify"),G=k.f,V=P.f,Q=j.f,Y=x.f,z=D("symbols"),Z=D("op-symbols"),$=D("string-to-symbol-registry"),ee=D("symbol-to-string-registry"),te=D("wks"),re=o.QObject,ne=!re||!re.prototype||!re.prototype.findChild,oe=s&&f((function(){return 7!=m(V({},"a",{get:function(){return V(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=G(F,t);n&&delete F[t],V(e,t,r),n&&e!==F&&V(F,t,n)}:V,ie=function(e,t){var r=z[e]=m(L.prototype);return K(r,{type:W,tag:e,description:t}),s||(r.description=t),r},ae=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof L},se=function(e,t,r){e===F&&se(Z,t,r),v(e);var n=b(t,!0);return v(r),l(z,n)?(r.enumerable?(l(e,T)&&e[T][n]&&(e[T][n]=!1),r=m(r,{enumerable:g(0,!1)})):(l(e,T)||V(e,T,g(1,{})),e[T][n]=!0),oe(e,n,r)):V(e,n,r)},ce=function(e,t){v(e);var r=y(t),n=O(r).concat(pe(r));return J(n,(function(t){s&&!ue.call(r,t)||se(e,t,r[t])})),e},ue=function(e){var t=b(e,!0),r=Y.call(this,t);return!(this===F&&l(z,t)&&!l(Z,t))&&(!(r||!l(this,t)||!l(z,t)||l(this,T)&&this[T][t])||r)},fe=function(e,t){var r=y(e),n=b(t,!0);if(r!==F||!l(z,n)||l(Z,n)){var o=G(r,n);return!o||!l(z,n)||l(r,T)&&r[T][n]||(o.enumerable=!0),o}},le=function(e){var t=Q(y(e)),r=[];return J(t,(function(e){l(z,e)||l(M,e)||r.push(e)})),r},pe=function(e){var t=e===F,r=Q(t?Z:y(e)),n=[];return J(r,(function(e){!l(z,e)||t&&!l(F,e)||n.push(z[e])})),n};(c||(I((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),r=function(e){this===F&&r.call(Z,e),l(this,T)&&l(this[T],t)&&(this[T][t]=!1),oe(this,t,g(1,e))};return s&&ne&&oe(F,t,{configurable:!0,set:r}),ie(t,e)}).prototype,"toString",(function(){return H(this).tag})),I(L,"withoutSetter",(function(e){return ie(N(e),e)})),x.f=ue,P.f=se,k.f=fe,w.f=j.f=le,S.f=pe,U.f=function(e){return ie(E(e),e)},s&&(V(L.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||I(F,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:L}),J(O(te),(function(e){_(e)})),n({target:W,stat:!0,forced:!c},{for:function(e){var t=String(e);if(l($,t))return $[t];var r=L(t);return $[t]=r,ee[r]=t,r},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(l(ee,e))return ee[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?m(e):ce(m(e),t)},defineProperty:se,defineProperties:ce,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(h(e))}}),X)&&n({target:"JSON",stat:!0,forced:!c||f((function(){var e=L();return"[null]"!=X([e])||"{}"!=X({a:e})||"{}"!=X(Object(e))}))},{stringify:function(e,t,r){for(var n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t,(d(t)||void 0!==e)&&!ae(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ae(t))return t}),o[1]=t,X.apply(null,o)}});L.prototype[B]||C(L.prototype,B,L.prototype.valueOf),A(L,W),M[T]=!0},rGXy:function(e,t,r){"use strict";var n=r("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getWXConfig=function(){return d.apply(this,arguments)};var o=n(r("o0o1")),i=n(r("lSNA")),a=n(r("QILm"));r("ls82");var s=n(r("yXPU")),c=r("0QFe"),u=n(r("m4Ii"));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={messageText:{type:"string",required:!0},recipientUsername:{type:"string",required:!0},imageUrl:{type:"string"},attachmentId:{type:"number"}};function d(){return(d=(0,s.default)(o.default.mark((function e(){var t,r,n,i,s,f,d,v,h=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},e.prev=1,r=t.params,n=void 0===r?{}:r,i=t.data,s=void 0===i?{}:i,f=(0,a.default)(t,["params","data"]),d=l(l({url:"/apiv3/offiaccount/jssdk",method:"GET",params:n,data:s},f),{},{validateRules:p}),e.next=6,u.default.dispatcher(d);case 6:return v=e.sent,e.abrupt("return",v);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",(0,c.handleError)(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}}},[["1jsn",1,0,3,4,2]]]);