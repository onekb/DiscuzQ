(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[80],{"5qfE":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));r("ma9I");var n,o=r("nKUr"),i=r("lwsE"),c=r.n(i),a=r("W8MJ"),s=r.n(a),u=r("7W2i"),l=r.n(u),d=r("a1gu"),f=r.n(d),h=r("Nsbk"),v=r.n(h),p=r("q1tI"),g=r.n(p),w=(r("07d7"),r("5s+n"),r("p532"),r("R5XZ"),r("RIqP")),j=r.n(w),x=(r("Xpby"),r("L8Lu")),b=r("0w0X"),y=r("HUxe"),O=r("c7k8"),R=r("kMSe"),m=r("HkP4"),H={},k=0;var T=!1;function C(e,t){var r,i,c,a,s=e.vlist.cache;s||(s=new O.c({fixedWidth:!0,show:!1}),(a=s).getDefaultHeight=function(e){var t=e.index,r=e.data;if(!r)return 0;var n=Object(y.a)(r);return H[t]=n,n+0+10},a.rowHeight=function(e){var t=e.index,r=e.data,n=a._keyMapper(t,0);return void 0!==a._rowHeightCache[n]?a._rowHeightCache[n]:a.getDefaultHeight({index:t,data:r})},e.vlist.setCache(s));var u=Object(p.useState)([{type:"header"}].concat(j()(e.list||[]),[{type:"footer"}])),l=u[0],d=u[1],f=Object(p.useRef)(null),h=l.length,v=Object(p.useState)(!0),g=v[0],w=v[1],R=Object(p.useState)(0),C=R[0],P=R[1],E=window.innerHeight;Object(p.useEffect)((function(){d([{type:"header"}].concat(j()(e.list||[]),[{type:"footer"}]))}),[null===(r=e.list)||void 0===r?void 0:r.length]),Object(p.useEffect)((function(){M(0)}),[e.sticks]),Object(p.useEffect)((function(){f&&f.scrollToPosition(e.vlist.home||0)}),[null===(i=f)||void 0===i||null===(c=i.Grid)||void 0===c?void 0:c.getTotalRowsHeight()]);var M=function(e,t){var r;t&&(l[e]=t),null===(r=f)||void 0===r||r.recomputeRowHeights(e)},S=function(t){var r=t.index,n=l[r];return n?"header"===n.type?229+Object(y.b)(e.sticks):"footer"===n.type?60:s.rowHeight({index:r,data:n}):0},I=function(t,r,n,i){var c=i.index;i.key,i.parent,i.style;switch(t){case"header":return e.children;case"footer":return Object(o.jsx)(b.a,{noMore:e.noMore,isError:e.requestError,errorText:e.errorText,type:"line",platform:e.platform});default:return Object(o.jsx)(x.a,{data:r,isLast:c===(null===l||void 0===l?void 0:l.length)-2,measure:n,recomputeRowHeights:function(e){return M(c,e)}})}},N=function(e){var t=e.index,r=e.key,n=e.parent,i=e.style,c=l[t];return c?Object(o.jsx)(O.b,{cache:s,columnIndex:0,rowIndex:t,parent:n,children:function(e){var a=e.measure,s=e.registerChild;return Object(o.jsx)("div",{ref:s,style:i,"data-index":t,"data-key":r,"data-id":c.threadId,"data-height":H[t],children:I(c.type,c,g?a:function(){},{index:t,key:r,parent:n,style:i})},r)}},r):""},_=function(t){var r=t.scrollTop,o=t.clientHeight,i=t.scrollHeight;if(P(r),w(!(r<k)),k=r,clearTimeout(n),n=setTimeout((function(){w(!0)}),100),e.onScroll&&e.onScroll({scrollTop:r,clientHeight:o,scrollHeight:i}),0!==r&&e.vlist.setPosition(r),r+o+1e3>=i&&!T&&!e.noMore&&(T=!0,e.loadNextPage)){var c=e.loadNextPage();c?c.finally((function(){T=!1})):T=!1}};return Object(o.jsxs)("div",{className:"page",children:[Object(o.jsx)(O.d,{isRowLoaded:function(e){var t=e.index;return!!l[t]},loadMoreRows:function(){return Promise.resolve()},rowCount:h,children:function(e){var t=e.onRowsRendered,r=e.registerChild;return Object(o.jsx)(O.a,{className:"list",children:function(e){var n=e.height,i=e.width;return Object(o.jsx)(O.e,{ref:function(e){f=e,r(e)},onScroll:_,deferredMeasurementCache:s,height:n,overscanRowCount:20,onRowsRendered:function(){t.apply(void 0,arguments)},rowCount:h,rowHeight:S,rowRenderer:N,width:i})}})}}),C>2*E&&Object(o.jsx)(m.a,{showTabBar:e.showTabBar,h5:!0,onClick:function(){f&&f.scrollToPosition(0),e.vlist.setPosition(0)}})]})}var P=Object(R.c)("vlist")(Object(R.d)(Object(p.forwardRef)(C))),E=r("z/8X");function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v()(e);if(t){var o=v()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return f()(this,r)}}var S=function(e){l()(r,e);var t=M(r);function r(e){return c()(this,r),t.call(this,e)}return s()(r,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.pageData,n=e.sticks,i=e.onScroll,c=e.loadNextPage,a=e.noMore,s=e.requestError,u=e.errorText,l=e.platform;return Object(o.jsx)(P,{showTabBar:!0,list:r,sticks:n,onScroll:i,loadNextPage:c,noMore:a,requestError:s,errorText:u,platform:l,renderItem:function(e,t,r,n,i){return Object(o.jsx)(E.a,{onContentHeightChange:i,onImageReady:i,onVideoReady:i,data:e,recomputeRowHeights:i},"".concat(e.threadId,"-").concat(e.updatedAt))},children:t})}}]),r}(g.a.Component)}}]);